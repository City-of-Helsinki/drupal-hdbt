{% if 'sv' in provided_languages %}
  {% set card_tags = [{tag: 'Service in Swedish'|t({}, {'context': 'TPR unit also offers service in Swedish'})}] %}
{% endif %}

{% set card_image %}
  {% if content.picture_url_override|render %}
    {{ content.picture_url_override }}
  {% elseif content.picture_url|render %}
    {{ content.picture_url }}
  {% else %}
    {% include "@hdbt/misc/image-placeholder.twig" ignore missing %}
  {% endif %}
{% endset %}

{%
  set card_tpr_classes = [
    not unit_published ? 'card--unpublished',
    'card--tpr-teaser',
  ]
%}

{% embed '@hdbt/component/card.twig' with {
  card_modifier_class: card_tpr_classes|join(' ') ~ teaser_class,
  card_image: card_image,
  card_title: entity.label,
  card_url: unit_url,
  card_tags: card_tags,
  card_metas: [
    {
      icon: 'location',
      label: 'Address'|t,
      content: content.address,
    },
  ],
  } %}
{% endembed %}
