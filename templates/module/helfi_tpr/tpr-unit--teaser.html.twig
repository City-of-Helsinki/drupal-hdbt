{% if 'sv' in provided_languages %}
  {% set card_tags = [{tag: 'Service in Swedish'|t({}, {'context': 'TPR unit also offers service in Swedish'})}] %}
{% else %}
  {% set card_tags = false %}
{% endif %}

{% if content.picture_url_override|render %}
  {% set img_url = content.picture_url_override %}
{% elseif content.picture_url|render %}
  {% set img_url = content.picture_url %}
{% else %}
  {% set img_url = '{% include "@hdbt/misc/image-placeholder.twig" ignore missing %}' %}
{% endif %}

{% set card_image %}
  {% if content.picture_url_override|render %}
    {{ content.picture_url_override }}
  {% elseif content.picture_url|render %}
    {{ content.picture_url }}
  {% else %}
    {% include "@hdbt/misc/image-placeholder.twig" ignore missing %}
  {% endif %}
{% endset %}

{% embed '@hdbt/component/card.twig' with {
    card_modifier_class: 'card--tpr-teaser',
    card_image: card_image,
    card_title_level: 'h3',
    card_title: entity.label,
    card_url: unit_url,
    card_url_external: external,
    card_category_color: 'gold',
    card_description_html: false,
    card_helptext_html: false,
    card_tags: card_tags,
    card_metas: [
      {
        icon: 'location',
        label: 'Osoite',
        content: content.address,
      },
    ],
  } %}
{% endembed %}
