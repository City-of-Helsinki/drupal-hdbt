{#
/**
 * @file
 * Theme for service entity.
 *
 * @see hdbt_admin_tools_preprocess_tpr_service()
 */
#}

{% if view_mode != 'teaser' %}

  <article class="service service--full">

    {% embed "@hdbt/misc/lead-in.twig" with { content: content.description_summary } %}{% endembed %}

    {{ content.toc_enabled }}

    {% if content.description|render %}
      <div class="long-desc">
        {{ content.description }}
      </div>
    {% endif %}

    {% if content.errand_services|render %}
      <div class="enriched-content service__errand-services">
        {{ content.errand_services }}
      </div>
    {% endif %}

    {% if content.field_content|render|striptags|trim is not empty %}
      <div class="enriched-content components components--service">
        {{ content.field_content }}
      </div>
    {% endif %}

  </article>

{% elseif view_mode == 'teaser' %}

  <div class="service service--teaser">
    <a href="{{ url('entity.tpr_service.canonical', { 'tpr_service': entity.id() }) }}" class="service__link">
      <h3 class="service__title">
        {{ entity.label }}
      </h3>
      {% include '@hdbt/misc/icon.twig' ignore missing with {icon: 'arrow-right'} %}
    </a>
  </div>

{% endif %}
