{% set search_parent_paragraph = paragraph.getSearchParentParagraph() %}
{% set units_list = paragraph.getUnitsList() %}
{% set results_term_singular = paragraph.field_search_results_term.0.value %}
{% set results_term_plural = paragraph.field_search_results_terms.0.value %}

{% block paragraph %}
  {% embed "@hdbt/misc/component.twig" with
    {
      component_classes: [
        'component--full-width',
        'component--unit-search'
      ],
      component_title: content.field_unit_search_title,
      component_description: content.field_unit_search_description,
      component_content_class: 'unit-search',
    }
  %}
    {% block component_content %}

      {{ drupal_view('unit_search', 'block', units_list, search_parent_paragraph, results_term_singular, results_term_plural) }}

    {% endblock component_content %}
  {% endembed %}
{% endblock paragraph %}
