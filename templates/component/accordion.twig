{#
  Accordion values:
    - heading_level: 'h2'
    - heading_icon:  'person-wheelchair'
    - heading:       'The heading'
    - content:       'The content'
#}

{# For testing HDS Accordion web component #}

{#
  HDS Accordion props:

    heading: 'How to publish data?',
    headingLevel: '3',
    id: 'joku id',
    language: 'en',
    children: 'To publish your data, open your profile settings and click button "Publish".',
    border: false,
    card: false,
    size: 'm',
    initiallyOpen: true
    theme: '',
    style: { 'max-width': '360px' },
#}

{{ attach_library('hdbt/hds-accordion') }}

<div class="accordion__wrapper helfi-accordion-item" data-accordion-id="{{heading[0]['#context']['value']|clean_class}}">
  <hds-accordion card="false" border="false" closeButton="false" heading="Heading text" headingLevel="1" language="fi" size="m" id="{{heading[0]['#context']['value']|clean_class}}" initiallyOpen="true">
    {{ content|default('Missing content'|t) }}
  </hds-accordion>
</div>


{# hel.fi Accordion code: #}

{# {{ attach_library('hdbt/accordion') }}

{% set controlled_content_id = "accordion-item-content--" ~ random() %}
{% set close_button_labelled_by_id = "accordion-item__button--close--" ~ random() %}

<div class="accordion__wrapper helfi-accordion-item" data-accordion-id="{{heading[0]['#context']['value']|clean_class}}">
  <{{ heading_level|default('h2') }} class="accordion-item__header helfi-accordion__header" data-accordion-id="{{heading[0]['#context']['value']|clean_class}}">
    <button type="button" class="accordion-item__button accordion-item__button--toggle helfi-accordion__header__button" aria-expanded="true" aria-controls="{{ controlled_content_id }}">
      {% if heading_icon %}
        <div class="accordion-item__icon">
          {% include '@hdbt/misc/icon.twig' ignore missing with {icon: heading_icon} %}
        </div>
      {% endif %}
      {{ heading|default('Missing heading'|t) }}
    </button>
  </{{ heading_level|default('h2')}}>
  <div class="accordion-item__content helfi-accordion__content" id="{{ controlled_content_id }}">
    <div class="accordion-item__content__inner helfi-accordion__content__inner">

      {{ content|default('Missing content'|t) }}

      <button type="button" class="accordion-item__button accordion-item__button--close" aria-controls="{{ controlled_content_id }}" aria-labelledby="{{ close_button_labelled_by_id }}">
        <span class="is-hidden" id="{{ close_button_labelled_by_id }}">{{ 'Close element: '|t({}, {'context': 'The helper text for close accordion visibility button'}) }}{{ heading|default('Missing heading'|t) }}</span>
        {{ 'Close'|t({}, {'context': 'The text for close accordion visibility button'}) }}
      </button>
    </div>
  </div>
</div> #}
