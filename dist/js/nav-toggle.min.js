(()=>{var ne=Object.create;var B=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,ae=Object.prototype.hasOwnProperty;var T=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var oe=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of re(e))!ae.call(n,r)&&r!==t&&B(n,r,{get:()=>e[r],enumerable:!(s=se(e,r))||s.enumerable});return n};var j=(n,e,t)=>(t=n!=null?ne(ie(n)):{},oe(e||!n||!n.__esModule?B(t,"default",{value:n,enumerable:!0}):t,n));var F=T((De,N)=>{var D=[".si-toggle-container",".aca--button--desktop, .aca--button--mobile, .aca--widget--mobile, .aca--widget--desktop, #aca--widget-button-close","#telia-ace-leijuke",".humany-trigger, .humany-widget","#ed11y-panel","#sliding-popup"],q=()=>{document.querySelectorAll(D.join(",")).forEach(n=>{n.dataset.cssmenuHide=!0})},$=()=>{document.querySelectorAll(D.join(",")).forEach(n=>{delete n.dataset.cssmenuHide})},le=n=>{(n===!0?q:$)()};N.exports={setHide:le,close:q,open:$,HIDE_SELECTORS:D}});var z=T((Me,W)=>{var M=class{constructor(){this.HASH_ID=null,this.buttonSelector=null,this.buttonInstances=[],this.dropdownSelector=null,this.dropdownInstance=null,this.running=!1,this.targetNode=null,this.onOpen=null,this.onClose=null,this.lastClickedButton=null;let e=new URLSearchParams(window.location.search);this.debug=e.has("debug")&&e.get("debug")===""}isOpen(){return window.location.hash===this.HASH_ID||this.targetNode.dataset.target==="true"}simpleClose(){this.running&&(this.buttonInstances.forEach(e=>e.setAttribute("aria-expanded","false")),this.dropdownInstance?.classList.add("nav-toggle-dropdown--closed"),this.dropdownInstance?.removeAttribute("style"),this.targetNode.dataset.target="false",this.onClose&&this.onClose())}close(){if(this.simpleClose(),this.running){let e=this.lastClickedButton;this.dropdownInstance?.contains(e)&&(e=this.buttonInstances.find(t=>!this.dropdownInstance.contains(t))||null),e&&e.focus(),this.onClose&&this.onClose()}}open(){this.running&&(this.buttonInstances.forEach(e=>e.setAttribute("aria-expanded","true")),this.dropdownInstance?.classList.remove("nav-toggle-dropdown--closed"),this.targetNode.dataset.target="true",this.onOpen&&this.onOpen())}toggle(e){this.isOpen()?this.close():(this.lastClickedButton=e,this.open())}addListeners(){document.addEventListener("keydown",e=>{e.key==="Escape"&&this.isOpen()&&this.close()}),this.buttonInstances.forEach(e=>{e.addEventListener("click",()=>{this.toggle(e)})})}init({name:e,buttonSelector:t,dropdownSelector:s=null,targetSelector:r,onOpen:i,onClose:a}){if(this.name=e,this.buttonSelector=t,this.buttonInstances=Array.from(document.querySelectorAll(this.buttonSelector)),this.buttonInstances.length===0){this.running=!1,this.debug&&console.warn(`${e} buttons missing. Looking for ${this.buttonSelector}`);return}if(this.running){this.debug&&console.warn(`${e} already initiated. Is it included more than once?`);return}if(this.dropdownSelector=s,this.dropdownInstance=this.dropdownSelector?document.querySelector(this.dropdownSelector):null,this.dropdownInstance?.classList.add("nav-toggle-dropdown--closed"),this.HASH_ID=r,this.onOpen=i,this.onClose=a,this.targetNode=document.querySelector(this.HASH_ID),!this.targetNode)throw new Error(`${e} target node missing. Looking for ${this.HASH_ID}`);this.targetNode.dataset.js=!0,this.addListeners(),this.running=!0}};W.exports=()=>new M});var G=T((Ue,O)=>{(function(){var n={}.hasOwnProperty;function e(){for(var t=[],s=0;s<arguments.length;s++){var r=arguments[s];if(r){var i=typeof r;if(i==="string"||i==="number")t.push(r);else if(Array.isArray(r)){if(r.length){var a=e.apply(null,r);a&&t.push(a)}}else if(i==="object")if(r.toString===Object.prototype.toString)for(var o in r)n.call(r,o)&&r[o]&&t.push(o);else t.push(r.toString())}}return t.join(" ")}typeof O<"u"&&O.exports?(e.default=e,O.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var k=j(F()),ee=j(z());var ce=Object.prototype.toString,S=Array.isArray||function(e){return ce.call(e)==="[object Array]"};function U(n){return typeof n=="function"}function ue(n){return S(n)?"array":typeof n}function H(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function V(n,e){return n!=null&&typeof n=="object"&&e in n}function he(n,e){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(e)}var de=RegExp.prototype.test;function pe(n,e){return de.call(n,e)}var fe=/\S/;function ge(n){return!pe(fe,n)}var me={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function ve(n){return String(n).replace(/[&<>"'`=\/]/g,function(t){return me[t]})}var be=/\s*/,we=/\s+/,J=/\s*=/,_e=/\s*\}/,ye=/#|\^|\/|>|\{|&|=|!/;function xe(n,e){if(!n)return[];var t=!1,s=[],r=[],i=[],a=!1,o=!1,l="",h=0;function d(){if(a&&!o)for(;i.length;)delete r[i.pop()];else i=[];a=!1,o=!1}var f,_,c;function v(y){if(typeof y=="string"&&(y=y.split(we,2)),!S(y)||y.length!==2)throw new Error("Invalid tags: "+y);f=new RegExp(H(y[0])+"\\s*"),_=new RegExp("\\s*"+H(y[1])),c=new RegExp("\\s*"+H("}"+y[1]))}v(e||w.tags);for(var u=new C(n),g,p,b,L,A,x;!u.eos();){if(g=u.pos,b=u.scanUntil(f),b)for(var R=0,te=b.length;R<te;++R)L=b.charAt(R),ge(L)?(i.push(r.length),l+=L):(o=!0,t=!0,l+=" "),r.push(["text",L,g,g+1]),g+=1,L===`
`&&(d(),l="",h=0,t=!1);if(!u.scan(f))break;if(a=!0,p=u.scan(ye)||"name",u.scan(be),p==="="?(b=u.scanUntil(J),u.scan(J),u.scanUntil(_)):p==="{"?(b=u.scanUntil(c),u.scan(_e),u.scanUntil(_),p="&"):b=u.scanUntil(_),!u.scan(_))throw new Error("Unclosed tag at "+u.pos);if(p==">"?A=[p,b,g,u.pos,l,h,t]:A=[p,b,g,u.pos],h++,r.push(A),p==="#"||p==="^")s.push(A);else if(p==="/"){if(x=s.pop(),!x)throw new Error('Unopened section "'+b+'" at '+g);if(x[1]!==b)throw new Error('Unclosed section "'+x[1]+'" at '+g)}else p==="name"||p==="{"||p==="&"?o=!0:p==="="&&v(b)}if(d(),x=s.pop(),x)throw new Error('Unclosed section "'+x[1]+'" at '+u.pos);return Ie(ke(r))}function ke(n){for(var e=[],t,s,r=0,i=n.length;r<i;++r)t=n[r],t&&(t[0]==="text"&&s&&s[0]==="text"?(s[1]+=t[1],s[3]=t[3]):(e.push(t),s=t));return e}function Ie(n){for(var e=[],t=e,s=[],r,i,a=0,o=n.length;a<o;++a)switch(r=n[a],r[0]){case"#":case"^":t.push(r),s.push(r),t=r[4]=[];break;case"/":i=s.pop(),i[5]=r[2],t=s.length>0?s[s.length-1][4]:e;break;default:t.push(r)}return e}function C(n){this.string=n,this.tail=n,this.pos=0}C.prototype.eos=function(){return this.tail===""};C.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var s=t[0];return this.tail=this.tail.substring(s.length),this.pos+=s.length,s};C.prototype.scanUntil=function(e){var t=this.tail.search(e),s;switch(t){case-1:s=this.tail,this.tail="";break;case 0:s="";break;default:s=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=s.length,s};function I(n,e){this.view=n,this.cache={".":this.view},this.parent=e}I.prototype.push=function(e){return new I(e,this)};I.prototype.lookup=function(e){var t=this.cache,s;if(t.hasOwnProperty(e))s=t[e];else{for(var r=this,i,a,o,l=!1;r;){if(e.indexOf(".")>0)for(i=r.view,a=e.split("."),o=0;i!=null&&o<a.length;)o===a.length-1&&(l=V(i,a[o])||he(i,a[o])),i=i[a[o++]];else i=r.view[e],l=V(r.view,e);if(l){s=i;break}r=r.parent}t[e]=s}return U(s)&&(s=s.call(this.view)),s};function m(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}m.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};m.prototype.parse=function(e,t){var s=this.templateCache,r=e+":"+(t||w.tags).join(":"),i=typeof s<"u",a=i?s.get(r):void 0;return a==null&&(a=xe(e,t),i&&s.set(r,a)),a};m.prototype.render=function(e,t,s,r){var i=this.getConfigTags(r),a=this.parse(e,i),o=t instanceof I?t:new I(t,void 0);return this.renderTokens(a,o,s,e,r)};m.prototype.renderTokens=function(e,t,s,r,i){for(var a="",o,l,h,d=0,f=e.length;d<f;++d)h=void 0,o=e[d],l=o[0],l==="#"?h=this.renderSection(o,t,s,r,i):l==="^"?h=this.renderInverted(o,t,s,r,i):l===">"?h=this.renderPartial(o,t,s,i):l==="&"?h=this.unescapedValue(o,t):l==="name"?h=this.escapedValue(o,t,i):l==="text"&&(h=this.rawValue(o)),h!==void 0&&(a+=h);return a};m.prototype.renderSection=function(e,t,s,r,i){var a=this,o="",l=t.lookup(e[1]);function h(_){return a.render(_,t,s,i)}if(l){if(S(l))for(var d=0,f=l.length;d<f;++d)o+=this.renderTokens(e[4],t.push(l[d]),s,r,i);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")o+=this.renderTokens(e[4],t.push(l),s,r,i);else if(U(l)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(t.view,r.slice(e[3],e[5]),h),l!=null&&(o+=l)}else o+=this.renderTokens(e[4],t,s,r,i);return o}};m.prototype.renderInverted=function(e,t,s,r,i){var a=t.lookup(e[1]);if(!a||S(a)&&a.length===0)return this.renderTokens(e[4],t,s,r,i)};m.prototype.indentPartial=function(e,t,s){for(var r=t.replace(/[^ \t]/g,""),i=e.split(`
`),a=0;a<i.length;a++)i[a].length&&(a>0||!s)&&(i[a]=r+i[a]);return i.join(`
`)};m.prototype.renderPartial=function(e,t,s,r){if(s){var i=this.getConfigTags(r),a=U(s)?s(e[1]):s[e[1]];if(a!=null){var o=e[6],l=e[5],h=e[4],d=a;l==0&&h&&(d=this.indentPartial(a,h,o));var f=this.parse(d,i);return this.renderTokens(f,t,s,d,r)}}};m.prototype.unescapedValue=function(e,t){var s=t.lookup(e[1]);if(s!=null)return s};m.prototype.escapedValue=function(e,t,s){var r=this.getConfigEscape(s)||w.escape,i=t.lookup(e[1]);if(i!=null)return typeof i=="number"&&r===w.escape?String(i):r(i)};m.prototype.rawValue=function(e){return e[1]};m.prototype.getConfigTags=function(e){return S(e)?e:e&&typeof e=="object"?e.tags:void 0};m.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!S(e))return e.escape};var w={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){E.templateCache=n},get templateCache(){return E.templateCache}},E=new m;w.clearCache=function(){return E.clearCache()};w.parse=function(e,t){return E.parse(e,t)};w.render=function(e,t,s,r){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+ue(e)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(e,t,s,r)};w.escape=ve;w.Scanner=C;w.Context=I;w.Writer=m;var K=w;var Y=j(G()),Q=Drupal.t("Frontpage",{},{context:"Global navigation mobile menu top level"}),Se=Drupal.t("Open submenu:",{},{context:"Mobile navigation menu prefix"}),Le=Drupal.t("Open parent menu:",{},{context:"Mobile navigation menu prefix"});Array.prototype.findRecursive=function(e,t){if(!t)throw new Error("findRecursive requires parameter `childrenPropertyName`");let s=[];s=this;let r=s.find(e),i=s.filter(a=>a[t]);if(r)return r;if(i.length){let a=[];return i.forEach(o=>{a.push(...o[t])}),a.findRecursive(e,t)}};function Ee(){return this.sub_tree?.length>0}function X(){let n;try{n=new URL(this.url).pathname}catch{n=this.url}return!this.external&&this.url&&n===window.location.pathname}function Ce(){return!!this.active}function Ae(){return!!this.inPath}function Oe(){return!!this.is_injected}function Pe(){return{external:this.attributes["data-external"]||this.external||!1,protocol:this.attributes["data-protocol"]||!1}}function Re(){return!!this.attributes?.lang}function P(){return this.external?P.ICONS[this.attributes["data-protocol"]]||P.ICONS.external:!1}P.ICONS={mailto:{class:"link__type link__type--mailto",text:Drupal.t("Link opens default mail program",{},{context:"Explanation for screen-reader software that the icon visible next to this link means that the link opens default mail program."})},tel:{class:"link__type link__type--tel",text:Drupal.t("Link starts a phone call",{},{context:"Explanation for screen-reader software that the icon visible next to this link means that the link starts a phone call."})},external:{class:"link__type link__type--external",text:Drupal.t("Link leads to external service",{},{context:"Explanation for screen-reader software that the icon visible next to this link means that the link leads to an external service."})}};var Te={compileTemplates(){this.templates={panel:`
  {{#panels}}
    <section class="{{panel_class}}">
      <div class="mmenu__panel-body">
        {{#back}}
          <button class="mmenu__back">
            <span class="visually-hidden">{{openParentMenuTranslation}}</span>
            <span class="mmenu__back-wrapper">{{back}}</span>
          </button>
        {{/back}}
        <a href="{{url}}" class="mmenu__title-link{{#isInPath}} mmenu__title-link--in-path{{/isInPath}}"{{#isActive}} aria-current="page"{{/isActive}}

        {{#externalLinkAttributes.external}}
          data-external="true"
        {{/externalLinkAttributes.external}}

        {{#externalLinkAttributes.protocol}}
          data-protocol="{{externalLinkAttributes.protocol}}"
        {{/externalLinkAttributes.protocol}}

        ><span class="mmenu__link__text"

        {{#hasLang}}
          lang="{{attributes.lang}}"
        {{/hasLang}}

        >{{name}}</span>{{#externalLinkIcon}} <span class="{{class}}"></span><span class="visually-hidden">({{ text }})</span>{{/externalLinkIcon}}</a>
        {{>sub_tree}}
      </div>
      ${document.querySelector(".js-mmenu__footer")?.outerHTML}
    </section>
  {{/panels}}

  {{^panels}}
  <div class="mmenu__loading">
    <div class="hds-loading-spinner">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
  {{/panels}}
  `,list:`
    <ul class="mmenu__items">
      {{#sub_tree}}
        <li class="mmenu__item">
          <a href="{{url}}" class="mmenu__item-link{{#isInPath}} mmenu__item-link--in-path{{/isInPath}}{{#isInjected}} mmenu__item-link--injected{{/isInjected}}"{{#isActive}} aria-current="page"{{/isActive}}
          {{#externalLinkAttributes.external}}
            data-external="true"
          {{/externalLinkAttributes.external}}
          {{#externalLinkAttributes.protocol}}
            data-protocol={{externalLinkAttributes.protocol}}
          {{/externalLinkAttributes.protocol}}

          ><span class="mmenu__link__text"

          {{#hasLang}}
            lang="{{attributes.lang}}"
          {{/hasLang}}

            >{{name}}</span>{{#externalLinkIcon}} <span class="{{class}}"></span><span class="visually-hidden">({{ text }})</span>{{/externalLinkIcon}}
          </a>
          {{#button}}
            <button class="mmenu__forward " value={{id}}><span class="visually-hidden">{{openSubMenuTranslation}} {{name}}</span></button>
          {{/button}}
        </li>
      {{/sub_tree}}
    </ul>
   `}},menu:null,templates:null,SCROLL_TRESHOLD:100,size:10,running:!1,data:null,currentIndex:0,cacheKey:"hdbt-mobile-menu",enableCache:!1,selectors:{container:"#mmenu",rootId:"mmenu__panels",forward:"mmenu__forward",back:"mmenu__back"},getAPIUrl(){let n=new URL(drupalSettings?.helfi_navigation?.links?.api);return n.searchParams.set("_format","json"),n.searchParams.set("max-depth",drupalSettings?.menu_depth),n.toString()},getRoot(){return document.getElementById(this.selectors.rootId)},sortPanelsByPath(){let n=[],e=this.data,t=e.findRecursive(r=>X.call(r),"sub_tree"),s=t?.sub_tree?.length?t.id:t?.parentId;for(;s;)e.findRecursive(({id:i,url:a,name:o,sub_tree:l,parentId:h,inPath:d,active:f})=>i===s?(n.push({sub_tree:l,name:o,url:a,parentId:h,inPath:d,active:f}),s=h,!0):!1,"sub_tree")||(s=void 0);n.push({sub_tree:e,inPath:!0}),n.reverse(),this.currentIndex=n.length-1,this.content=[...n]},content:[],getView(n){return this.content.map((e,t)=>({...e,name:e?.name||Q,url:e.url||drupalSettings.helfi_navigation.links.canonical,button:Ee,isActive:Ce,isInPath:Ae,isInjected:Oe,externalLinkAttributes:Pe,hasLang:Re,externalLinkIcon:P,back:t>0?this.content.at(t-1)?.name??Q:!1,openSubMenuTranslation:Se,openParentMenuTranslation:Le,panel_class:(0,Y.default)({mmenu__panel:!0,"mmenu__panel--visible":!0,"mmenu__panel--current":t===this.currentIndex,"mmenu__panel--visible-right":n==="start"&&t>this.currentIndex||n==="up"&&t>=this.currentIndex||n==="down"&&t>this.currentIndex+1,"mmenu__panel--visible-left":n==="up"&&t<this.currentIndex-1||n==="down"&&t<=this.currentIndex})}))},up(n){if(!n)throw new Error(`Id missing for next menu item  ${n}`);let e=this.content.at(this.currentIndex).sub_tree.find(({id:t})=>t===n);if(!e)throw new Error(`ID mismatch in menu items${n}`);this.currentIndex=this.currentIndex+1<this.size?this.currentIndex+1:this.currentIndex,this.content[this.currentIndex]=e,this.render("up")},down(){this.currentIndex!==0&&(this.currentIndex=this.currentIndex-1>=0?this.currentIndex-1:this.currentIndex,this.render("down"))},render(n){let e=this.getRoot();if(e.innerHTML=K.render(this.templates.panel,{panels:this.getView(n)},{sub_tree:this.templates.list}),n==="load")return;let t=[...e.querySelectorAll(".mmenu__panel")],s=t.at(this.currentIndex);e.parentElement.scrollTop>this.SCROLL_TRESHOLD&&this.currentIndex>0&&s.querySelector(".mmenu__back").scrollIntoView({block:"start",behaviour:"smooth"}),setTimeout(()=>{switch(s.classList.remove("mmenu__panel--visible-right","mmenu__panel--visible-left"),n){case"up":t.at(this.currentIndex-1).classList.add("mmenu__panel--visible-left");break;case"down":t.at(this.currentIndex+1).classList.add("mmenu__panel--visible-right");break;default:}setTimeout(()=>{t.forEach(r=>{r.classList.contains("mmenu__panel--current")||(r.style.visibility="hidden")})},200)},10)},async load(){let e=await(await fetch(this.getAPIUrl())).json(),t=Object.getOwnPropertyNames(e);if(!t.length)throw new Error("No instances found in data",e);let s=t.map(a=>{let o=e[a].menu_tree[0];return o.parentId="",o}),r=s.findRecursive(a=>X.call(a),"sub_tree");r&&(r.active=!0,r.inPath=!0);let i=r?.parentId;for(;i;)s.findRecursive(o=>o.id===i?(i=o.parentId,o.inPath=!0,!0):!1,"sub_tree")||(i=void 0);this.data=s},async start(){let n=document.querySelector(this.selectors.container);if(!this.getRoot()||!n)throw new Error("Panel root not found");n.classList.add("mmenu--visible"),this.render("load");try{await this.load()}catch(e){console.error("Unable to load menu API, using fallback menu instead",e),this.enableFallback();return}this.sortPanelsByPath(),this.render("start"),this.getRoot().addEventListener("click",e=>{let{target:{classList:t,value:s,parentElement:r}}=e;e.stopImmediatePropagation(),t&&t.contains(this.selectors.forward)?this.up(s):(t&&t.contains(this.selectors.back)||r?.classList&&r?.classList.contains(this.selectors.back))&&this.down()})},isOpen(){return window.location.hash==="#menu"||this.toggleButton.getAttribute("aria-expanded")==="true"},disableFallback(){this.menu.dataset.js=!0},enableFallback(){this.menu.dataset.target="false",this.getRoot().innerHTML="",delete this.menu.dataset.js,window.location.hash="#menu"},close(){this.toggleButton.setAttribute("aria-expanded","false"),this.menu.dataset.target="false",this.onClose&&this.onClose()},open(){this.menu.dataset.target="true",this.toggleButton.setAttribute("aria-expanded","true"),this.onOpen&&this.onOpen()},toggle(){this.isOpen()?this.close():this.open(),this.toggleButton.focus()},init({onOpen:n,onClose:e}){if(this.running){console.warn("MobilePanel already initiated. Is it include more than once?");return}if(this.onOpen=n,this.onClose=e,this.toggleButton=document.querySelector(".js-menu-toggle-button"),!this.toggleButton)throw new Error("No toggle button for JS menu.");if(this.menu=document.querySelector("#menu"),!this.menu){console.error("Panel not present in DOM. Cannot start JS mobile menu");return}this.disableFallback(),document.addEventListener("keydown",s=>{s.key==="Escape"&&this.isOpen()&&(this.close(),this.toggleButton.focus())});let t=()=>{this.compileTemplates(),this.toggleButton.removeEventListener("click",t),this.start()};this.toggleButton.addEventListener("click",t),this.toggleButton.addEventListener("click",()=>this.toggle()),this.isOpen()&&(window.location.hash="",t(),this.open()),this.running=!0}},Z=Te;(n=>{n.behaviors.navToggle={attach(e,t){if(window.navToggleInitialized&&e===document)return;let s={},r=t.hdbt.global_menu?Z:!1;if(t.hdbt.profile_dropdown&&(s.ProfileDropdown="profile"),t.hdbt.search_dropdown&&(s.SearchDropdown="search"),t.hdbt.otherlangs_dropdown&&(s.OtherLangsDropdown="otherlangs"),r||(s.CssMenuDropdownDropdown="cssmenu"),t.hdbt.language_toast_dropdown){let c=t.hdbt.current_language;["fi","sv","en"].forEach(u=>{if(u!==c){let g=`LanguageToast${u.charAt(0).toUpperCase()}${u.slice(1)}`;s[g]=`language-toast--${u}`}})}let i=c=>c.scrollWidth>c.clientWidth||c.scrollHeight>c.clientHeight,a=()=>window.matchMedia("(max-width: 768px)").matches,o=s,l=Object.keys(o);l.forEach(c=>{let v=o[c];o[c]=(0,ee.default)(),o[c].init({buttonSelector:`.js-${v}-button`,dropdownSelector:`.js-${v}-dropdown`,name:`${v} dropdown`,onClose:k.open,onOpen:()=>{if(l.forEach(u=>{u!==c&&o[u].simpleClose()}),r&&r.close(),(0,k.close)(),c==="SearchDropdown"&&window.setTimeout(()=>document.querySelector('.header-search-wrapper input[type="search"]')?.focus(),10),c.startsWith("LanguageToast")){let u=o[c],g=u?.dropdownInstance?.parentElement;g&&(g.onfocusout=null,g.addEventListener("focusout",()=>{setTimeout(()=>{let p=document.activeElement;g.contains(p)||u.simpleClose()},10)}))}},targetSelector:`#${v}`})}),r&&r.init({onOpen:()=>{l.forEach(c=>{o[c].close()}),(0,k.close)()},onClose:k.open});let h=()=>l.some(c=>o[c].dataset&&o[c].isOpen())||r&&r.isOpen(),d=({target:c})=>{(c.closest(".desktop-menu, .header-top")||!c.closest(".header"))&&(l.forEach(v=>{o[v].simpleClose()}),r&&r.close(),(0,k.open)())},f=c=>{if(c.touches?.length>1)return!0;let v=c.target.closest(".mmenu__panel--current, .nav-toggle-dropdown__content");if(a()&&h()&&(!c.target.closest(".nav-toggle-dropdown")||v&&!i(v)))return c.preventDefault(),c.stopPropagation(),!1};e.addEventListener("click",d);let _=document.querySelector("body");_.addEventListener("wheel",f,{passive:!1}),_.addEventListener("scroll",f,{passive:!1}),_.addEventListener("touchmove",f,{passive:!1}),window.navToggleInitialized=!0}}})(Drupal);})();
