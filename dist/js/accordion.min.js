!function(){"use strict";var e={8529:function(e,t,i){i.d(t,{Z:function(){return o}});var s=i(5197);class o{static accordionItemElement="helfi-accordion-item";static toggleElement="accordion-item__button--toggle";static closeElement="accordion-item__button--close";static ariaExpandedElements=["accordion-item__button--toggle","accordion-item__button--close"];static contentElement="accordion-item__content";constructor(e,t){this.element=e,this.id=(0,s._l)(e.querySelector(".helfi-accordion__header").id),this.localState=t,this.isOpen=this.localState.loadItemState(this.id),this.setHidden(),this.addEventListeners(),setTimeout((()=>{this.handleLinkAnchor(),this.setAriaOpen()}),100)}open=()=>{this.isOpen=!0,this.setAriaOpen(),this.setHidden(),this.localState.saveItemState(this.id,this.isOpen)};close=()=>{this.isOpen=!1,this.setAriaOpen(),this.changeFocus(),this.setHidden(),this.localState.saveItemState(this.id,this.isOpen)};toggle=e=>{o.isClick(e.which)&&(this.isOpen?this.close():this.open())};handleLinkAnchor=()=>{const{hash:e}=window.location;e&&this.element.querySelector(e)&&(this.open(),this.element.scrollIntoView())};setAriaOpen=()=>{o.ariaExpandedElements.forEach((e=>{this.element.getElementsByClassName(e)[0].setAttribute("aria-expanded",this.isOpen)}))};setHidden=()=>{const e=this.element.getElementsByClassName(o.contentElement)[0];this.isOpen?e.classList.remove("is-hidden"):e.classList.add("is-hidden")};changeFocus=()=>{this.element.querySelector(`.${o.toggleElement}`).focus()};addEventListeners=()=>{this.element.getElementsByClassName(o.toggleElement)[0].addEventListener("mouseup",this.toggle),this.element.getElementsByClassName(o.toggleElement)[0].addEventListener("keypress",this.toggle),this.element.getElementsByClassName(o.closeElement)[0].addEventListener("mouseup",this.close),this.element.getElementsByClassName(o.closeElement)[0].addEventListener("keypress",this.close)};static isClick(e){return 1===e||13===e||32===e}getId=()=>this.id}},4670:function(e,t,i){i.d(t,{Z:function(){return o}});var s=i(8529);class o{static accordionWrapper="component--accordion";constructor(e,t){this.accordion=e,this.localState=t,this.accordionItems=[],this.getAccordionLocalState(),this.initializeAccordion()}initializeAccordion=()=>{Array.from(this.accordion.getElementsByClassName(s.Z.accordionItemElement)).forEach((e=>{const t=new s.Z(e,this.localState);this.accordionItems.push(t)}))};getAccordionLocalState=()=>{this.state=localStorage.getItem(o.localStateKey)};getAccordionItemById=e=>this.accordionItems.find((t=>t.getId()===e))}},1077:function(e,t,i){i.d(t,{Z:function(){return s}});class s{constructor(){this.site=window.drupalSettings.path.pathPrefix.match("/(.*?)/").shift().replaceAll("/",""),this.page=window.drupalSettings.path.currentPath;const e=JSON.parse(localStorage.getItem(this.getStorageKey()));null===e?(this.siteAccordionStates={},this.siteAccordionStates[this.page]={},this.pageAccordionStates={}):(this.siteAccordionStates=e,this.pageAccordionStates=void 0===this.siteAccordionStates[this.page]?{}:this.siteAccordionStates[this.page])}getStorageKey=()=>`${this.site}-accordion`;saveItemState=(e,t)=>{this.siteAccordionStates[this.page][e]=t,localStorage.setItem(this.getStorageKey(),JSON.stringify(this.siteAccordionStates))};loadItemState=e=>!!this.siteAccordionStates&&(void 0!==this.pageAccordionStates[e]&&this.pageAccordionStates[e])}},5197:function(e,t,i){function s(e){return e.trim().toLowerCase().replace(/ä/gi,"a").replace(/ö/gi,"o").replace(/å/gi,"a").replace(/\W/g,"-").replace(/-(\d+)$/g,"_$1")}function o(e,t,i=1){let s="";const n=e.match(".{2}$");return s=null!==n&&["_1","_2","_3","_4","_5","_6","_7","_8","_9"].includes(n[0])?`${e.slice(0,-2)}_${i}`:`${e}_${i}`,t.includes(s)?o(s,t,i+1):s}function n(e){return e.reduce(((e,t)=>{const i=s(t),n=e.includes(i)?o(i,e):i;return e.push(n),e}),[])}i.d(t,{QZ:function(){return n},_l:function(){return s}})}},t={};function i(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,i),n.exports}i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=i(4670),t=i(1077),s=i(5197);const o=document.querySelectorAll(`.${e.Z.accordionWrapper}`),n=[...o].map((e=>Array.from(e.getElementsByClassName("helfi-accordion-item")).map((e=>e.dataset.accordionId)))).reduce(((e,t)=>e.concat(...t)),[]),c=(0,s.QZ)(n);[...o].map((e=>Array.from(e.getElementsByClassName("helfi-accordion-item")))).reduce(((e,t)=>e.concat(...t)),[]).forEach(((e,t)=>{e.querySelector(".helfi-accordion__header").setAttribute("id",c[t])})),window.addEventListener("hashchange",(e=>{const{hash:t}=window.location;window.helfiAccordions.forEach((e=>{const i=e.getAccordionItemById(t.replace("#",""));i&&i.open()}))})),window.helfiAccordions=[];const a=new t.Z;document.querySelectorAll(`.${e.Z.accordionWrapper}`).forEach((t=>{const i=new e.Z(t,a);window.helfiAccordions.push(i)}))}()}();