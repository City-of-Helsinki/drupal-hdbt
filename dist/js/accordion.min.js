!function(){"use strict";var t={8529:function(t,e,i){i.d(e,{Z:function(){return s}});class s{static accordionItemElement="helfi-accordion-item";static toggleElement="accordion-item__button--toggle";static closeElement="accordion-item__button--close";static ariaExpandedElements=["accordion-item__button--toggle","accordion-item__button--close"];static contentElement="accordion-item__content";constructor(t,e){this.element=t,this.id=t.querySelector("h2").id,this.localState=e,this.isOpen=this.localState.loadItemState(this.id),this.setHidden(),this.addEventListeners(),setTimeout((()=>{this.handleLinkAnchor(),this.setAriaOpen()}),100)}open=()=>{this.isOpen=!0,this.setAriaOpen(),this.setHidden(),this.localState.saveItemState(this.id,this.isOpen)};close=()=>{this.isOpen=!1,this.setAriaOpen(),this.changeFocus(),this.setHidden(),this.localState.saveItemState(this.id,this.isOpen)};toggle=t=>{s.isClick(t.which)&&(this.isOpen?this.close():this.open())};handleLinkAnchor=()=>{const{hash:t}=window.location;t&&this.element.querySelector(t)&&(this.open(),this.element.scrollIntoView())};setAriaOpen=()=>{s.ariaExpandedElements.forEach((t=>{this.element.getElementsByClassName(t)[0].setAttribute("aria-expanded",this.isOpen)}))};setHidden=()=>{const t=this.element.getElementsByClassName(s.contentElement)[0];this.isOpen?t.classList.remove("is-hidden"):t.classList.add("is-hidden")};changeFocus=()=>{this.element.querySelector(`.${s.toggleElement}`).focus()};addEventListeners=()=>{this.element.getElementsByClassName(s.toggleElement)[0].addEventListener("mousedown",this.toggle),this.element.getElementsByClassName(s.toggleElement)[0].addEventListener("keypress",this.toggle),this.element.getElementsByClassName(s.closeElement)[0].addEventListener("mousedown",this.close),this.element.getElementsByClassName(s.closeElement)[0].addEventListener("keypress",this.close)};static isClick(t){return 1===t||13===t||32===t}}},4670:function(t,e,i){i.d(e,{Z:function(){return n}});var s=i(8529);class n{static accordionWrapper="component--accordion";constructor(t,e){this.accordion=t,this.localState=e,this.accordionItems=[],this.getAccordionLocalState(),this.initializeAccordion()}initializeAccordion=()=>{Array.from(this.accordion.getElementsByClassName(s.Z.accordionItemElement)).forEach((t=>{const e=new s.Z(t,this.localState);this.accordionItems.push(e)}))};getAccordionLocalState=()=>{this.state=localStorage.getItem(n.localStateKey)}}},1077:function(t,e,i){i.d(e,{Z:function(){return s}});class s{constructor(){this.site=window.drupalSettings.path.pathPrefix.match("/(.*?)/")[0],this.page=window.drupalSettings.path.currentPath;const t=JSON.parse(localStorage.getItem(this.getStorageKey()));null===t?this.siteAccordionStates[this.page]={}:(this.siteAccordionStates=t,this.pageAccordionStates=void 0===this.siteAccordionStates[this.page]?{}:this.siteAccordionStates[this.page])}getStorageKey=()=>`${this.site}-accordion`;saveItemState=(t,e)=>{this.siteAccordionStates[this.page][t]=e,localStorage.setItem(this.getStorageKey(),JSON.stringify(this.siteAccordionStates))};loadItemState=t=>!!this.siteAccordionStates&&(void 0!==this.pageAccordionStates[t]&&this.pageAccordionStates[t])}},5197:function(t,e,i){function s(t,e,i=1){let n="";const o=t.match(".{2}$");return n=null!==o&&["_1","_2","_3","_4","_5","_6","_7","_8","_9"].includes(o[0])?`${t.slice(0,-2)}_${i}`:`${t}_${i}`,e.includes(n)?s(n,e,i+1):n}function n(t){return t.reduce(((t,e)=>{const i=t.includes(e)?s(e,t):e;return t.push(i),t}),[])}i.d(e,{Q:function(){return n}})}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,i),o.exports}i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t=i(4670),e=i(1077),s=i(5197);const n=document.querySelectorAll(`.${t.Z.accordionWrapper}`),o=[...n].map((t=>Array.from(t.getElementsByClassName("helfi-accordion-item")).map((t=>t.dataset.accordionId)))).reduce(((t,e)=>t.concat(...e)),[]),c=(0,s.Q)(o);[...n].map((t=>Array.from(t.getElementsByClassName("helfi-accordion-item")))).reduce(((t,e)=>t.concat(...e)),[]).forEach(((t,e)=>{t.querySelector("h2").setAttribute("id",c[e])})),window.helfiAccordions=[];const a=new e.Z;document.querySelectorAll(`.${t.Z.accordionWrapper}`).forEach((e=>{const i=new t.Z(e,a);window.helfiAccordions.push(i)}))}()}();