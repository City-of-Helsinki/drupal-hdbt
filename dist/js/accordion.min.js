!function(){"use strict";var e={8529:function(e,t,s){s.d(t,{Z:function(){return i}});class i{static accordionItemElement="helfi-accordion-item";static toggleElement="accordion-item__button--toggle";static closeElement="accordion-item__button--close";static ariaExpandedElements=["accordion-item__button--toggle"];static contentElement="accordion-item__content";constructor(e,t,s,i){this.element=e,this.localState=t,this.parentCallback=i,this._id=e.querySelector(".helfi-accordion__header").id,this._isOpen=this.localState.loadItemState(this._id),this.element.style="--js-accordion-open-time:0s",this.setHidden(),this.addEventListeners(),this.handleLinkAnchor(s),this.setAriaOpen(),this.element.style=null}open=()=>{this._isOpen=!0,this.setAriaOpen(),this.setHidden(),this.parentCallback(),this.localState.saveItemState(this.id,this.isOpen)};close=()=>{this._isOpen=!1,this.setAriaOpen(),this.changeFocus(),this.setHidden(),this.parentCallback(),this.localState.saveItemState(this.id,this.isOpen)};closeWithoutFocus=()=>{this._isOpen=!1,this.setAriaOpen(),this.setHidden(),this.parentCallback(),this.localState.saveItemState(this.id,this.isOpen)};toggle=e=>{i.isClick(e.which)&&(this.isOpen?this.close():this.open())};handleLinkAnchor=e=>{if(!e)return;const t=this.element.querySelector(e);t&&(this.open(),t.scrollIntoView())};setAriaOpen=()=>{i.ariaExpandedElements.forEach((e=>{this.element.getElementsByClassName(e)[0].setAttribute("aria-expanded",this.isOpen)}))};setHidden=()=>{const e=this.element.getElementsByClassName(i.contentElement)[0];this.isOpen?e.classList.remove("is-hidden"):e.classList.add("is-hidden")};changeFocus=()=>this.element.querySelector(`.${i.toggleElement}`).focus();addEventListeners=()=>{const e=this.element.getElementsByClassName(i.toggleElement)[0];e.addEventListener("mouseup",this.toggle),e.addEventListener("keypress",this.toggle);const t=this.element.getElementsByClassName(i.closeElement)[0];t.addEventListener("mouseup",this.close),t.addEventListener("keypress",this.close)};static isClick(e){return 1===e||13===e||32===e}get id(){return this._id}get isOpen(){return this._isOpen}}},9408:function(e,t,s){s.d(t,{Z:function(){return n}});var i=s(8529);class n{constructor(){n.handleTableOfContentsHash()}static handleTableOfContentsHash=()=>{window.addEventListener("hashchange",(()=>{const{hash:e}=window.location;let t=!1;if(window.helfiAccordions.forEach((s=>{const i=s.getAccordionItemById(e.replace("#",""));i&&(t=!0,i.handleLinkAnchor(e))})),!t){const t=document.querySelector(`${e}`);if(!t)return;const s=t.closest(`.${i.Z.accordionItemElement}`);s&&window.helfiAccordions.forEach((e=>{const t=s.querySelector(".helfi-accordion__header").id,i=e.getAccordionItemById(t);i&&i.handleLinkAnchor()}))}}))}}},4670:function(e,t,s){s.d(t,{Z:function(){return l}});var i=s(8529),n=s(1182),o=s(1077);class l{static accordionWrapper="component--accordion";static toggleAllElement="js-accordion__button--toggle-all";static toggleAllOpen="accordion__button--is-open";static toggleAllClosed="accordion__button--is-closed";static headerlessTypes=["headerless","hardcoded"];constructor(e,t,s,i="default"){this.type=i,this.isSingleItemAccordion=!1,this.currentLanguage=o.Z.getCurrentLanguage(),this.accordion=e,this.localState=t,this.accordionItems=[],this.childAccordion=null,this.urlHash=s,this.initializeAccordion(s),this.addEventListeners(),this.showToggleButton(),this.updateToggleButtonLabel()}initializeAccordion=()=>{const e=this.accordion.getElementsByClassName(i.Z.accordionItemElement);this.isSingleItemAccordion=1===e.length,Array.from(e).forEach((e=>{this.accordionItems.push(new i.Z(e,this.localState,this.urlHash,this.updateToggleButtonLabel))}))};addEventListeners=()=>{if(l.isHeaderless(this.type)||this.isSingleItemAccordion)return;const e=this.accordion.getElementsByClassName(l.toggleAllElement)[0];e.addEventListener("mouseup",this.toggleItems),e.addEventListener("keypress",this.toggleItems)};addChildAccordion=e=>{this.childAccordion=e};showToggleButton=()=>{l.isHeaderless(this.type)||this.isSingleItemAccordion?this.accordion.getElementsByClassName(l.toggleAllElement)[0]?.classList.add("is-hidden"):this.accordion.getElementsByClassName(l.toggleAllElement)[0]?.classList.remove("is-hidden")};updateToggleButtonLabel=()=>{const e=this.accordion.getElementsByClassName(l.toggleAllElement)[0];e&&(this.areAllItemsOpen()?e.querySelector("span").textContent=n.Z.close_all?.[this.currentLanguage]??n.Z.close_all.en:e.querySelector("span").textContent=n.Z.open_all?.[this.currentLanguage]??n.Z.open_all.en,this.toggleAllLabelUpdate())};getAccordionItemById=e=>this.accordionItems.find((t=>t.id===e));toggleItems=()=>this.areAllItemsOpen()?this.closeAll():this.openAll();openAll=()=>{this.accordionItems.forEach((e=>e.open())),this.childAccordion?.openAll(),this.updateToggleButtonLabel(),this.toggleAllLabelUpdate()};closeAll=()=>{this.accordionItems.forEach((e=>e.closeWithoutFocus())),this.childAccordion?.closeAll(),this.updateToggleButtonLabel(),this.toggleAllLabelUpdate();this.accordion.getElementsByClassName(l.toggleAllElement)[0].focus()};toggleAllLabelUpdate=()=>{const e=this.accordion.getElementsByClassName(l.toggleAllElement)[0];e&&this.areAllItemsOpen()?(e.classList.remove(l.toggleAllClosed),e.classList.add(l.toggleAllOpen)):(e.classList.remove(l.toggleAllOpen),e.classList.add(l.toggleAllClosed))};areAllItemsOpen=()=>this.accordionItems?.every((e=>e.isOpen))&&this.areChildItemsOpen();areChildItemsOpen=()=>this.childAccordion?.areAllItemsOpen()??this.accordionItems?.every((e=>e.isOpen));static isHeaderless=e=>l.headerlessTypes.includes(e);isHardcoded=()=>"hardcoded"===this.type}},1077:function(e,t,s){s.d(t,{Z:function(){return i}});class i{constructor(){void 0!==window.drupalSettings.helfi_instance_name&&(this.site=window.drupalSettings.helfi_instance_name),this.page=window.drupalSettings.path.currentPath;const e=JSON.parse(localStorage.getItem(this.getStorageKey()));null===e?(this.siteAccordionStates={},this.siteAccordionStates[this.page]={},this.pageAccordionStates={}):(this.siteAccordionStates=e,this.siteAccordionStates[this.page]=void 0===this.siteAccordionStates[this.page]?{}:this.siteAccordionStates[this.page],this.pageAccordionStates=this.siteAccordionStates[this.page])}getStorageKey=()=>`${this.site}-accordion`;saveItemState=(e,t)=>{if(void 0===this.site)return!1;this.siteAccordionStates[this.page][e]=t,localStorage.setItem(this.getStorageKey(),JSON.stringify(this.siteAccordionStates))};loadItemState=e=>void 0!==this.site&&(void 0!==this.pageAccordionStates[e]&&this.pageAccordionStates[e]);static getCurrentLanguage=()=>window.drupalSettings.path.currentLanguage}},1182:function(e,t){t.Z={open_all:{fi:"Avaa kaikki",en:"Open all",sv:"Öppna alla"},close_all:{fi:"Sulje kaikki",en:"Close all",sv:"Stäng alla"}}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=s(4670),t=s(1077),i=s(9408);window.helfiAccordions=[];const n=new t.Z,{hash:o}=(new i.Z,window.location),l=document.body;new MutationObserver(((t,s)=>{const i=document.querySelectorAll(`.${e.Z.accordionWrapper}`);if(i.length>window.helfiAccordions.length)try{i.forEach(((t,s)=>{const i=(l=Array.from(t.classList)).includes("component--no-header")?"headerless":l.includes("component--hardcoded")?"hardcoded":"default";var l;const a=e.Z.isHeaderless(i),c=0===s&&"hardcoded"!==i?"default":i,r=new e.Z(t,n,o,c);window.helfiAccordions.push(r),!r.isHardcoded(i)&&a&&s>0&&window.helfiAccordions[s-1].addChildAccordion(r)}))}catch(e){console.log(e),s.disconnect()}})).observe(l,{attributes:!0,childList:!0,subtree:!0})}()}();