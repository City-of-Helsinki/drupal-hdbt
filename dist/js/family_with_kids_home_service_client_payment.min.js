!function(){"use strict";var e={getFormData:function(e,t){return{form_id:e,has_required_fields:!0,items:[{input_integer:{id:"household_size",label:t("household_size"),unit:t("unit_person"),min:1,max:6,size:2,required:!0,helper_text:t("household_size_explanation")}},{input_float:{id:"gross_income_per_month",label:t("gross_income_per_month"),unit:t("unit_euro"),min:0,size:8,required:!1,strip:"[€eE ]",helper_text:t("gross_income_per_month_explanation")}},{input_integer:{id:"monthly_usage",label:t("monthly_usage"),unit:t("unit_hour"),min:0,max:744,size:3,required:!0,helper_text:t("monthly_usage_explanation")}}]}}};var t={household_size:{fi:"Perheen koko",sv:null,en:null},household_size_explanation:{fi:"Samassa osoitteessa asuvien aikuisten ja alaikäisten lasten määrä.",sv:null,en:null},gross_income_per_month:{fi:"Perheen tulot kuukaudessa",sv:null,en:null},gross_income_per_month_explanation:{fi:"Koko perheen yhteenlasketut ansio- ja pääomatulot sekä etuudet ennen verojen vähentämistä. Jos jätät kentän tyhjäksi, lasketaan arvio korkeimman maksun mukaisesti.",sv:null,en:null},monthly_usage:{fi:"Palvelutunteja kuukaudessa",sv:null,en:null},monthly_usage_explanation:{fi:"Löydät tuntimäärän kotipalvelun päätöksestä.",sv:null,en:null},receipt_estimate_of_payment:{fi:"Arvio lapsiperheiden kotipalvelun asiakasmaksusta",sv:null,en:null},receipt_estimated_payment_prefix:{fi:"Arvioitu asiakasmaksu on",sv:null,en:null},receipt_estimated_payment_suffix:{fi:"euroa kuukaudessa.",sv:null,en:null},receipt_estimated_payment_explanation:{fi:"Tämä arvio on suuntaa antava. Tarkan asiakasmaksun saat kotipalvelun päätöksessä.",sv:null,en:null},receipt_additional_details:{fi:"Lisähuomiot:",sv:null,en:null},receipt_additional_detail:{fi:"Lapsiperheiden kotipalvelusta laskutetaan käytetyn palvelun perusteella tuntihinnan mukaan.",sv:null,en:null},receipt_aria_live:{fi:"Arvioitu asiakasmaksu on ${payment} euroa kuukaudessa, lue lisätietoja lomakkeen alta.",sv:null,en:null}};class a{constructor(a,i){this.id=a;const l=JSON.parse(i),s=()=>{const e=[];if(e.push(...this.calculator.validateBasics("household_size")),e.push(...this.calculator.validateBasics("gross_income_per_month")),e.push(...this.calculator.validateBasics("monthly_usage")),e.length)return{error:{title:this.t("missing_input"),message:e}};const t=Number(this.calculator.getFieldValue("household_size")),a=Number(this.calculator.getFieldValue("gross_income_per_month")),i=this.calculator.getFieldValue("gross_income_per_month"),s=Number(this.calculator.getFieldValue("monthly_usage")),n=l.income_limit[t],{max:u,percent:o}=this.calculator.getMinimumRange(s,l.monthly_usage);let r=u;null!==i&&(r=o/100*(a-n)),r=this.calculator.clamp(0,Math.round(100*r)/100,u);const _={id:this.id,title:this.t("receipt_estimate_of_payment"),total_prefix:this.t("receipt_estimated_payment_prefix"),total_value:this.calculator.formatFinnishEuroCents(r),total_suffix:this.t("receipt_estimated_payment_suffix"),total_explanation:this.t("receipt_estimated_payment_explanation"),hr:!0,breakdown:{title:null,subtotals:null,additional_details:{title:this.t("receipt_additional_details"),text:this.t("receipt_additional_detail")}}};return{receipt:this.calculator.getPartialRender("{{>receipt}}",_),ariaLive:this.t("receipt_aria_live",{payment:r})}},n={submit:e=>{this.calculator.clearResult(),e.preventDefault();const t=s();this.calculator.renderResult(t)},reset:()=>{this.calculator.clearResult(),this.calculator.showAriaLiveText(this.t("reset_aria_live"))}};this.calculator=window.HelfiCalculator({name:"home_care_client_payment",translations:t}),this.t=(e,t)=>this.calculator.translate(e,t),this.settings=this.calculator.parseSettings(i),this.calculator.init({id:a,formData:(()=>e.getFormData(this.id,this.t))(),eventHandlers:n})}}window.helfi_calculator=window.helfi_calculator||{},window.helfi_calculator.family_with_kids_home_service_client_payment=(e,t)=>new a(e,t)}();