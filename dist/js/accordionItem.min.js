(()=>{var e=Object.defineProperty;var t=(t,s,i)=>s in t?e(t,s,{enumerable:true,configurable:true,writable:true,value:i}):t[s]=i;var s=(t,s)=>e(t,"name",{value:s,configurable:true});var i=(e,s,i)=>t(e,typeof s!=="symbol"?s+"":s,i);var n=class e{constructor(t,n,o,a){i(this,"open",s(()=>{this._isOpen=true;this.setAriaOpen();this.setHidden();this.parentCallback();this.localState.saveAccordionItemState(this.id,this.isOpen)},"open"));i(this,"close",s(()=>{this._isOpen=false;this.setAriaOpen();this.changeFocus();this.setHidden();this.parentCallback();this.localState.saveAccordionItemState(this.id,this.isOpen)},"close"));i(this,"closeWithoutFocus",s(()=>{this._isOpen=false;this.setAriaOpen();this.setHidden();this.parentCallback();this.localState.saveAccordionItemState(this.id,this.isOpen)},"closeWithoutFocus"));i(this,"toggle",s(t=>{if(!e.isClick(t.which)){return}this.isOpen?this.close():this.open()},"toggle"));i(this,"handleLinkAnchor",s(e=>{if(!e||e.length===0)return;const t=this.element.querySelector(e);if(t){this.open();t.scrollIntoView()}},"handleLinkAnchor"));i(this,"setAriaOpen",s(()=>{e.ariaExpandedElements.forEach(e=>{this.element.getElementsByClassName(e)[0].setAttribute("aria-expanded",this.isOpen)})},"setAriaOpen"));i(this,"setHidden",s(t=>{const s=this.element.closest(".accordion");const i=this.element.getElementsByClassName(e.contentElement)[0];if(t){s.style.setProperty("--js-accordion-open-time","0s");void document.body.offsetHeight;this.isOpen?i.removeAttribute("hidden"):i.hidden="until-found";setTimeout(()=>{s.style.removeProperty("--js-accordion-open-time")},10);return}if(!this.isOpen){const e=parseInt(getComputedStyle(s).getPropertyValue("--js-accordion-open-time"),10)||200;setTimeout(()=>{i.hidden="until-found"},e)}else{i.removeAttribute("hidden")}},"setHidden"));i(this,"changeFocus",s(()=>this.element.querySelector(`.${e.toggleElement}`).focus(),"changeFocus"));i(this,"addEventListeners",s(()=>{const t=this.element.getElementsByClassName(e.toggleElement)[0];t.addEventListener("mouseup",this.toggle);t.addEventListener("keypress",this.toggle);const s=this.element.getElementsByClassName(e.closeElement);const i=s[s.length-1];i.addEventListener("mouseup",this.close);i.addEventListener("keypress",this.close)},"addEventListeners"));this.element=t;this.localState=n;this.parentCallback=a;this._id=t.dataset.accordionId;this._isOpen=this.localState.loadAccordionItemState(this._id);this.setHidden(true);this.addEventListeners();this.handleLinkAnchor(o);this.setAriaOpen()}static isClick(e){return e===1||e===13||e===32}get id(){return this._id}get isOpen(){return this._isOpen}};s(n,"AccordionItem");i(n,"accordionItemElement","helfi-accordion-item");i(n,"toggleElement","accordion-item__button--toggle");i(n,"closeElement","accordion-item__button--close");i(n,"ariaExpandedElements",["accordion-item__button--toggle"]);i(n,"contentElement","accordion-item__content");var o=n})();