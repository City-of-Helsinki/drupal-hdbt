!function(){"use strict";var e={4270:function(e,t,i){i.d(t,{Z:function(){return n}});var a={getFormData:function(e,t,{firstPerWeekPrice:i,othersPerWeekPrice:a}){return{form_id:e,has_required_fields:!0,items:[{input_integer:{id:"household_size",label:t("household_size"),unit:t("unit_person"),min:1,size:2,required:!0,helper_text:t("household_size_explanation")}},{input_float:{id:"gross_income_per_month",label:t("gross_income_per_month"),unit:t("unit_euro"),min:0,size:8,required:!1,strip:"[€eE ]",helper_text:t("gross_income_per_month_explanation")}},{input_integer:{id:"monthly_usage",label:t("monthly_usage"),unit:t("unit_hour"),min:0,max:744,size:3,required:!0,helper_text:t("monthly_usage_explanation")}},{heading:{text:t("living_at_home_heading"),level:3}},{paragraph:{text:t("living_at_home_paragraph")}},{heading:{text:t("safetyphone_heading"),level:3}},{paragraph:{text:t("safetyphone_paragraph")}},{radio:{id:"safetyphone",label:t("safetyphone"),required:!0,radio_items:[{name:"safetyphone",item_id:"safetyphone_1",label:t("yes_calculate"),value:1},{name:"safetyphone",item_id:"safetyphone_2",label:t("no"),value:2}]}},{heading:{text:t("shopping_service_heading"),level:3}},{paragraph:{text:t("shopping_service_paragraph")}},{radio:{id:"shopping_service",label:t("shopping_service"),required:!0,radio_items:[{name:"shopping_service",item_id:"shopping_service_1",label:t("yes_calculate"),value:1},{name:"shopping_service",item_id:"shopping_service_2",label:t("no"),value:2}]}},{group:{id:"shopping_service_group",hide_group:!0,items:[{input_integer:{id:"shopping_service_per_week",label:t("shopping_service_per_week"),unit:t("unit_amount"),min:1,size:2,required:!0,helper_text:t("shopping_service_per_week_explanation",{first_per_week_price:i,others_per_week_price:a})}}]}},{heading:{text:t("meal_service_heading"),level:3}},{paragraph:{text:t("meal_service_paragraph")}},{radio:{id:"meal_service",label:t("meal_service"),required:!0,radio_items:[{name:"meal_service",item_id:"meal_service_1",label:t("yes_calculate"),value:1},{name:"meal_service",item_id:"meal_service_2",label:t("no"),value:2}]}},{group:{id:"meal_service_group",hide_group:!0,items:[{input_integer:{id:"meal_service_per_week",label:t("meal_service_per_week"),unit:t("unit_amount"),min:1,max:7,size:2,required:!0,helper_text:t("meal_service_per_week_explanation")}}]}}]}}};var s={household_size:{fi:"Talouden koko",sv:null,en:null},household_size_explanation:{fi:"Samassa osoitteessa asuvien perheenjäsenten määrä.",sv:null,en:null},gross_income_per_month:{fi:"Talouden bruttotulot kuukaudessa",sv:null,en:null},gross_income_per_month_explanation:{fi:"Koko talouden yhteenlasketut ansio- ja pääomatulot ennen verojen vähentämistä. Tuloihin lasketaan palkka, eläke-, vuokra- ja korkotulot sekä eläkkeensaajan hoitotuki. Jos jätät kentän tyhjäksi, lasketaan arvio korkeimman maksun mukaisesti.",sv:null,en:null},monthly_usage:{fi:"Kotihoidon tuntimäärä kuukaudessa",sv:null,en:null},monthly_usage_explanation:{fi:"Löydät tuntimäärän kotihoidon hoito- ja palvelusuunnitelmasta.",sv:null,en:null},living_at_home_heading:{fi:"Kotona asumista tukevat palvelut",sv:null,en:null},living_at_home_paragraph:{fi:"Voit laskea mukaan kotona asumista tukevia palveluja. Tukipalvelut ovat maksullisia.",sv:null,en:null},safetyphone_heading:{fi:"Turvapuhelin ja turvaranneke",sv:null,en:null},safetyphone_paragraph:{fi:"Turvapuhelinpalveluun kuuluu turvapuhelin ja turvaranneke, joilla saat tarvittaessa apua ympäri vuorokauden. Turvapuhelinpalvelun maksut riippuvat talouden tuloista.",sv:null,en:null},safetyphone:{fi:"Laske arvioon turvapuhelin ja turvaranneke",sv:null,en:null},yes_calculate:{fi:"Kyllä, laske arvioon.",sv:null,en:null},no:{fi:"Ei",sv:null,en:null},shopping_service_heading:{fi:"Kauppapalvelu",sv:null,en:null},shopping_service_paragraph:{fi:"Kauppapalvelussa tilaamasi ruokaostokset toimitetaan kotiovellesi. Palvelussa on toimitusmaksu.",sv:null,en:null},shopping_service:{fi:"Laske arvioon kauppapalvelu",sv:null,en:null},shopping_service_per_week:{fi:"Kauppapalvelun toimitusten määrä viikossa",sv:null,en:null},shopping_service_per_week_explanation:{fi:"Yksi toimitus viikossa maksaa ${first_per_week_price} euroa, muut toimitukset ${others_per_week_price} euroa per toimitus.",sv:null,en:null},meal_service_heading:{fi:"Ateriapalvelu",sv:null,en:null},meal_service_paragraph:{fi:"Ateriapalvelussa kotiisi kuljetetaan valmiita aterioita, jotka voit itse lämmittää. Ateriapalvelun hintaan kuuluu aterian hinta ja kuljetusmaksu.",sv:null,en:null},meal_service:{fi:"Laske arvioon ateriapalvelu",sv:null,en:null},meal_service_per_week:{fi:"Aterioiden määrä viikossa",sv:null,en:null},meal_service_per_week_explanation:{fi:"Voit tilata ateriapalvelun hinnaston mukaisia aterioita enintään 7 ateriaa viikossa.",sv:null,en:null},receipt_estimate_of_payment:{fi:"Arvio kotihoidon asiakasmaksusta",sv:null,en:null},receipt_family_estimated_payment_prefix:{fi:"Arvioitu asiakasmaksu on yhteensä",sv:null,en:null},receipt_family_estimated_payment_suffix:{fi:"euroa kuukaudessa.",sv:null,en:null},receipt_family_estimated_payment_explanation_min:{fi:"Alle ${minimum_payment_euro} euron maksuja ei laskuteta. ",sv:null,en:null},receipt_family_empty_income:{fi:"Arvio on laskettu korkeimman maksun mukaisesti, koska et täyttänyt laskuriin talouden kuukausituloja. ",sv:null,en:null},receipt_family_estimated_payment_explanation:{fi:"Tämä arvio on suuntaa antava. Tarkan arvon saat kotihoidon päätöksessä.",sv:null,en:null},receipt_estimate_is_based_on:{fi:"Arvio muodostuu seuraavista tiedoista:",sv:null,en:null},receipt_subtotal_euros_per_month:{fi:"${value} €/kk",sv:null,en:null},receipt_subtotal_euros_per_month_screenreader:{fi:"${value} euroa kuukaudessa",sv:null,en:null},receipt_additional_details:{fi:"Lisähuomiot:",sv:null,en:null},receipt_homecare_payment:{fi:"Kotihoidon asiakasmaksu",sv:null,en:null},receipt_homecare_payment_two_or_more:{fi:"Jos molemmat puolisot ovat jatkuvan ja säännöllisen kotihoidon kuukausimaksuasiakkaita, maksu jakautuu kummallekin palvelu- ja hoitosuunnitelman mukaisesti.",sv:null,en:null},receipt_shopping_service_math_single:{fi:"1 toimitus viikossa eli 4 toimitusta kuukaudessa.",sv:null,en:null},receipt_shopping_service_math_multiple:{fi:"${delivery_count_per_week} toimitusta viikossa eli ${delivery_count_per_month} toimitusta kuukaudessa.",sv:null,en:null},receipt_shopping_service_explanation:{fi:"Kunkin viikon ensimmäinen toimitus maksaa ${first_per_week} euroa. Muut saman viikon toimitukset maksavat kukin ${others_per_week} euroa.",sv:null,en:null},receipt_shopping_service_algorithm:{fi:"Laskuri laskee kuljetukset tasaisesti viikoille, mutta voit itse vaikuttaa kauppatoimitusten määrään tarpeesi mukaan.",sv:null,en:null},receipt_aria_live:{fi:"Kotihoidon asiakasmaksun arvio on ${payment} euroa kuukaudessa, lue lisätietoja lomakkeen alta.",sv:null,en:null},receipt_meal_service_count_single:{fi:"1 ateria viikossa eli 4 ateriaa kuukaudessa.",sv:null,en:null},receipt_meal_service_count_multiple:{fi:"${meals_per_week} ateriaa viikossa eli ${meals_per_month} ateriaa kuukaudessa",sv:null,en:null},receipt_meal_service_price:{fi:"Yksittäisen aterian hinta on ${meal_service_price} euroa. Lämpimän aterian lisäksi voit tilata maksullisen jälkiruuan.",sv:null,en:null},receipt_meal_service_1_delivery_price:{fi:"Hintaan on laskettu yksi kuljetusmaksu viikossa eli 4 kuljetusta kuukaudessa. Kukin kuljetus maksaa ${meal_service_delivery_price} euroa.",sv:null,en:null},receipt_meal_service_2_delivery_price:{fi:"Hintaan on laskettu kaksi kuljetusmaksua eli 8 kuljetusta kuukaudessa. Kukin kuljetus maksaa ${meal_service_delivery_price} euroa.",sv:null,en:null},receipt_meal_service_menumat_notice:{fi:"Ateriapalvelun sijaan voit tilata kotiisi pakastimen ja uunin yhdistelmän eli Menumat-ateria-automaatin. Menumat-palvelussa aterian hinta on ${menumat_price} euroa ja palvelumaksu on ${menumat_device_price} euroa vuorokaudessa. Aterian lisäksi voit tilata maksullisen jälkiruoan.",sv:null,en:null}};class l{static calculateClientFee(e,t,i,a,s,l,n=!1){function r(e,t){const i=Object.keys(t).reverse();for(let a=0;a<i.length;a++){const s=i[a];if(Number(s)<=e)return t[s]}throw new Error(`Minimum range not found for ${e} from ${t}`)}const u=r(a,l.monthly_usage_max_payment),o=r(e,l.household_size);let _=0;const c=e-Number(Object.keys(l.household_size).at(-1));c>0&&(_=c*l.household_size_beyond_defined_multiplier_euro);const p=o.gross_income_limit+_,h=r(a,o.monthly_usage_percentage);let m=u;null!==i&&(m=h/100*(t-p));const v=s.clamp(0,m,u);return n&&console.log(`maximumPayment\t${u}`,`\ngrossIncomeLimit\t${p}`,`\npaymentPercentage\t${h}`,`\nreferencePayment\t${m}`),v}constructor(e,t){this.id=e;const i=JSON.parse(t),n=()=>{"1"===this.calculator.getFieldValue("shopping_service")?this.calculator.showGroup("shopping_service_group"):this.calculator.hideGroup("shopping_service_group");"1"===this.calculator.getFieldValue("meal_service")?this.calculator.showGroup("meal_service_group"):this.calculator.hideGroup("meal_service_group")},r=()=>{const e=[];e.push(...this.calculator.validateBasics("household_size")),e.push(...this.calculator.validateBasics("gross_income_per_month")),e.push(...this.calculator.validateBasics("monthly_usage")),e.push(...this.calculator.validateBasics("safetyphone")),e.push(...this.calculator.validateBasics("shopping_service"));const t=this.calculator.getFieldValue("shopping_service");"1"===t&&e.push(...this.calculator.validateBasics("shopping_service_per_week")),e.push(...this.calculator.validateBasics("meal_service"));const a=this.calculator.getFieldValue("meal_service");if("1"===a&&e.push(...this.calculator.validateBasics("meal_service_per_week")),e.length)return{error:{title:this.t("missing_input"),message:e}};const s=Number(this.calculator.getFieldValue("household_size")),n=Number(this.calculator.getFieldValue("gross_income_per_month")),r=this.calculator.getFieldValue("gross_income_per_month"),u=Number(this.calculator.getFieldValue("monthly_usage")),o=this.calculator.getFieldValue("safetyphone"),_=Number(this.calculator.getFieldValue("shopping_service_per_week")),c=Number(this.calculator.getFieldValue("meal_service_per_week"));let p=this.t("receipt_family_estimated_payment_explanation");const h=l.calculateClientFee(s,n,r,u,this.calculator,i,!1);null===r&&(p=this.t("receipt_family_empty_income")+p);const m={title:this.t("receipt_homecare_payment"),has_details:!1,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(h)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(h)})};s>=2&&(m.has_details=!0,m.details.push(this.t("receipt_homecare_payment_two_or_more")));const v=[m],d=[];let k=0;if("1"===o){const e=this.calculator.getMinimumRange(s,i.safetyphone_limits),t=null===r?1/0:n;k=this.calculator.getMinimumRange(t,e),v.push({title:this.t("safetyphone_heading"),has_details:!1,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(k)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(k)})})}let f=0,g=0;"1"===t&&(f=i.shopping_service_prices.first_per_week,f+=(_-1)*i.shopping_service_prices.others_per_week,g=4*f,v.push({title:this.t("shopping_service_heading"),has_details:!0,details:[this.t(1===_?"receipt_shopping_service_math_single":"receipt_shopping_service_math_multiple",{delivery_count_per_week:_,delivery_count_per_month:4*_}),this.t("receipt_shopping_service_explanation",{first_per_week:this.calculator.formatFinnishEuroCents(i.shopping_service_prices.first_per_week),others_per_week:this.calculator.formatFinnishEuroCents(i.shopping_service_prices.others_per_week)}),this.t("receipt_shopping_service_algorithm")],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(g)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(g)})}));let y=0,x=0,b=0;"1"===a&&(y=c*i.meal_service_prices.lunch,x=c<=i.meal_service_prices.max_meals_for_single_delivery_per_week?1:2,y+=x*i.meal_service_prices.delivery,b=4*y,v.push({title:this.t("meal_service_heading"),has_details:!0,details:[this.t(1===c?"receipt_meal_service_count_single":"receipt_meal_service_count_multiple",{meals_per_week:c,meals_per_month:4*c}),this.t("receipt_meal_service_price",{meal_service_price:this.calculator.formatFinnishEuroCents(i.meal_service_prices.lunch),meal_deliveries_per_week:x,meal_deliveries_per_month:4*x}),this.t(`receipt_meal_service_${x}_delivery_price`,{meal_service_delivery_price:this.calculator.formatFinnishEuroCents(i.meal_service_prices.delivery)})],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(b)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(b)})}),d.push({title:this.t("receipt_additional_details"),text:this.t("receipt_meal_service_menumat_notice",{menumat_price:this.calculator.formatFinnishEuroCents(i.meal_service_prices.menumat.lunch),menumat_device_price:this.calculator.formatFinnishEuroCents(i.meal_service_prices.menumat.device_per_day)})}));const w=h+k+g+b,j={id:this.id,title:this.t("receipt_estimate_of_payment"),total_prefix:this.t("receipt_family_estimated_payment_prefix"),total_value:this.calculator.formatFinnishEuroCents(w),total_suffix:this.t("receipt_family_estimated_payment_suffix"),total_explanation:p,hr:!0,breakdown:{title:this.t("receipt_estimate_is_based_on"),subtotals:v,additional_details:d}};return{receipt:this.calculator.getPartialRender("{{>receipt}}",j),ariaLive:this.t("receipt_aria_live",{payment:w})}},u={submit:e=>{this.calculator.clearResult(),e.preventDefault();const t=r();this.calculator.renderResult(t)},keydown:()=>{n()},change:()=>{n()},reset:()=>{window.setTimeout(n,1),this.calculator.clearResult(),this.calculator.showAriaLiveText(this.t("reset_aria_live"))}};this.calculator=window.HelfiCalculator({name:"home_care_client_fee",translations:s}),this.t=(e,t)=>this.calculator.translate(e,t),this.settings=this.calculator.parseSettings(t),this.calculator.init({id:e,formData:(()=>a.getFormData(this.id,this.t,{firstPerWeekPrice:i.shopping_service_prices.first_per_week,othersPerWeekPrice:i.shopping_service_prices.others_per_week}))(),eventHandlers:u})}}window.helfi_calculator=window.helfi_calculator||{},window.helfi_calculator.home_care_client_fee=(e,t)=>new l(e,t);var n=l.calculateClientFee}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,i),l.exports}i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={getFormData:function(e,t){return{form_id:e,has_required_fields:!0,items:[{input_integer:{id:"household_size",label:t("household_size"),unit:t("unit_person"),min:1,size:2,required:!0,helper_text:t("household_size_explanation")}},{input_float:{id:"gross_income_per_month",label:t("gross_income_per_month"),unit:t("unit_euro"),min:0,size:8,required:!1,strip:"[€eE ]",helper_text:t("gross_income_per_month_explanation")}},{input_integer:{id:"monthly_usage",label:t("monthly_usage"),unit:t("unit_hour"),min:0,max:744,size:3,required:!0,helper_text:t("monthly_usage_explanation")}},{input_float:{id:"service_provider_price",label:t("service_provider_price"),unit:t("unit_euro"),min:0,size:6,required:!0,strip:"[€eE ]",helper_text:t("service_provider_price_explanation")}}]}}};var t={household_size:{fi:"Talouden koko",sv:null,en:null},household_size_explanation:{fi:"Samassa osoitteessa asuvien perheenjäsenten määrä.",sv:null,en:null},gross_income_per_month:{fi:"Talouden tulot kuukaudessa",sv:null,en:null},gross_income_per_month_explanation:{fi:"Koko talouden yhteenlasketut ansio- ja pääomatulot ennen verojen vähentämistä. Tuloihin lasketaan palkka, eläke-, vuokra- ja korkotulot sekä eläkkeensaajan hoitotuki. Jos jätät kentän tyhjäksi, lasketaan arvio korkeimman tulorajan mukaisesti.",sv:null,en:null},monthly_usage:{fi:"Kotihoidon tuntimäärä kuukaudessa",sv:null,en:null},monthly_usage_explanation:{fi:"Löydät tuntimäärän kotihoidon päätöksestä.",sv:null,en:null},service_provider_price:{fi:"Palveluntuottajan tuntihinta",sv:null,en:null},service_provider_price_explanation:{fi:"Valitsemasi palveluntuottajan tuntihinta kotihoidon palveluista.",sv:null,en:null},receipt_estimate_of_payment:{fi:"Arvio palvelusetelillä hankitusta yksityisestä kotihoidosta",sv:null,en:null},receipt_family_estimated_payment_prefix:{fi:"Omavastuuosuus eli sinulle maksettavaksi jäävä asiakasmaksu on",sv:null,en:null},receipt_family_estimated_payment_suffix:{fi:"euroa kuukaudessa.",sv:null,en:null},receipt_family_empty_income:{fi:"Arvio on laskettu korkeimman maksun mukaisesti, koska et täyttänyt laskuriin talouden kuukausituloja. ",sv:null,en:null},receipt_family_estimated_payment_explanation:{fi:"Arvio ovat suuntaa antava.  Tarkka arvo lasketaan kotihoidon päätökseen.",sv:null,en:null},receipt_estimate_is_based_on:{fi:"Arvio muodostuu seuraavasti:",sv:null,en:null},receipt_subtotal_euros_per_month:{fi:"${value} €/kk",sv:null,en:null},receipt_subtotal_euros_per_month_screenreader:{fi:"${value} euroa kuukaudessa",sv:null,en:null},receipt_homecare_total:{fi:"Palvelusetelillä hankittavan palvelun kokonaiskustannus",sv:null,en:null},receipt_city_pays_to_provider:{fi:"Kaupunki maksaa palvelusetelillä tuotetusta palvelusta yksityiselle palveluntuottajalle",sv:null,en:null},receipt_voucher_value:{fi:"Palvelusetelisi arvo on ${voucher} euroa per tunti.",sv:null,en:null},receipt_city_pays_to_provider_max:{fi:"Palvelusetelillä voidaan maksaa enintään ${covered_hours} tuntia kuukaudessa.",sv:null,en:null},receipt_client_self_payment:{fi:"Omavastuuosuus eli sinulle maksettavaksi jäävä asiakasmaksu",sv:null,en:null},receipt_additional_details:{fi:"Lisähuomiot:",sv:null,en:null},receipt_monthly_hours_are_over_covered_hours:{fi:"Kaupunki myöntää palvelusetelin ${covered_hours} tuntiin kuukaudessa asti, jonka ylittävä osuus jää kokonaan asiakkaan maksettavaksi. Tämä itse maksettava osuus on ${overflow_hours} tuntia eli ${overflow_euros} euroa.",sv:null,en:null},receipt_included_homecare:{fi:"Jos palvelu - ja hoitosuunnitelmassasi on myös kaupungin tuottamaa kotihoitoa, siitä laskutetaan erikseen kotihoidon asiakasmaksun mukaisesti.",sv:null,en:null},receipt_estimate_if_done_by_city:{fi:"Arvio kotihoidon maksusta kaupungin tuottamana:",sv:null,en:null},receipt_when_done_by_city:{fi:"Kaupungin kotihoidon tuottamana palvelun asiakasmaksu",sv:null,en:null},receipt_aria_live:{fi:"Omavastuuosuus eli sinulle maksettavaksi jäävä asiakasmaksu on ${payment} euroa kuukaudessa, lue lisätietoja lomakkeen alta.",sv:null,en:null}},a=i(4270);class s{constructor(i,s){this.id=i;const l=JSON.parse(s),n=JSON.parse(drupalSettings.home_care_client_fee),r=()=>{};const u=()=>{const e=[];if(e.push(...this.calculator.validateBasics("household_size")),e.push(...this.calculator.validateBasics("gross_income_per_month")),e.push(...this.calculator.validateBasics("monthly_usage")),e.push(...this.calculator.validateBasics("service_provider_price")),e.length)return{error:{title:this.t("missing_input"),message:e}};const t=Number(this.calculator.getFieldValue("household_size")),i=Number(this.calculator.getFieldValue("gross_income_per_month")),s=this.calculator.getFieldValue("gross_income_per_month"),r=Number(this.calculator.getFieldValue("monthly_usage")),u=Number(this.calculator.getFieldValue("service_provider_price")),{limit:o,percent:_}=function(e,t,i,a){const s=a.getMinimumRange(e,i.household_size);let l=0;const n=e-Number(Object.keys(i.household_size).at(-1));n>0&&(l=n*i.household_size_beyond_defined_multiplier_euro);const r=a.getMinimumRange(e,t.household_size);let u=0;const o=e-Number(Object.keys(t.household_size).at(-1));return o>0&&(u=o*t.household_size_beyond_defined_multiplier_percent),{limit:s.gross_income_limit+l,percent:r.percent+u}}(t,l,n,this.calculator),c=i-o,p=Math.round(100*(null!==s?this.calculator.clamp(l.voucher_limits.min,l.voucher_limits.max-c*(_/100)/l.voucher_divisor,l.voucher_limits.max):l.voucher_limits.min))/100,h=Math.min(r,l.covered_hours_per_month)*p,m=Math.max(0,r-l.covered_hours_per_month)*u,v=Math.max(0,u-p)*Math.min(r,l.covered_hours_per_month)+m,d=(0,a.Z)(t,i,s,r,this.calculator,n,!1);let k=this.t("receipt_family_estimated_payment_explanation");const f=[{title:this.t("receipt_additional_details"),text:null}];null===s&&(k=this.t("receipt_family_empty_income")+k);const g=[];g.push({title:this.t("receipt_homecare_total"),has_details:!1,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(r*u)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(r*u)})},{title:this.t("receipt_city_pays_to_provider"),has_details:!0,details:[this.t("receipt_voucher_value",{voucher:this.calculator.formatFinnishEuroCents(p)}),this.t("receipt_city_pays_to_provider_max",{covered_hours:l.covered_hours_per_month})],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(h)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(h)})},{title:this.t("receipt_client_self_payment"),has_details:!1,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(v)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(v)})}),r>l.covered_hours_per_month&&f.push({title:null,text:this.t("receipt_monthly_hours_are_over_covered_hours",{covered_hours:l.covered_hours_per_month,overflow_hours:r-l.covered_hours_per_month,overflow_euros:this.calculator.formatFinnishEuroCents(m)})}),f.push({title:null,text:this.t("receipt_included_homecare")});const y={id:this.id,title:this.t("receipt_estimate_of_payment"),total_prefix:this.t("receipt_family_estimated_payment_prefix"),total_value:this.calculator.formatFinnishEuroCents(v),total_suffix:this.t("receipt_family_estimated_payment_suffix"),total_explanation:k,hr:!0,breakdown:[{title:this.t("receipt_estimate_is_based_on"),subtotals:g,additional_details:f},{title:this.t("receipt_estimate_if_done_by_city"),subtotals:[{title:this.t("receipt_when_done_by_city"),has_details:!1,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(d)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month_screenreader",{value:this.calculator.formatEuroCents(d)})}],additional_details:null}]};return{receipt:this.calculator.getPartialRender("{{>receipt}}",y),ariaLive:this.t("receipt_aria_live",{payment:this.calculator.formatEuroCents(v)})}},o={submit:e=>{this.calculator.clearResult(),e.preventDefault();const t=u();this.calculator.renderResult(t)},keydown:()=>{},change:()=>{},reset:()=>{window.setTimeout(r,1),this.calculator.clearResult(),this.calculator.showAriaLiveText(this.t("reset_aria_live"))}};this.calculator=window.HelfiCalculator({name:"home_care_service_voucher",translations:t}),this.t=(e,t)=>this.calculator.translate(e,t),this.settings=this.calculator.parseSettings(s),this.calculator.init({id:i,formData:(()=>e.getFormData(this.id,this.t))(),eventHandlers:o})}}window.helfi_calculator=window.helfi_calculator||{},window.helfi_calculator.home_care_service_voucher=(e,t)=>new s(e,t)}()}();