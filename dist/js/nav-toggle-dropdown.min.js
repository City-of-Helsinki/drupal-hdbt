(()=>{var c=Object.defineProperty;var o=(s,t)=>c(s,"name",{value:t,configurable:!0});var u=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var g=u((f,r)=>{var i=class i{constructor(){this.HASH_ID=null,this.buttonSelector=null,this.buttonInstances=[],this.dropdownSelector=null,this.dropdownInstance=null,this.running=!1,this.targetNode=null,this.onOpen=null,this.onClose=null,this.lastClickedButton=null;let t=new URLSearchParams(window.location.search);this.debug=t.has("debug")&&t.get("debug")===""}isOpen(){return window.location.hash===this.HASH_ID||this.targetNode.dataset.target==="true"}simpleClose(){this.running&&(this.buttonInstances.forEach(t=>t.setAttribute("aria-expanded","false")),this.dropdownInstance?.classList.add("nav-toggle-dropdown--closed"),this.dropdownInstance?.removeAttribute("style"),this.targetNode.dataset.target="false",this.onClose&&this.onClose())}close(){if(this.simpleClose(),this.running){let t=this.lastClickedButton;this.dropdownInstance?.contains(t)&&(t=this.buttonInstances.find(e=>!this.dropdownInstance.contains(e))||null),t&&t.focus(),this.onClose&&this.onClose()}}open(){this.running&&(this.buttonInstances.forEach(t=>t.setAttribute("aria-expanded","true")),this.dropdownInstance?.classList.remove("nav-toggle-dropdown--closed"),this.targetNode.dataset.target="true",this.onOpen&&this.onOpen())}toggle(t){this.isOpen()?this.close():(this.lastClickedButton=t,this.open())}addListeners(){document.addEventListener("keydown",t=>{t.key==="Escape"&&this.isOpen()&&this.close()}),this.buttonInstances.forEach(t=>{t.addEventListener("click",()=>{this.toggle(t)})})}init({name:t,buttonSelector:e,dropdownSelector:a=null,targetSelector:d,onOpen:l,onClose:h}){if(this.name=t,this.buttonSelector=e,this.buttonInstances=Array.from(document.querySelectorAll(this.buttonSelector)),this.buttonInstances.length===0){this.running=!1,this.debug&&console.warn(`${t} buttons missing. Looking for ${this.buttonSelector}`);return}if(this.running){this.debug&&console.warn(`${t} already initiated. Is it included more than once?`);return}if(this.dropdownSelector=a,this.dropdownInstance=this.dropdownSelector?document.querySelector(this.dropdownSelector):null,this.dropdownInstance?.classList.add("nav-toggle-dropdown--closed"),this.HASH_ID=d,this.onOpen=l,this.onClose=h,this.targetNode=document.querySelector(this.HASH_ID),!this.targetNode)throw new Error(`${t} target node missing. Looking for ${this.HASH_ID}`);this.targetNode.dataset.js=!0,this.addListeners(),this.running=!0}};o(i,"NavToggleDropdown");var n=i;r.exports=()=>new n});g();})();
