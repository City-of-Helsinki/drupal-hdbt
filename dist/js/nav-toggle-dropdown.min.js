"use strict";(()=>{var l=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var h=l((u,o)=>{var e=class{constructor(){this.HASH_ID=null,this.buttonSelector=null,this.buttonInstances=[],this.dropdownSelector=null,this.dropdownInstance=null,this.running=!1,this.targetNode=null,this.onOpen=null,this.onClose=null,this.lastClickedButton=null;let t=new URLSearchParams(window.location.search);this.debug=t.has("debug")&&t.get("debug")===""}isOpen(){return window.location.hash===this.HASH_ID||this.targetNode.dataset.target==="true"}simpleClose(){this.running&&(this.buttonInstances.forEach(t=>t.setAttribute("aria-expanded","false")),this.dropdownInstance?.classList.add("nav-toggle-dropdown--closed"),this.dropdownInstance?.removeAttribute("style"),this.targetNode.dataset.target="false",this.onClose&&this.onClose())}close(){if(this.simpleClose(),this.running){let t=this.lastClickedButton;this.dropdownInstance?.contains(t)&&(t=this.buttonInstances.find(s=>!this.dropdownInstance.contains(s))||null),t&&t.focus(),this.onClose&&this.onClose()}}open(){this.running&&(this.buttonInstances.forEach(t=>t.setAttribute("aria-expanded","true")),this.dropdownInstance?.classList.remove("nav-toggle-dropdown--closed"),this.targetNode.dataset.target="true",this.onOpen&&this.onOpen())}toggle(t){this.isOpen()?this.close():(this.lastClickedButton=t,this.open())}addListeners(){document.addEventListener("keydown",t=>{t.key==="Escape"&&this.isOpen()&&this.close()}),this.buttonInstances.forEach(t=>{t.addEventListener("click",()=>{this.toggle(t)})})}init({name:t,buttonSelector:s,dropdownSelector:i=null,targetSelector:r,onOpen:a,onClose:d}){if(this.name=t,this.buttonSelector=s,this.buttonInstances=Array.from(document.querySelectorAll(this.buttonSelector)),this.buttonInstances.length===0){this.running=!1,this.debug&&console.warn(`${t} buttons missing. Looking for ${this.buttonSelector}`);return}if(this.running){this.debug&&console.warn(`${t} already initiated. Is it included more than once?`);return}if(this.dropdownSelector=i,this.dropdownInstance=this.dropdownSelector?document.querySelector(this.dropdownSelector):null,this.dropdownInstance?.classList.add("nav-toggle-dropdown--closed"),this.HASH_ID=r,this.onOpen=a,this.onClose=d,this.targetNode=document.querySelector(this.HASH_ID),!this.targetNode)throw new Error(`${t} target node missing. Looking for ${this.HASH_ID}`);this.targetNode.dataset.js=!0,this.addListeners(),this.running=!0}};o.exports=()=>new e});h();})();
