!function(){var t={527:function(t,e,n){const i=n(466),s=n(184),r=Drupal.t("Frontpage",{},{context:"Global navigation mobile menu top level"});Array.prototype.findRecursive=function(t,e){if(!e)throw"findRecursive requires parameter `childrenPropertyName`";let n=[];n=this;let i=this.find(t),s=this.filter((t=>t[e]));if(i)return i;if(s.length){let n=[];return s.forEach((t=>{n.push(...t[e])})),n.findRecursive(t,e)}};const o=function(){return this.sub_tree?.length>0},a=function(){try{return!this.external&&this.url&&new URL(this.url).pathname===window.location.pathname}catch(t){console.warn('Invalid url given to "active"-helper',this.url)}return!1},l=function(){return!!this.active},c=function(){return!!this.inPath},u=function(){return{external:this.attributes["data-external"]||this.external||!1,protocol:this.attributes["data-protocol"]||!1}},h=function(){return!!this.external&&(h.ICONS[this.attributes["data-protocol"]]||h.ICONS.external)};h.ICONS={mailto:{class:"link__type link__type--mailto",text:Drupal.t("Link opens default mail program",{},{context:"Explanation for screen-reader software that the icon visible next to this link means that the link opens default mail program."})},tel:{class:"link__type link__type--tel",text:Drupal.t("Link starts a phone call",{},{context:"Explanation for screen-reader software that the icon visible next to this link means that the link starts a phone call."})},external:{class:"link__type link__type--external",text:Drupal.t("Link leads to external service",{},{context:"Explanation for screen-reader software that the icon visible next to this link means that the link leads to an external service."})}};const d={compileTemplates:function(){this.templates={panel:`\n  {{#panels}}\n    <section class="{{panel_class}}">\n      <div class="mmenu__panel-body">\n        {{#back}}\n          <button class="mmenu__back">\n            <span class="mmenu__back-wrapper">{{back}}</span>\n          </button>\n        {{/back}}\n        <a href="{{url}}" class="mmenu__title-link{{#isInPath}} mmenu__title-link--in-path{{/isInPath}}"{{#isActive}} aria-current="page"{{/isActive}}\n\n        {{#externalLinkAttributes.external}}\n          data-external="true"\n        {{/externalLinkAttributes.external}}\n\n        {{#externalLinkAttributes.protocol}}\n          data-protocol="{{externalLinkAttributes.protocol}}"\n        {{/externalLinkAttributes.protocol}}\n\n        >{{name}}{{#externalLinkIcon}} <span class="{{class}}" aria-label="({{text}})"></span>{{/externalLinkIcon}}</a>\n        {{>sub_tree}}\n      </div>\n      ${document.querySelector(".js-mmenu__footer")?.outerHTML}\n    </section>\n  {{/panels}}\n\n  {{^panels}}\n  <div class="mmenu__loading">\n    <div class="hds-loading-spinner">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n  {{/panels}}\n  `,list:'\n    <ul class="mmenu__items">\n      {{#sub_tree}}\n        <li class="mmenu__item">\n          <a href="{{url}}" class="mmenu__item-link{{#isInPath}} mmenu__item-link--in-path{{/isInPath}}"{{#isActive}} aria-current="page"{{/isActive}}\n          {{#externalLinkAttributes.external}}\n            data-external="true"\n          {{/externalLinkAttributes.external}}\n          {{#externalLinkAttributes.protocol}}\n            data-protocol={{externalLinkAttributes.protocol}}\n          {{/externalLinkAttributes.protocol}}\n          >\n            {{name}}{{#externalLinkIcon}} <span class="{{class}}" aria-label="({{text}})"></span>{{/externalLinkIcon}}\n          </a>\n          {{#button}}\n            <button class="mmenu__forward " value={{id}} />\n          {{/button}}\n        </li>\n      {{/sub_tree}}\n    </ul>\n   '}},menu:null,templates:null,SCROLL_TRESHOLD:100,size:10,running:!1,data:null,currentIndex:0,cacheKey:"hdbt-mobile-menu",enableCache:!1,selectors:{container:"#mmenu",rootId:"mmenu__panels",forward:"mmenu__forward",back:"mmenu__back"},getAPIUrl:function(){const t=new URL(drupalSettings?.helfi_navigation?.links?.api);return t.searchParams.set("_format","json"),t.toString()},getRoot:function(){return document.getElementById(this.selectors.rootId)},sortPanelsByPath:function(){const t=[],e=this.data,n=e.findRecursive((t=>a.call(t)),"sub_tree");let i=n?.sub_tree?.length?n.id:n?.parentId;for(;i;){const n=e.findRecursive((({id:e,url:n,name:s,sub_tree:r,parentId:o,inPath:a,active:l})=>e===i&&(t.push({sub_tree:r,name:s,url:n,parentId:o,inPath:a,active:l}),i=o,!0)),"sub_tree");n||(i=void 0)}t.push({sub_tree:e,inPath:!0}),t.reverse(),this.currentIndex=t.length-1,this.content=[...t]},content:[],getView:function(t){return this.content.map(((e,n)=>({...e,name:e?.name||r,url:e.url||drupalSettings.helfi_navigation.links.canonical,button:o,isActive:l,isInPath:c,externalLinkAttributes:u,externalLinkIcon:h,back:n>0&&(this.content.at(n-1)?.name??r),panel_class:s({mmenu__panel:!0,"mmenu__panel--visible":!0,"mmenu__panel--current":n===this.currentIndex,"mmenu__panel--visible-right":"start"===t&&n>this.currentIndex||"up"===t&&n>=this.currentIndex||"down"===t&&n>this.currentIndex+1,"mmenu__panel--visible-left":"up"===t&&n<this.currentIndex-1||"down"===t&&n<=this.currentIndex})})))},up:function(t){if(!t)throw`Id missing for next menu item  ${t}`;const e=this.content.at(this.currentIndex).sub_tree.find((({id:e})=>e===t));if(!e)throw new Error("ID mismatch in menu items"+t);this.currentIndex=this.currentIndex+1<this.size?this.currentIndex+1:this.currentIndex,this.content[this.currentIndex]=e,this.render("up")},down:function(){0!==this.currentIndex&&(this.currentIndex=this.currentIndex-1>=0?this.currentIndex-1:this.currentIndex,this.render("down"))},render:function(t){const e=this.getRoot();if(e.innerHTML=i.render(this.templates.panel,{panels:this.getView(t)},{sub_tree:this.templates.list}),"load"===t)return;const n=[...e.querySelectorAll(".mmenu__panel")],s=n.at(this.currentIndex);e.parentElement.scrollTop>this.SCROLL_TRESHOLD&&this.currentIndex>0&&s.querySelector(".mmenu__back").scrollIntoView({block:"start",behaviour:"smooth"}),setTimeout((()=>{switch(s.classList.remove("mmenu__panel--visible-right","mmenu__panel--visible-left"),t){case"up":n.at(this.currentIndex-1).classList.add("mmenu__panel--visible-left");break;case"down":n.at(this.currentIndex+1).classList.add("mmenu__panel--visible-right")}setTimeout((()=>{n.forEach((t=>{t.classList.contains("mmenu__panel--current")||(t.style.visibility="hidden")}))}),200)}),10)},load:async function(){const t=await fetch(this.getAPIUrl()),e=await t.json(),n=Object.getOwnPropertyNames(e);if(!n.length)throw new Error("No instances found in data",e);const i=n.map((t=>{const n=e[t].menu_tree[0];return n.parentId="",n})),s=i.findRecursive((t=>a.call(t)),"sub_tree");s&&(s.active=!0,s.inPath=!0);let r=s?.parentId;for(;r;){i.findRecursive((t=>t.id===r&&(r=t.parentId,t.inPath=!0,!0)),"sub_tree")||(r=void 0)}this.data=i},start:async function(){const t=document.querySelector(this.selectors.container);if(!this.getRoot()||!t)throw new Error("Panel root not found");t.classList.add("mmenu--visible"),this.render("load");try{await this.load()}catch(t){return console.error("Unable to load menu data, using mock menu for development purposes. Reset to nojs-fallback when integrating with actual API",t),void this.enableFallback()}this.sortPanelsByPath(),this.render("start"),this.getRoot().addEventListener("click",(t=>{const{target:{classList:e,value:n,parentElement:i}}=t;t.stopImmediatePropagation(),e&&e.contains(this.selectors.forward)?this.up(n):(e&&e.contains(this.selectors.back)||i?.classList&&i?.classList.contains(this.selectors.back))&&this.down()}))},isOpen:function(){return"#menu"===window.location.hash||"true"===this.toggleButton.getAttribute("aria-expanded")},disableFallback:function(){this.menu.dataset.js=!0},enableFallback:function(){this.menu.dataset.target="false",this.getRoot().innerHTML="",delete this.menu.dataset.js,window.location.hash="#menu"},close:function(){this.toggleButton.setAttribute("aria-expanded","false"),this.menu.dataset.target="false",this.onClose&&this.onClose()},open:function(){this.menu.dataset.target="true",this.toggleButton.setAttribute("aria-expanded","true"),this.onOpen&&this.onOpen()},toggle:function(){this.isOpen()?this.close():this.open(),this.toggleButton.focus()},init:function({onOpen:t,onClose:e}){this.running?console.warn("MobilePanel already initiated. Is it include more than once?"):(this.onOpen=t,this.onClose=e,document.addEventListener("DOMContentLoaded",(()=>{if(this.toggleButton=document.querySelector(".js-menu-toggle-button"),!this.toggleButton)throw"No toggle button for JS menu.";if(this.menu=document.querySelector("#menu"),!this.menu)return void console.error("Panel not present in DOM. Cannot start JS mobile menu");this.disableFallback(),document.addEventListener("keydown",(t=>{"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||!this.isOpen()||this.close()}));const t=()=>{this.compileTemplates(),this.toggleButton.removeEventListener("click",t),this.start()};this.toggleButton.addEventListener("click",t),this.toggleButton.addEventListener("click",(()=>this.toggle())),this.isOpen()&&(window.location.hash="",t(),this.open())})),this.running=!0)}};t.exports=d},508:function(t){const e={HASH_ID:"#otherlangs",toggleButton:{selectors:{id:"#js-otherlangs-button",openClassName:"headerlanguagelinks__toggle--open",closeClassName:"headerlanguagelinks__toggle--close"},instance:null,toggle:function(t){let e,n;t?(e=this.selectors.closeClassName,n=this.selectors.openClassName,delete this.instance.dataset.target,this.instance.setAttribute("aria-expanded","false")):(e=this.selectors.openClassName,n=this.selectors.closeClassName,this.instance.setAttribute("aria-expanded","true")),this.instance.classList.remove(e),this.instance.classList.add(n)},init:function(){if(this.instance=document.querySelector(this.selectors.id),!this.instance)throw`OtherLangsDropdown button missing. Looking for ${this.selectors.id}`}},running:!1,targetNode:null,onOpen:null,isOpen:function(){return window.location.hash===this.HASH_ID||"true"===this.targetNode.dataset.target},close:function(){this.toggleButton.toggle(!0),this.targetNode.dataset.target="false",this.onClose&&this.onClose()},open:function(){this.toggleButton.toggle(!1),this.targetNode.dataset.target="true",this.onOpen&&this.onOpen()},toggle:function(){const t=this.isOpen();t?this.close():this.open(),this.toggleButton.toggle(t)},addListeners:function(){document.addEventListener("keydown",(t=>{"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||!this.isOpen()||this.close()})),this.toggleButton.instance.addEventListener("click",(()=>{this.toggle()}))},init:function({onOpen:t,onClose:e}){this.running?console.warn("Lang menu already initiated. Is it included more than once?"):(this.onOpen=t,this.onClose=e,document.addEventListener("DOMContentLoaded",(()=>{if(this.targetNode=document.querySelector(this.HASH_ID),!this.targetNode)throw`OtherLangsDropdown target node missing. Looking for ${this.HASH_ID}`;this.targetNode.dataset.js=!0,this.toggleButton.init(),this.addListeners()})),this.running=!0)}};t.exports=e},776:function(t){const e={HASH_ID:"#search",toggleButton:{selectors:{className:".js-header-search__button"},instance:null,toggle:function(t){t?(delete this.instance?.dataset?.target,this.instance.setAttribute("aria-expanded","false")):(this.instance.dataset.target="true",this.instance.setAttribute("aria-expanded","true"))},init:function(){if(this.instance=document.querySelector(this.selectors.className),!this.instance)throw`Search button missing. Looking for ${this.selectors.className}`}},running:!1,targetNode:null,onOpen:null,isOpen:function(){return window.location.hash===this.HASH_ID||"true"===this.targetNode.dataset.target},close:function(){this.toggleButton.toggle(!0),this.targetNode.dataset.target="false",this.onClose&&this.onClose()},open:function(){this.toggleButton.toggle(!1),this.targetNode.dataset.target="true",this.onOpen&&this.onOpen()},toggle:function(){const t=this.isOpen();t?this.close():this.open(),this.toggleButton.toggle(t)},addListeners:function(){document.addEventListener("keydown",(t=>{"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||!this.isOpen()||this.close()})),this.toggleButton.instance.addEventListener("click",(()=>{this.toggle()}))},init:function({onOpen:t,onClose:e}){this.running?console.warn("Search menu already initiated. Is it included more than once?"):(this.onOpen=t,this.onClose=e,document.addEventListener("DOMContentLoaded",(()=>{if(this.targetNode=document.querySelector(this.HASH_ID),!this.targetNode)throw`Search target node missing. Looking for ${this.HASH_ID}`;this.targetNode.dataset.js=!0,this.toggleButton.init(),this.addListeners()})),this.running=!0)}};t.exports=e},996:function(t){const e=["#chat-leijuke-wrapper",".si-toggle-container",".cx-theme-helsinki-blue","#smartti-wrapper",".aca--button--desktop, .aca--button--mobile, .aca--widget--mobile, .aca--widget--desktop, #aca--widget-button-close","#block-kuurahealthchat","#ed11y-panel","#sliding-popup"],n=()=>{document.querySelectorAll(e.join(",")).forEach((t=>{t.dataset.cssmenuHide=!0}))},i=()=>{document.querySelectorAll(e.join(",")).forEach((t=>{delete t.dataset.cssmenuHide}))};t.exports={setHide:t=>{(!0===t?n:i)()},close:n,open:i,HIDE_SELECTORS:e}},184:function(t,e){var n;!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var o=s.apply(null,n);o&&t.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var a in n)i.call(n,a)&&n[a]&&t.push(a);else t.push(n.toString())}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0===(n=function(){return s}.apply(e,[]))||(t.exports=n)}()},466:function(t){t.exports=function(){"use strict";var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function i(t){return e(t)?"array":typeof t}function s(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return null!=t&&"object"!=typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var a=RegExp.prototype.test;function l(t,e){return a.call(t,e)}var c=/\S/;function u(t){return!l(c,t)}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function d(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return h[t]}))}var p=/\s*/,g=/\s+/,f=/\s*=/,m=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/;function b(t,n){if(!t)return[];var i,r,o,a=!1,l=[],c=[],h=[],d=!1,b=!1,w="",y=0;function I(){if(d&&!b)for(;h.length;)delete c[h.pop()];else h=[];d=!1,b=!1}function C(t){if("string"==typeof t&&(t=t.split(g,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(s(t[0])+"\\s*"),r=new RegExp("\\s*"+s(t[1])),o=new RegExp("\\s*"+s("}"+t[1]))}C(n||L.tags);for(var E,O,S,A,P,N,j=new k(t);!j.eos();){if(E=j.pos,S=j.scanUntil(i))for(var H=0,B=S.length;H<B;++H)u(A=S.charAt(H))?(h.push(c.length),w+=A):(b=!0,a=!0,w+=" "),c.push(["text",A,E,E+1]),E+=1,"\n"===A&&(I(),w="",y=0,a=!1);if(!j.scan(i))break;if(d=!0,O=j.scan(v)||"name",j.scan(p),"="===O?(S=j.scanUntil(f),j.scan(f),j.scanUntil(r)):"{"===O?(S=j.scanUntil(o),j.scan(m),j.scanUntil(r),O="&"):S=j.scanUntil(r),!j.scan(r))throw new Error("Unclosed tag at "+j.pos);if(P=">"==O?[O,S,E,j.pos,w,y,a]:[O,S,E,j.pos],y++,c.push(P),"#"===O||"^"===O)l.push(P);else if("/"===O){if(!(N=l.pop()))throw new Error('Unopened section "'+S+'" at '+E);if(N[1]!==S)throw new Error('Unclosed section "'+N[1]+'" at '+E)}else"name"===O||"{"===O||"&"===O?b=!0:"="===O&&C(S)}if(I(),N=l.pop())throw new Error('Unclosed section "'+N[1]+'" at '+j.pos);return _(x(c))}function x(t){for(var e,n,i=[],s=0,r=t.length;s<r;++s)(e=t[s])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function _(t){for(var e,n=[],i=n,s=[],r=0,o=t.length;r<o;++r)switch((e=t[r])[0]){case"#":case"^":i.push(e),s.push(e),i=e[4]=[];break;case"/":s.pop()[5]=e[2],i=s.length>0?s[s.length-1][4]:n;break;default:i.push(e)}return n}function k(t){this.string=t,this.tail=t,this.pos=0}function w(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function y(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}k.prototype.eos=function(){return""===this.tail},k.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},k.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},w.prototype.push=function(t){return new w(t,this)},w.prototype.lookup=function(t){var e,i=this.cache;if(i.hasOwnProperty(t))e=i[t];else{for(var s,a,l,c=this,u=!1;c;){if(t.indexOf(".")>0)for(s=c.view,a=t.split("."),l=0;null!=s&&l<a.length;)l===a.length-1&&(u=r(s,a[l])||o(s,a[l])),s=s[a[l++]];else s=c.view[t],u=r(c.view,t);if(u){e=s;break}c=c.parent}i[t]=e}return n(e)&&(e=e.call(this.view)),e},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(t,e){var n=this.templateCache,i=t+":"+(e||L.tags).join(":"),s=void 0!==n,r=s?n.get(i):void 0;return null==r&&(r=b(t,e),s&&n.set(i,r)),r},y.prototype.render=function(t,e,n,i){var s=this.getConfigTags(i),r=this.parse(t,s),o=e instanceof w?e:new w(e,void 0);return this.renderTokens(r,o,n,t,i)},y.prototype.renderTokens=function(t,e,n,i,s){for(var r,o,a,l="",c=0,u=t.length;c<u;++c)a=void 0,"#"===(o=(r=t[c])[0])?a=this.renderSection(r,e,n,i,s):"^"===o?a=this.renderInverted(r,e,n,i,s):">"===o?a=this.renderPartial(r,e,n,s):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e,s):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(l+=a);return l},y.prototype.renderSection=function(t,i,s,r,o){var a=this,l="",c=i.lookup(t[1]);function u(t){return a.render(t,i,s,o)}if(c){if(e(c))for(var h=0,d=c.length;h<d;++h)l+=this.renderTokens(t[4],i.push(c[h]),s,r,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)l+=this.renderTokens(t[4],i.push(c),s,r,o);else if(n(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(i.view,r.slice(t[3],t[5]),u))&&(l+=c)}else l+=this.renderTokens(t[4],i,s,r,o);return l}},y.prototype.renderInverted=function(t,n,i,s,r){var o=n.lookup(t[1]);if(!o||e(o)&&0===o.length)return this.renderTokens(t[4],n,i,s,r)},y.prototype.indentPartial=function(t,e,n){for(var i=e.replace(/[^ \t]/g,""),s=t.split("\n"),r=0;r<s.length;r++)s[r].length&&(r>0||!n)&&(s[r]=i+s[r]);return s.join("\n")},y.prototype.renderPartial=function(t,e,i,s){if(i){var r=this.getConfigTags(s),o=n(i)?i(t[1]):i[t[1]];if(null!=o){var a=t[6],l=t[5],c=t[4],u=o;0==l&&c&&(u=this.indentPartial(o,c,a));var h=this.parse(u,r);return this.renderTokens(h,e,i,u,s)}}},y.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},y.prototype.escapedValue=function(t,e,n){var i=this.getConfigEscape(n)||L.escape,s=e.lookup(t[1]);if(null!=s)return"number"==typeof s&&i===L.escape?String(s):i(s)},y.prototype.rawValue=function(t){return t[1]},y.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},y.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var L={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){I.templateCache=t},get templateCache(){return I.templateCache}},I=new y;return L.clearCache=function(){return I.clearCache()},L.parse=function(t,e){return I.parse(t,e)},L.render=function(t,e,n,s){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(t,e,n,s)},L.escape=d,L.Scanner=k,L.Context=w,L.Writer=y,L}()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}!function(){const t=n(527),e=n(508),i=n(776),s=n(996),r=({target:n})=>{null===n.closest(".header")&&(t.close(),i.close(),e.close(),s.open())};e.init({onOpen:()=>{t.close(),i.close(),s.close()},onClose:s.open}),t.init({onOpen:()=>{e.close(),i.close(),s.close()},onClose:s.open}),i.init({onOpen:()=>{e.close(),t.close(),s.close()},onClose:s.open}),document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("click",r)}))}()}();