!function(Drupal){Drupal.behaviors.closable_announcements={attach:function(){const e="js-announcement__close--disabled",n="hidden-helfi-announcements";function t(e){!function(e){const{uuid:t}=e.dataset;if(t){const e=window.localStorage.getItem(n);let o=[];if(e)try{o=JSON.parse(e)}catch(e){console.error(e)}o.push(t),window.localStorage.setItem(n,JSON.stringify(o))}}(e),e.style=`--js-announcement-height: ${e.offsetHeight}px`,window.setTimeout((()=>{let n=!1;const t=document.querySelectorAll(".announcement:not(.js-announcement--hide)");e.classList.add("js-announcement--hide");for(let o=0,c=t.length;o<c;o++)if(t[o].dataset.uuid===e.dataset.uuid&&o>0){const e=t[o-1].querySelectorAll(".announcement__close, .announcement__link a");e[e.length-1].focus(),n=!0;break}if(!1===n){const e=document.querySelector(".header-bottom .desktop-menu > .menu");if(!0==("none"===window.getComputedStyle(e).display)){const e=document.querySelectorAll(".nav-toggle__button, .breadcrumb a:last-of-type");e[e.length-1].focus()}else{const e=document.querySelectorAll(".nav-toggle__button, .header-bottom .menu--level-0 > .menu__item:last-child > .menu__link-wrapper :where(a, button), .breadcrumb a:last-of-type");e[e.length-1].focus()}}}),1)}function o(e){t(e.target.closest(".js-announcement"))}window.unhideAnnouncements=function(){window.localStorage.removeItem(n),window.location.reload()},function(){const n=document.querySelectorAll(`.${e}`);for(let t=0;t<n.length;t++){const c=n[t];c.addEventListener("click",o),c.classList.remove(e)}}()}}}(Drupal);