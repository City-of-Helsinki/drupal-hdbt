!function(){"use strict";var t,e={4688:function(t,e){e.Z=class{constructor(t){this.storageKey=t,this.loadData()}loadData(){const t=localStorage.getItem(this.storageKey);this.data=t?JSON.parse(t):{}}saveData(){localStorage.setItem(this.storageKey,JSON.stringify(this.data))}addValue(t,e){this.data[t]||(this.data[t]=[]),"string"!=typeof e||this.data[t].includes(e)||(this.data[t].push(e),this.saveData())}getValues(t){return this.data[t]||null}removeValue(t,e){if(this.data[t]){const n=this.data[t].indexOf(e);n>-1&&(this.data[t].splice(n,1),this.saveData())}}}}},n={};function a(t){var o=n[t];if(void 0!==o)return o.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,a),s.exports}t=a(4688),function(Drupal){Drupal.behaviors.closable_announcements={attach:function(){const e="js-announcement__close--disabled",n="hidden-helfi-announcements",a=new t.Z("helfi-settings");function o(t){!function(t){const{uuid:e}=t.dataset;e&&a.addValue(n,e)}(t),t.style=`--js-announcement-height: ${t.offsetHeight}px`,window.setTimeout((()=>{let e=!1;const n=document.querySelectorAll(".announcement:not(.js-announcement--hide)");t.classList.add("js-announcement--hide");for(let a=0,o=n.length;a<o;a++)if(n[a].dataset.uuid===t.dataset.uuid&&a>0){const t=n[a-1].querySelectorAll(".announcement__close, .announcement__link a");t[t.length-1].focus(),e=!0;break}if(!1===e){const t=document.querySelector(".header-bottom .desktop-menu > .menu");if(!0==("none"===window.getComputedStyle(t).display)){const t=document.querySelectorAll(".nav-toggle__button, .breadcrumb a:last-of-type");t[t.length-1].focus()}else{const t=document.querySelectorAll(".nav-toggle__button, .header-bottom .menu--level-0 > .menu__item:last-child > .menu__link-wrapper :where(a, button), .breadcrumb a:last-of-type");t[t.length-1].focus()}}}),1)}function s(t){o(t.target.closest(".js-announcement"))}window.unhideAnnouncements=function(){a.removeValue(n),window.location.reload()},function(){const t=document.querySelectorAll(`.${e}`);for(let n=0;n<t.length;n++){const a=t[n];a.addEventListener("click",s),a.classList.remove(e)}}()}}}(Drupal)}();