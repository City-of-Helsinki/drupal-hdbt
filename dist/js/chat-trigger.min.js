(()=>{var h=Object.defineProperty;var r=(i,n)=>h(i,"name",{value:n,configurable:!0});r(function(){let n={fallback:{fi:"Chatti ei ole saatavilla.",sv:"Chatten är inte tillgänglig.",en:"The chat is not available."},openChat:{fi:"Avaa chat",sv:"Öppna chatten",en:"Open the chat"}};function d(o){return new Promise(c=>{let e=document.querySelector(o);if(e)c(e);else{let a=new MutationObserver(()=>{let t=document.querySelector(o);t&&(a.disconnect(),c(t))});a.observe(document.documentElement,{childList:!0,subtree:!0})}})}r(d,"waitForElement");function u(){let o=document.querySelectorAll("p[data-chat-trigger]"),c=window?.drupalSettings?.path?.currentLanguage||"en";o.forEach(e=>{let a=e.dataset.chatTrigger;if(!document.querySelector(a)){let t=n.fallback[c]||n.fallback.en;e.textContent=t}d(a).then(()=>{let t=document.createElement("button");t.textContent=n.openChat[c]||n.openChat.en,t.dataset.hdsComponent="button",t.dataset.hdsVariant="secondary",t.dataset.clickSelector=a,t.addEventListener("click",g=>{let s=g.target?.dataset?.clickSelector;if(s){let l=document.querySelector(s);l&&l.click()}}),e.removeAttribute("data-chat-trigger"),e.innerHTML="",e.appendChild(t)})})}r(u,"init"),window.addEventListener("DOMContentLoaded",u)},"chatTriggerWrapper")();})();
