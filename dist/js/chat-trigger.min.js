!function(){const t={fallback:{fi:"Chatti ei ole saatavilla.",sv:"Chatten är inte tillgänglig.",en:"The chat is not available."},openChat:{fi:"Avaa chat",sv:"Öppna chatten",en:"Open the chat"}};window.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll("p[data-chat-trigger]"),n=window?.drupalSettings?.path?.currentLanguage||"en";e.forEach((e=>{const a=e.dataset.chatTrigger;if(!document.querySelector(a)){const a=t.fallback[n]||t.fallback.en;e.textContent=a}var c;(c=a,new Promise((t=>{const e=document.querySelector(c);if(e)t(e);else{const e=new MutationObserver((()=>{const n=document.querySelector(c);n&&(e.disconnect(),t(n))}));e.observe(document.documentElement,{childList:!0,subtree:!0})}}))).then((()=>{const c=document.createElement("button");c.textContent=t.openChat[n]||t.openChat.en,c.dataset.hdsComponent="button",c.dataset.hdsVariant="secondary",c.dataset.clickSelector=a,c.addEventListener("click",(t=>{const e=t.target?.dataset?.clickSelector;if(e){const t=document.querySelector(e);t&&t.click()}})),e.removeAttribute("data-chat-trigger"),e.innerHTML="",e.appendChild(c)}))}))}))}();