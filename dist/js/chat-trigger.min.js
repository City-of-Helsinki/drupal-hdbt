(()=>{var t=Object.defineProperty;var e=(e,n)=>t(e,"name",{value:n,configurable:true});e(function t(){const n={fallback:{fi:"Chatti ei ole saatavilla.",sv:"Chatten är inte tillgänglig.",en:"The chat is not available."},openChat:{fi:"Avaa chat",sv:"Öppna chatten",en:"Open the chat"}};function a(t){return new Promise(e=>{const n=document.querySelector(t);if(n){e(n)}else{const n=new MutationObserver(()=>{const a=document.querySelector(t);if(a){n.disconnect();e(a)}});n.observe(document.documentElement,{childList:true,subtree:true})}})}e(a,"waitForElement");function c(){const t=document.querySelectorAll("p[data-chat-trigger]");const e=window?.drupalSettings?.path?.currentLanguage||"en";t.forEach(t=>{const c=t.dataset.chatTrigger;if(!document.querySelector(c)){const a=n.fallback[e]||n.fallback.en;t.textContent=a}a(c).then(()=>{const a=document.createElement("button");a.textContent=n.openChat[e]||n.openChat.en;a.dataset.hdsComponent="button";a.dataset.hdsVariant="secondary";a.dataset.clickSelector=c;a.addEventListener("click",t=>{const e=t.target?.dataset?.clickSelector;if(e){const t=document.querySelector(e);if(t){t.click()}}});t.removeAttribute("data-chat-trigger");t.innerHTML="";t.appendChild(a)})})}e(c,"init");window.addEventListener("DOMContentLoaded",c)},"chatTriggerWrapper")()})();