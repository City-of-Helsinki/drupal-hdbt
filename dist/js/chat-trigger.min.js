/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/chat-trigger.js":
/*!********************************!*\
  !*** ./src/js/chat-trigger.js ***!
  \********************************/
/***/ (function() {

eval("// This script replaces chat trigger placeholder elements with buttons that open the chat.\n(function chatTriggerWrapper() {\n  const triggerTranslations = {\n    fallback: {\n      fi: 'Chatti ei ole saatavilla.',\n      sv: 'Chatten är inte tillgänglig.',\n      en: 'The chat is not available.'\n    },\n    openChat: {\n      fi: 'Avaa chat',\n      sv: 'Öppna chatten',\n      en: 'Open the chat'\n    }\n  };\n\n  /**\n   * Waits for an element to appear in the DOM and resolves with the element.\n   *\n   * @param {string} selector - The CSS selector of the element to wait for.\n   * @return {Promise<Element>} A promise that resolves with the element once it appears in the DOM.\n   */\n  function waitForElement(selector) {\n    return new Promise(resolve => {\n      // First check, if the element exists already.\n      const element = document.querySelector(selector);\n      if (element) {\n        resolve(element);\n      } else {\n        // If not, wait for it to appear.\n        const observer = new MutationObserver(() => {\n          const elem = document.querySelector(selector);\n          if (elem) {\n            observer.disconnect();\n            resolve(elem);\n          }\n        });\n        observer.observe(document.documentElement, {\n          childList: true,\n          subtree: true\n        });\n      }\n    });\n  }\n\n  /**\n   * Try to find the chat trigger placeholder elements and replace them with buttons that open the chat.\n   */\n  function init() {\n    // Find all chat trigger placeholder elements.\n    const placeholders = document.querySelectorAll('p[data-chat-trigger]');\n\n    // Get the language, fallback to english.\n    const lang = window?.drupalSettings?.path?.currentLanguage || 'en';\n\n    // Iterate over each placeholder.\n    placeholders.forEach(placeholder => {\n      // Get target selector from attribute\n      const targetSelector = placeholder.dataset.chatTrigger;\n\n      // The trigger is present but the chat is not available, show fallback until chat is available.\n      if (!document.querySelector(targetSelector)) {\n        const content = triggerTranslations.fallback[lang] || triggerTranslations.fallback.en;\n        placeholder.textContent = content;\n      }\n\n      // Wait for the target element to appear in the DOM and replace the trigger with a button that opens the chat.\n      waitForElement(targetSelector).then(() => {\n        const triggerButton = document.createElement('button');\n        triggerButton.textContent = triggerTranslations.openChat[lang] || triggerTranslations.openChat.en;\n        triggerButton.dataset.hdsComponent = 'button';\n        triggerButton.dataset.hdsVariant = 'secondary';\n        triggerButton.dataset.clickSelector = targetSelector;\n        triggerButton.addEventListener('click', event => {\n          const selector = event.target?.dataset?.clickSelector;\n          if (selector) {\n            const clickTarget = document.querySelector(selector);\n            if (clickTarget) {\n              clickTarget.click();\n            }\n          }\n        });\n        placeholder.removeAttribute('data-chat-trigger');\n        placeholder.innerHTML = '';\n        placeholder.appendChild(triggerButton);\n      });\n    });\n  }\n  window.addEventListener('DOMContentLoaded', init);\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY2hhdC10cmlnZ2VyLmpzIiwibmFtZXMiOlsiY2hhdFRyaWdnZXJXcmFwcGVyIiwidHJpZ2dlclRyYW5zbGF0aW9ucyIsImZhbGxiYWNrIiwiZmkiLCJzdiIsImVuIiwib3BlbkNoYXQiLCJ3YWl0Rm9yRWxlbWVudCIsInNlbGVjdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiZWxlbSIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiZG9jdW1lbnRFbGVtZW50IiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImluaXQiLCJwbGFjZWhvbGRlcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGFuZyIsIndpbmRvdyIsImRydXBhbFNldHRpbmdzIiwicGF0aCIsImN1cnJlbnRMYW5ndWFnZSIsImZvckVhY2giLCJwbGFjZWhvbGRlciIsInRhcmdldFNlbGVjdG9yIiwiZGF0YXNldCIsImNoYXRUcmlnZ2VyIiwiY29udGVudCIsInRleHRDb250ZW50IiwidGhlbiIsInRyaWdnZXJCdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiaGRzQ29tcG9uZW50IiwiaGRzVmFyaWFudCIsImNsaWNrU2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbGlja1RhcmdldCIsImNsaWNrIiwicmVtb3ZlQXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2VicGFjazovL2hkYnQvLi9zcmMvanMvY2hhdC10cmlnZ2VyLmpzPzcwM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBzY3JpcHQgcmVwbGFjZXMgY2hhdCB0cmlnZ2VyIHBsYWNlaG9sZGVyIGVsZW1lbnRzIHdpdGggYnV0dG9ucyB0aGF0IG9wZW4gdGhlIGNoYXQuXG4oZnVuY3Rpb24gY2hhdFRyaWdnZXJXcmFwcGVyKCkge1xuICBjb25zdCB0cmlnZ2VyVHJhbnNsYXRpb25zID0ge1xuICAgIGZhbGxiYWNrOiB7XG4gICAgICBmaTogJ0NoYXR0aSBlaSBvbGUgc2FhdGF2aWxsYS4nLFxuICAgICAgc3Y6ICdDaGF0dGVuIMOkciBpbnRlIHRpbGxnw6RuZ2xpZy4nLFxuICAgICAgZW46ICdUaGUgY2hhdCBpcyBub3QgYXZhaWxhYmxlLidcbiAgICB9LFxuICAgIG9wZW5DaGF0OiB7XG4gICAgICBmaTogJ0F2YWEgY2hhdCcsXG4gICAgICBzdjogJ8OWcHBuYSBjaGF0dGVuJyxcbiAgICAgIGVuOiAnT3BlbiB0aGUgY2hhdCdcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciBhbiBlbGVtZW50IHRvIGFwcGVhciBpbiB0aGUgRE9NIGFuZCByZXNvbHZlcyB3aXRoIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIG9mIHRoZSBlbGVtZW50IHRvIHdhaXQgZm9yLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEVsZW1lbnQ+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBlbGVtZW50IG9uY2UgaXQgYXBwZWFycyBpbiB0aGUgRE9NLlxuICAgKi9cbiAgZnVuY3Rpb24gd2FpdEZvckVsZW1lbnQoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAvLyBGaXJzdCBjaGVjaywgaWYgdGhlIGVsZW1lbnQgZXhpc3RzIGFscmVhZHkuXG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICByZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHsgLy8gSWYgbm90LCB3YWl0IGZvciBpdCB0byBhcHBlYXIuXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgcmVzb2x2ZShlbGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUsIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyeSB0byBmaW5kIHRoZSBjaGF0IHRyaWdnZXIgcGxhY2Vob2xkZXIgZWxlbWVudHMgYW5kIHJlcGxhY2UgdGhlbSB3aXRoIGJ1dHRvbnMgdGhhdCBvcGVuIHRoZSBjaGF0LlxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgIC8vIEZpbmQgYWxsIGNoYXQgdHJpZ2dlciBwbGFjZWhvbGRlciBlbGVtZW50cy5cbiAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwW2RhdGEtY2hhdC10cmlnZ2VyXScpO1xuXG4gICAgLy8gR2V0IHRoZSBsYW5ndWFnZSwgZmFsbGJhY2sgdG8gZW5nbGlzaC5cbiAgICBjb25zdCBsYW5nID0gd2luZG93Py5kcnVwYWxTZXR0aW5ncz8ucGF0aD8uY3VycmVudExhbmd1YWdlIHx8ICdlbic7XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgZWFjaCBwbGFjZWhvbGRlci5cbiAgICBwbGFjZWhvbGRlcnMuZm9yRWFjaChwbGFjZWhvbGRlciA9PiB7XG4gICAgICAvLyBHZXQgdGFyZ2V0IHNlbGVjdG9yIGZyb20gYXR0cmlidXRlXG4gICAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHBsYWNlaG9sZGVyLmRhdGFzZXQuY2hhdFRyaWdnZXI7XG5cbiAgICAgIC8vIFRoZSB0cmlnZ2VyIGlzIHByZXNlbnQgYnV0IHRoZSBjaGF0IGlzIG5vdCBhdmFpbGFibGUsIHNob3cgZmFsbGJhY2sgdW50aWwgY2hhdCBpcyBhdmFpbGFibGUuXG4gICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0cmlnZ2VyVHJhbnNsYXRpb25zLmZhbGxiYWNrW2xhbmddIHx8IHRyaWdnZXJUcmFuc2xhdGlvbnMuZmFsbGJhY2suZW47XG4gICAgICAgIHBsYWNlaG9sZGVyLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICAgIH1cblxuICAgICAgLy8gV2FpdCBmb3IgdGhlIHRhcmdldCBlbGVtZW50IHRvIGFwcGVhciBpbiB0aGUgRE9NIGFuZCByZXBsYWNlIHRoZSB0cmlnZ2VyIHdpdGggYSBidXR0b24gdGhhdCBvcGVucyB0aGUgY2hhdC5cbiAgICAgIHdhaXRGb3JFbGVtZW50KHRhcmdldFNlbGVjdG9yKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgdHJpZ2dlckJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0cmlnZ2VyQnV0dG9uLnRleHRDb250ZW50ID0gdHJpZ2dlclRyYW5zbGF0aW9ucy5vcGVuQ2hhdFtsYW5nXSB8fCB0cmlnZ2VyVHJhbnNsYXRpb25zLm9wZW5DaGF0LmVuO1xuICAgICAgICB0cmlnZ2VyQnV0dG9uLmRhdGFzZXQuaGRzQ29tcG9uZW50ID0gJ2J1dHRvbic7XG4gICAgICAgIHRyaWdnZXJCdXR0b24uZGF0YXNldC5oZHNWYXJpYW50ID0gJ3NlY29uZGFyeSc7XG4gICAgICAgIHRyaWdnZXJCdXR0b24uZGF0YXNldC5jbGlja1NlbGVjdG9yID0gdGFyZ2V0U2VsZWN0b3I7XG4gICAgICAgIHRyaWdnZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IGV2ZW50LnRhcmdldD8uZGF0YXNldD8uY2xpY2tTZWxlY3RvcjtcbiAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAoY2xpY2tUYXJnZXQpIHtcbiAgICAgICAgICAgICAgY2xpY2tUYXJnZXQuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwbGFjZWhvbGRlci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtY2hhdC10cmlnZ2VyJyk7XG4gICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwbGFjZWhvbGRlci5hcHBlbmRDaGlsZCh0cmlnZ2VyQnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0KTtcbn0pKCk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsQ0FBQyxTQUFTQSxrQkFBa0JBLENBQUEsRUFBRztFQUM3QixNQUFNQyxtQkFBbUIsR0FBRztJQUMxQkMsUUFBUSxFQUFFO01BQ1JDLEVBQUUsRUFBRSwyQkFBMkI7TUFDL0JDLEVBQUUsRUFBRSw4QkFBOEI7TUFDbENDLEVBQUUsRUFBRTtJQUNOLENBQUM7SUFDREMsUUFBUSxFQUFFO01BQ1JILEVBQUUsRUFBRSxXQUFXO01BQ2ZDLEVBQUUsRUFBRSxlQUFlO01BQ25CQyxFQUFFLEVBQUU7SUFDTjtFQUNGLENBQUM7O0VBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsU0FBU0UsY0FBY0EsQ0FBQ0MsUUFBUSxFQUFFO0lBQ2hDLE9BQU8sSUFBSUMsT0FBTyxDQUFDQyxPQUFPLElBQUk7TUFDNUI7TUFDQSxNQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxD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\n//# sourceURL=webpack-internal:///./src/js/chat-trigger.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/chat-trigger.js"]();
/******/ 	
/******/ })()
;
//# sourceMappingURL=chat-trigger.min.js.map