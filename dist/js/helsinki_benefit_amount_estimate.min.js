(()=>{var e=Object.defineProperty;var t=(t,a)=>e(t,"name",{value:a,configurable:true});function a(e,t,a){return{form_id:e,has_required_fields:true,items:[{heading:{text:t("heading_employer"),level:3}},{radio:{id:"company_type",label:t("label_company_type"),required:true,radio_items:[{name:"company_type",item_id:"company_type_business",label:t("label_company_type_business"),value:"business"},{name:"company_type",item_id:"company_type_association",label:t("label_company_type_association"),value:"association"}]}},{group:{id:"association_has_business_activities_true_group",hide_group:true,items:[{paragraph:{text:""}},{checkbox:{id:"association_has_business_activities",label:t("label_association_has_business_activities"),helper_text:t("helper_text_association_has_business_activities")}}]}},{heading:{text:t("heading_employee"),level:3}},{input_integer:{id:"monthly_pay",label:t("label_monthly_pay"),unit:t("unit_euro"),min:0,max:1e4,size:12,required:true,strip:"[€eE ]",helper_text:t("helper_text_monthly_pay")}},{input_integer:{id:"vacation_money",label:t("label_vacation_money"),unit:t("unit_euro"),min:0,max:454,size:12,required:false,strip:"[€eE ]",helper_text:t("helper_text_vacation_money")}},{heading:{text:t("heading_pay_subsidy_information"),level:3}},{paragraph:{text:t("text_pay_subsidy_information")}},{radio:{id:"pay_subsidy_granted",label:t("label_pay_subsidy_granted"),required:true,radio_items:[{name:"pay_subsidy_granted",item_id:"pay_subsidy_granted_false",label:t("label_pay_subsidy_false"),value:"pay_subsidy_granted_false"},{name:"pay_subsidy_granted",item_id:"pay_subsidy_granted_true",label:t("label_pay_subsidy_true"),value:"pay_subsidy_granted_true"}]}},{group:{id:"pay_subsidy_granted_group",hide_group:true,items:[{radio:{id:"pay_subsidy_percentage",label:t("label_pay_subsidy_percentage"),required:true,helper_text:t("helper_text_pay_subsidy_percentage"),radio_items:[{name:"pay_subsidy_percentage",item_id:"pay_subsidy_percentage_1",label:t("label_pay_subsidy_percentage_1",{value:a.PAY_SUBSIDY_PERCENTAGES[1]*100}),value:1},{name:"pay_subsidy_percentage",item_id:"pay_subsidy_percentage_2",label:t("label_pay_subsidy_percentage_2",{value:a.PAY_SUBSIDY_PERCENTAGES[2]*100}),value:2}]}}]}}]}}t(a,"getFormData");var s={getFormData:a};var i={heading_employer:{fi:"Työnantajan tiedot",sv:"Arbetsgivarens uppgifter",en:"Employer information"},heading_employee:{fi:"Työsuhteen tiedot",sv:"Arbetstagarens uppgifter",en:"Employee details"},label_company_type:{fi:"Työnantajan muoto",sv:"Arbetsgivarens form",en:"Type of employer"},label_company_type_business:{fi:"Työnantaja on yritys",sv:"Arbetsgivaren är ett företag",en:"The employer is a company"},label_company_type_association:{fi:"Työnantaja on yhteisö",sv:"Arbetsgivaren är en organisation",en:"The employer is an organization"},label_association_has_business_activities:{fi:"Yhteisö harjoittaa taloudellista toimintaa",sv:"Organisationen bedriver ekonomisk verksamhet",en:"The organization engages in economic activity"},helper_text_association_has_business_activities:{fi:"Taloudellinen toiminta tarkoittaa palveluiden ja tuotteiden myyntiä, joka on jatkuvaa, ansiotarkoituksessa ja kilpailuolosuhteissa tapahtuvaa. Kaikkien kolmen edellytyksen tulee täyttyä samanaikaisesti.",sv:"Ekonomisk verksamhet innebär försäljning av tjänster och produkter som är kontinuerlig, vinstdrivande och sker under konkurrensförhållanden. Alla tre villkoren måste uppfyllas samtidigt.",en:"Economic activity refers to the sale of services and products that is continuous, profitable and occurs under competitive conditions. All three criteria must be met at the same time."},label_monthly_pay:{fi:"Työntekijän tuleva bruttopalkka",sv:"Arbetstagarens framtida bruttolön",en:"Future gross salary of the employee"},helper_text_monthly_pay:{fi:"Euroa kuukaudessa. Arvioi bruttopalkan suuruus työsuhteeseen, johon Helsinki-lisää haetaan.",sv:"Euro per månad. Uppskatta bruttolönen för den anställning som Helsingforstillägget ansöks om.",en:"Euros per month. Estimate the gross salary for the employment for which the Helsinki benefit is being applied."},label_vacation_money:{fi:"Lomaraha",sv:"Semesterpenning",en:"Holiday pay"},helper_text_vacation_money:{fi:"Euroa kuukaudessa. Jos jätät kentän tyhjäksi, niin lomaraha jätetään huomioimatta laskelmassa.",sv:"Euro per månad. Om du lämnar fältet tomt kommer semesterpenningen inte att beaktas i beräkningen.",en:"Euros per month. If you leave this field empty, the holiday pay will not be included in the calculation."},heading_pay_subsidy_information:{fi:"Muut työsuhteeseen haettavat tai myönnetyt tuet",sv:"Andra stöd för anställningen som ansöks om eller beviljats",en:"Other subsidies applied for or granted for the employment"},text_pay_subsidy_information:{fi:"Helsinki-lisän lisäksi työsuhteeseen voidaan myöntää muita tukia kattamaan palkkaamisesta aiheutuvia kustannuksia.",sv:"Förutom Helsingforstillägget kan andra stöd beviljas för att täcka kostnaderna för anställningen.",en:"In addition to the Helsinki benefit, other subsidies may be granted to cover the costs of employment."},label_pay_subsidy_granted:{fi:"Työsuhteeseen myönnetyt tai haetut muut tuet, kuten palkkatuki",sv:"Andra stöd som beviljats eller ansökts om för anställningen",en:"Other subsidies applied for or granted for the employment"},label_pay_subsidy_false:{fi:"Työsuhteeseen ei ole myönnetty tai haettu muuta tukea",sv:"Inget annat stöd har beviljats eller ansökts om",en:"No other subsidy has been granted or applied"},label_pay_subsidy_true:{fi:"Palkkatuki tai 55 vuotta täyttäneiden työllistämistuki",sv:"Lönesubvention eller anställningsstöd för personer över 55 år",en:"Pay subsidy or employment subsidy for ages 55 and above"},label_pay_subsidy_percentage:{fi:"Palkkatuen prosentti tai myöntämisperuste",sv:"Lönesubvention procent eller beviljningsgrund",en:"Wage subsidy percentage or basis for granting"},label_pay_subsidy_percentage_1:{fi:"Tuki kattaa ${value} % palkkauskustannuksista (tuen perusteena ammatillisen osaamisen parantaminen)",sv:"${value} % av anställningskostnaderna (stödet baseras på förbättring av yrkeskompetensen)",en:"${value} % of employment costs (subsidy based on improving professional skills)"},label_pay_subsidy_percentage_2:{fi:"Tuki kattaa ${value} % palkkauskustannuksista (tuen perusteena alentunut työkyky tai 55 vuotta täyttäneiden työllistämistuki)",sv:"${value} % av anställningskostnaderna (stödet baseras på nedsatt arbetsförmåga eller anställningsstöd för personer över 55 år)",en:"${value} % of employment costs (subsidy based on disability or illness that reduces work capacity or employment subsidy for ages 55 and above)"},helper_text_pay_subsidy_percentage:{fi:"Valitse sopivin vaihtoehto joko tuen prosentin tai tukea haettavan perusteen mukaan.",sv:"Välj det mest lämpliga alternativet baserat på antingen stödbeloppets procent eller grunden för att ansöka om stödet.",en:"Select the most suitable option based on either the subsidy percentage or the reason for applying for the subsidy."},total_title:{fi:"Arvio Helsinki-lisästä",sv:"Uppskattning av Helsingforstillägget",en:"Estimate of the Helsinki benefit"},total_prefix:{fi:"Työnantajalle arvoitu Helsinki-lisä",sv:"Beräknat Helsingforstillägget för arbetsgivaren",en:"Estimated Helsinki benefit for the employer"},total_suffix:{fi:"euroa kuukaudessa",sv:"euro per månad",en:"euros per month"},total_explanation:{fi:"Arvio tuen määrästä on suuntaa antava eikä se takaa lopullista tuen määrää. Helsinki-lisää myönnetään työsuhteen ajaksi, kuitenkin enintään 12 kuukaudeksi. Tuen myöntäminen edellyttää, että työllistettävälle on myönnetty Helsinki-lisä-kortti, palkkatukea tai 55 vuotta täyttäneiden työllistämistukea.",sv:"Uppskattningen av stödets belopp är vägledande och garanterar inte det slutliga beloppet. Helsingforstilläggetet beviljas för anställningstiden, dock högst 12 månader. För att stödet ska beviljas krävs att den anställde har beviljats ett Helsingforstilläggskort, lönebidrag eller anställningsstöd för personer över 55 år.",en:"The estimate of the financial support amount is indicative and does not guarantee the final amount of the support. The Helsinki benefit is granted for the duration of the employment, maximum of 12 months. Granting the support requires that the employee has been issued the Helsinki benefit card, pay subsidy, or employment subsidy for ages 55 and above."},breakdown_title:{fi:"Arvio muodostuu seuraavista tiedoista:",sv:"Uppskattningen baseras på följande uppgifter:",en:"The estimate is based on the following information:"},subtotal_title:{fi:"Työsuhde",sv:"Anställning",en:"Employment relationship"},subtotal_details_1:{fi:"Työllistettävän bruttopalkka: ${value} euroa kuukaudessa.",sv:"Bruttolön: ${value} euro per månad.",en:"Gross salary: ${value} euros per month."},subtotal_details_2:{fi:"Lomaraha: ${value} euroa kuukaudessa.",sv:"Semesterpenning: ${value} euro per månad.",en:"Holiday pay: ${value} euros per month."},subtotal_details_3:{fi:"Sivukulut: ${value} euroa bruttopalkasta. Arviossa on käytetty keskimääräistä arviota sivukuluista.",sv:"Bikostnader: ${value} euro av bruttolönen. En genomsnittlig uppskattning av bikostnaderna har använts i beräkningen.",en:"Additional costs: ${value} euros per month. The calculation result uses an average estimate of additional costs."},subtotal_details_4:{fi:"Työsuhteeseen on myönnetty palkkatuki, joka kattaa ${value} % palkkakustannuksista.",sv:"Lönesubventionen som beviljats för anställningen täcker ${value} % av lönekostnaderna.",en:"The pay subsidy granted for the employment covers ${value} % of the salary costs."},additional_details_title:{fi:"Lisähuomiot",sv:"Ytterligare anmärkningar",en:"Additional information"},additional_details_text_1:{fi:"Oppisopimuksissa Helsinki-lisää voidaan myöntää koko oppisopimuksen ajaksi.",sv:"För lärlingsavtal kan Helsingforstillägget beviljas för hela lärlingstiden.",en:"For apprenticeships, the Helsinki benefit can be granted for the entire duration of the apprenticeship."},additional_details_text_2:{fi:"Laskuri ei tue tapausta, jossa palkkatuen määrä on 100 prosenttia työntekijän palkkakustannuksista 65 prosentin työajalla.",sv:"Beräknaren stöder inte fall där lönesubventionen är 100 procent av anställningskostnaderna vid 65 procents arbetstid.",en:"The calculator does not support cases where the pay subsidy amount is 100 percent of the employee's salary costs with 65 percent working time."},error_calculation_title:{fi:"Laskenta epäonnistui.",sv:"Uppskattningen misslyckades.",en:"Calculation failed."},error_calculation_message:{fi:"Ole hyvä ja tarkista syöttämäsi tiedot.",sv:"Var god och kontrollera de uppgifter du angett.",en:"Please check the information you have entered."}};var n=i;var l=class e{constructor(e,a){this.id=e;const i=JSON.parse(a);const l=t(()=>{const e=["HELSINKI_BENEFIT_MAX_AMOUNT_WITH_PAY_SUBSIDY","HELSINKI_BENEFIT_MAX_AMOUNT_WITHOUT_PAY_SUBSIDY","PAY_SUBSIDY_PERCENTAGES","PAY_SUBSIDY_AMOUNT_MAX_LIMIT","STATE_AID_PERCENTAGES","SALARY_OTHER_EXPENSES_PERCENTAGE"];if(!e.every(e=>Object.keys(i).includes(e))){console.error("Missing Drupal settings. Calculator won´t work!")}if(i.PAY_SUBSIDY_PERCENTAGES[0]!==0){console.error("First index of setting PAY_SUBSIDY_PERCENTAGES must be 0!")}if(i.PAY_SUBSIDY_AMOUNT_MAX_LIMIT[0]!==999999){console.error("First index of setting PAY_SUBSIDY_AMOUNT_MAX_LIMIT must be 999999!")}},"checkConfiguration");l();const o=t(()=>s.getFormData(this.id,this.t,i),"getFormData");const r=t(()=>this.calculator.getFieldValue("company_type")==="association","isEmployeeAssociation");const u=t(()=>this.calculator.getFieldValue("company_type")==="business","isEmployeeBusiness");const _=t(()=>r()&&this.calculator.getFieldValue("association_has_business_activities"),"hasBusinessActivities");const d=t(()=>parseInt(this.calculator.getFieldValue("monthly_pay"),10),"getMonthlyPay");const p=t(()=>{const e=parseInt(this.calculator.getFieldValue("vacation_money"),10);return Number.isNaN(e)?0:e},"getVacationMoney");const c=t(()=>{this.calculator.getElement("vacation_money").dataset.max=Math.floor(d()/2/11)},"setVacationMoneyMax");const y=t(()=>i.SALARY_OTHER_EXPENSES_PERCENTAGE*d(),"getOtherExpenses");const m=t(()=>[d(),p()].reduce((e,t)=>parseInt(e,10)+parseInt(t,10),y()),"getSalaryWithExpenses");const h=t(()=>this.calculator.getFieldValue("pay_subsidy_granted")==="pay_subsidy_granted_true","isPaySubsidyGranted");const g=t(()=>this.calculator.getFieldValue("pay_subsidy_percentage")||0,"getPaySubsidyPercentageOption");const b=t(()=>{const e=g();return h()?i.PAY_SUBSIDY_PERCENTAGES[e]:i.PAY_SUBSIDY_PERCENTAGES[0]},"getPaySubsidyPercentage");const v=t(()=>{const e=t((e,t)=>{const a=g();if(e===i.PAY_SUBSIDY_PERCENTAGES[a])return Math.min(t,i.PAY_SUBSIDY_AMOUNT_MAX_LIMIT[a]);return t},"getLimitedPaySubsidyAmount");const a=h()?b()*d():0;return h()?e(b(),a):0},"getPaySubsidyAmount");const k=t(()=>{const e=b();if(u()||_()){if(!h()){return i.STATE_AID_PERCENTAGES[1]}if(e===i.PAY_SUBSIDY_PERCENTAGES[1]){return i.STATE_AID_PERCENTAGES[1]}if(e===i.PAY_SUBSIDY_PERCENTAGES[2]){return i.STATE_AID_PERCENTAGES[2]}}return i.STATE_AID_PERCENTAGES[0]},"getStateAidPercentage");const f=t(()=>k()*m(),"getStateAidAmount");const E=t(()=>f()-v(),"getHelsinkiBenefitAmount");const A=t((e=false)=>{if(e){this.calculator.showGroup("pay_subsidy_granted_group");if(!this.calculator.getElement("pay_subsidy_percentage").querySelectorAll('input[type="radio"]:checked').length){this.calculator.getElement("pay_subsidy_percentage_1").checked=true}}else{this.calculator.hideGroup("pay_subsidy_granted_group");this.calculator.getElement("pay_subsidy_percentage_1").checked=false;this.calculator.getElement("pay_subsidy_percentage_2").checked=false}},"togglePaySubsidyPercentageGroup");const S=t(e=>this.calculator.formatFinnishEuroCents(e),"formatCurrency");const T=t(()=>{if(false){const e={isEmployeeAssociation:r(),isEmployeeBusiness:u(),hasBusinessActivities:_(),monthlyPay:d(),vacationMoney:p(),otherExpenses:y(),allExpenses:m(),isPaySubsidyGranted:h(),paySubsidyAmount:v(),paySubsidyPercentage:b(),stateAidPercentage:k(),stateAidAmount:f(),helsinkiBenefitAmount:E()};console.debug("\n\n###################");Object.keys(e).forEach(t=>{const a=e[t];console.debug(t,a)})}},"debugUpdate");const P=t(()=>{if(r()){this.calculator.showGroup("association_has_business_activities_true_group")}else{this.calculator.hideGroup("association_has_business_activities_true_group")}if(d()>0){c()}A(h());T()},"update");const I=t(()=>{const e=[];e.push(...this.calculator.validateBasics("company_type"));e.push(...this.calculator.validateBasics("monthly_pay"));e.push(...this.calculator.validateBasics("vacation_money"));e.push(...this.calculator.validateBasics("pay_subsidy_granted"));if(h()){e.push(...this.calculator.validateBasics("pay_subsidy_percentage"))}if(e.length){return{error:{title:this.t("missing_input"),message:e}}}const t=E();if(Number.isNaN(t)){return{error:{title:this.t("error_calculation_title"),message:this.t("error_calculation_message")}}}const a={title:this.t("subtotal_title"),has_details:true,details:[this.t("subtotal_details_1",{value:S(d())}),this.t("subtotal_details_2",{value:S(p())}),this.t("subtotal_details_3",{value:S(y()),percentage:i.SALARY_OTHER_EXPENSES_PERCENTAGE*100})]};if(h()){a.details.push(this.t("subtotal_details_4",{value:b()*100}))}const s={id:this.id,title:this.t("total_title"),total_prefix:this.t("total_prefix"),total_value:S(Math.max(0,Math.min(t,h()?i.HELSINKI_BENEFIT_MAX_AMOUNT_WITH_PAY_SUBSIDY:i.HELSINKI_BENEFIT_MAX_AMOUNT_WITHOUT_PAY_SUBSIDY))),total_suffix:this.t("total_suffix"),total_explanation:this.t("total_explanation"),hr:true,breakdown:[{title:this.t("breakdown_title"),subtotals:a},{title:null,subtotals:{title:this.t("additional_details_title"),has_details:true,details:[this.t("additional_details_text_1"),this.t("additional_details_text_2")]}}]};const n=this.calculator.getPartialRender("{{>receipt}}",s);return{receipt:n,ariaLive:this.t("receipt_aria_live",{payment:1234})}},"validate");const x={submit:t(e=>{this.calculator.clearResult();e.preventDefault();const t=I();this.calculator.renderResult(t)},"submit"),keydown:t(()=>{P()},"keydown"),change:t(()=>{P()},"change"),reset:t(()=>{window.setTimeout(P,1);this.calculator.clearResult();this.calculator.showAriaLiveText(this.t("reset_aria_live"))},"reset")};this.calculator=window.HelfiCalculator({name:"helsinki_benefit_amount_estimate",translations:n});this.t=(e,t)=>this.calculator.translate(e,t);this.settings=this.calculator.parseSettings(a);this.calculator.init({id:e,formData:o(),eventHandlers:x})}};t(l,"HelsinkiBenefitAmountEstimate");var o=l;window.helfi_calculator=window.helfi_calculator||{};window.helfi_calculator.helsinki_benefit_amount_estimate=(e,t)=>new o(e,t)})();