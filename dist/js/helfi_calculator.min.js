(()=>{var e=Object.defineProperty;var t=Object.getOwnPropertyNames;var n=(t,n)=>e(t,"name",{value:n,configurable:true});var i=(e,n)=>function i(){return n||(0,e[t(e)[0]])((n={exports:{}}).exports,n),n.exports};var r=i({"node_modules/mustache/mustache.js"(e,t){(function(n,i){typeof e==="object"&&typeof t!=="undefined"?t.exports=i():typeof define==="function"&&define.amd?define(i):(n=n||self,n.Mustache=i())})(e,function(){var e=Object.prototype.toString;var t=Array.isArray||n(function t(n){return e.call(n)==="[object Array]"},"isArrayPolyfill");function i(e){return typeof e==="function"}n(i,"isFunction");function r(e){return t(e)?"array":typeof e}n(r,"typeStr");function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}n(a,"escapeRegExp");function s(e,t){return e!=null&&typeof e==="object"&&t in e}n(s,"hasProperty");function l(e,t){return e!=null&&typeof e!=="object"&&e.hasOwnProperty&&e.hasOwnProperty(t)}n(l,"primitiveHasOwnProperty");var o=RegExp.prototype.test;function d(e,t){return o.call(e,t)}n(d,"testRegExp");var u=/\S/;function c(e){return!d(u,e)}n(c,"isWhitespace");var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function h(e){return String(e).replace(/[&<>"'`=\/]/g,n(function e(t){return p[t]},"fromEntityMap"))}n(h,"escapeHtml");var f=/\s*/;var _=/\s+/;var m=/\s*=/;var v=/\s*\}/;var g=/#|\^|\/|>|\{|&|=|!/;function b(e,i){if(!e)return[];var r=false;var s=[];var l=[];var o=[];var d=false;var u=false;var p="";var h=0;function b(){if(d&&!u){while(o.length)delete l[o.pop()]}else{o=[]}d=false;u=false}n(b,"stripSpace");var $,w,E;function T(e){if(typeof e==="string")e=e.split(_,2);if(!t(e)||e.length!==2)throw new Error("Invalid tags: "+e);$=new RegExp(a(e[0])+"\\s*");w=new RegExp("\\s*"+a(e[1]));E=new RegExp("\\s*"+a("}"+e[1]))}n(T,"compileTags");T(i||q.tags);var S=new k(e);var C,j,L,N,O,P;while(!S.eos()){C=S.pos;L=S.scanUntil($);if(L){for(var A=0,R=L.length;A<R;++A){N=L.charAt(A);if(c(N)){o.push(l.length);p+=N}else{u=true;r=true;p+=" "}l.push(["text",N,C,C+1]);C+=1;if(N==="\n"){b();p="";h=0;r=false}}}if(!S.scan($))break;d=true;j=S.scan(g)||"name";S.scan(f);if(j==="="){L=S.scanUntil(m);S.scan(m);S.scanUntil(w)}else if(j==="{"){L=S.scanUntil(E);S.scan(v);S.scanUntil(w);j="&"}else{L=S.scanUntil(w)}if(!S.scan(w))throw new Error("Unclosed tag at "+S.pos);if(j==">"){O=[j,L,C,S.pos,p,h,r]}else{O=[j,L,C,S.pos]}h++;l.push(O);if(j==="#"||j==="^"){s.push(O)}else if(j==="/"){P=s.pop();if(!P)throw new Error('Unopened section "'+L+'" at '+C);if(P[1]!==L)throw new Error('Unclosed section "'+P[1]+'" at '+C)}else if(j==="name"||j==="{"||j==="&"){u=true}else if(j==="="){T(L)}}b();P=s.pop();if(P)throw new Error('Unclosed section "'+P[1]+'" at '+S.pos);return x(y(l))}n(b,"parseTemplate");function y(e){var t=[];var n,i;for(var r=0,a=e.length;r<a;++r){n=e[r];if(n){if(n[0]==="text"&&i&&i[0]==="text"){i[1]+=n[1];i[3]=n[3]}else{t.push(n);i=n}}}return t}n(y,"squashTokens");function x(e){var t=[];var n=t;var i=[];var r,a;for(var s=0,l=e.length;s<l;++s){r=e[s];switch(r[0]){case"#":case"^":n.push(r);i.push(r);n=r[4]=[];break;case"/":a=i.pop();a[5]=r[2];n=i.length>0?i[i.length-1][4]:t;break;default:n.push(r)}}return t}n(x,"nestTokens");function k(e){this.string=e;this.tail=e;this.pos=0}n(k,"Scanner");k.prototype.eos=n(function e(){return this.tail===""},"eos");k.prototype.scan=n(function e(t){var n=this.tail.match(t);if(!n||n.index!==0)return"";var i=n[0];this.tail=this.tail.substring(i.length);this.pos+=i.length;return i},"scan");k.prototype.scanUntil=n(function e(t){var n=this.tail.search(t),i;switch(n){case-1:i=this.tail;this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,n);this.tail=this.tail.substring(n)}this.pos+=i.length;return i},"scanUntil");function $(e,t){this.view=e;this.cache={".":this.view};this.parent=t}n($,"Context");$.prototype.push=n(function e(t){return new $(t,this)},"push");$.prototype.lookup=n(function e(t){var n=this.cache;var r;if(n.hasOwnProperty(t)){r=n[t]}else{var a=this,o,d,u,c=false;while(a){if(t.indexOf(".")>0){o=a.view;d=t.split(".");u=0;while(o!=null&&u<d.length){if(u===d.length-1)c=s(o,d[u])||l(o,d[u]);o=o[d[u++]]}}else{o=a.view[t];c=s(a.view,t)}if(c){r=o;break}a=a.parent}n[t]=r}if(i(r))r=r.call(this.view);return r},"lookup");function w(){this.templateCache={_cache:{},set:n(function e(t,n){this._cache[t]=n},"set"),get:n(function e(t){return this._cache[t]},"get"),clear:n(function e(){this._cache={}},"clear")}}n(w,"Writer");w.prototype.clearCache=n(function e(){if(typeof this.templateCache!=="undefined"){this.templateCache.clear()}},"clearCache");w.prototype.parse=n(function e(t,n){var i=this.templateCache;var r=t+":"+(n||q.tags).join(":");var a=typeof i!=="undefined";var s=a?i.get(r):void 0;if(s==void 0){s=b(t,n);a&&i.set(r,s)}return s},"parse");w.prototype.render=n(function e(t,n,i,r){var a=this.getConfigTags(r);var s=this.parse(t,a);var l=n instanceof $?n:new $(n,void 0);return this.renderTokens(s,l,i,t,r)},"render");w.prototype.renderTokens=n(function e(t,n,i,r,a){var s="";var l,o,d;for(var u=0,c=t.length;u<c;++u){d=void 0;l=t[u];o=l[0];if(o==="#")d=this.renderSection(l,n,i,r,a);else if(o==="^")d=this.renderInverted(l,n,i,r,a);else if(o===">")d=this.renderPartial(l,n,i,a);else if(o==="&")d=this.unescapedValue(l,n);else if(o==="name")d=this.escapedValue(l,n,a);else if(o==="text")d=this.rawValue(l);if(d!==void 0)s+=d}return s},"renderTokens");w.prototype.renderSection=n(function e(r,a,s,l,o){var d=this;var u="";var c=a.lookup(r[1]);function p(e){return d.render(e,a,s,o)}n(p,"subRender");if(!c)return;if(t(c)){for(var h=0,f=c.length;h<f;++h){u+=this.renderTokens(r[4],a.push(c[h]),s,l,o)}}else if(typeof c==="object"||typeof c==="string"||typeof c==="number"){u+=this.renderTokens(r[4],a.push(c),s,l,o)}else if(i(c)){if(typeof l!=="string")throw new Error("Cannot use higher-order sections without the original template");c=c.call(a.view,l.slice(r[3],r[5]),p);if(c!=null)u+=c}else{u+=this.renderTokens(r[4],a,s,l,o)}return u},"renderSection");w.prototype.renderInverted=n(function e(n,i,r,a,s){var l=i.lookup(n[1]);if(!l||t(l)&&l.length===0)return this.renderTokens(n[4],i,r,a,s)},"renderInverted");w.prototype.indentPartial=n(function e(t,n,i){var r=n.replace(/[^ \t]/g,"");var a=t.split("\n");for(var s=0;s<a.length;s++){if(a[s].length&&(s>0||!i)){a[s]=r+a[s]}}return a.join("\n")},"indentPartial");w.prototype.renderPartial=n(function e(t,n,r,a){if(!r)return;var s=this.getConfigTags(a);var l=i(r)?r(t[1]):r[t[1]];if(l!=null){var o=t[6];var d=t[5];var u=t[4];var c=l;if(d==0&&u){c=this.indentPartial(l,u,o)}var p=this.parse(c,s);return this.renderTokens(p,n,r,c,a)}},"renderPartial");w.prototype.unescapedValue=n(function e(t,n){var i=n.lookup(t[1]);if(i!=null)return i},"unescapedValue");w.prototype.escapedValue=n(function e(t,n,i){var r=this.getConfigEscape(i)||q.escape;var a=n.lookup(t[1]);if(a!=null)return typeof a==="number"&&r===q.escape?String(a):r(a)},"escapedValue");w.prototype.rawValue=n(function e(t){return t[1]},"rawValue");w.prototype.getConfigTags=n(function e(n){if(t(n)){return n}else if(n&&typeof n==="object"){return n.tags}else{return void 0}},"getConfigTags");w.prototype.getConfigEscape=n(function e(n){if(n&&typeof n==="object"&&!t(n)){return n.escape}else{return void 0}},"getConfigEscape");var q={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){E.templateCache=e},get templateCache(){return E.templateCache}};var E=new w;q.clearCache=n(function e(){return E.clearCache()},"clearCache");q.parse=n(function e(t,n){return E.parse(t,n)},"parse");q.render=n(function e(t,n,i,a){if(typeof t!=="string"){throw new TypeError('Invalid template! Template should be a "string" but "'+r(t)+'" was given as the first argument for mustache#render(template, view, partials)')}return E.render(t,n,i,a)},"render");q.escape=h;q.Scanner=k;q.Context=$;q.Writer=w;return q})}});var a={has_required_fields:{fi:"Pakolliset kentät on merkitty tähdellä ${required}.",sv:"Obligatoriska fält är markerade med en asterisk ${required}.",en:"Required fields are indicated with an asterisk ${required}."},not_saved:{fi:'Huomioithan, että laskuriin antamiasi tietoja ei tallenneta eikä lähetetä eteenpäin. Jos muutat laskurin tietoja, muista painaa "${calculate}" uudelleen.',sv:'Observera att de uppgifter som du anger i räknaren inte sparas eller skickas vidare. Om du ändrar uppgifterna i räknaren ska du komma ihåg att klicka på "${calculate}" på nytt.',en:'Please note that the information you enter will not be stored or forwarded. If you change any of the calculator information, remember to click "${calculate}" again.'},unit_euro:{fi:"euroa",sv:"euro",en:"euros"},unit_person:{fi:"henkilöä",sv:"personer",en:"persons"},unit_day:{fi:"päivää",sv:"dagar",en:"days"},unit_hour:{fi:"tuntia",sv:"timmar",en:"hours"},unit_amount:{fi:"kpl",sv:"st.",en:"pcs"},required:{fi:"(Pakollinen kenttä)",sv:"(Obligatoriskt fält)",en:"(Required field)"},required_explanation:{fi:"ja saavutettavalla tekstillä ",sv:"och med tillgänglig text ",en:"and with accessible text "},calculate:{fi:"Laske arvio",sv:"Beräkna uppskattning",en:"Calculate estimate"},reset:{fi:"Tyhjennä tiedot",sv:"Radera uppgifterna",en:"Clear data"},reset_aria_live:{fi:"Lomakkeen tiedot on nyt tyhjennetty.",sv:"Uppgifterna har nu raderats från blanketten.",en:"The data on the form has now been cleared."},missing_input:{fi:"Tarkistathan vielä nämä kohdat",sv:"Kontrollera ännu dessa punkter",en:"Please check these items"},error_with_link:{fi:"${error}: ${labelLink}.",sv:"${error}: ${labelLink}.",en:"${error}: ${labelLink}."},select_radio:{fi:"Valinta on pakollinen",sv:"Valet är obligatoriskt",en:"Selection is required"},enter_value:{fi:"Kenttä on pakollinen",sv:"Fältet är obligatoriskt",en:"Field is required"},must_be_number:{fi:"Kenttään on syötettävä numero",sv:"Du måste ange en siffra i fältet",en:"You must enter a number in the field"},must_be_whole_number:{fi:"Kenttään on syötettävä kokonaisluku",sv:"Du måste ange ett heltal i fältet",en:"You must enter a whole number in the field"},min_or_max_out_of_bounds:{fi:"Arvon pitää olla väliltä ${min} ja ${max}",sv:"Siffran måste vara mellan ${min} och ${max}",en:"The value must be between ${min} and ${max}"},min_out_of_bounds:{fi:"Arvon pitää olla ${min} tai enemmän",sv:"Siffran måste vara ${min} eller mer",en:"The value must be ${min} or more"},max_out_of_bounds:{fi:"Arvon pitää olla ${max} tai vähemmän",sv:"Siffran måste vara ${max} eller mindre",en:"The value must be ${max} or less"},result:{fi:"Lopputulos",sv:"Resultat",en:"Result"},notification_aria_label_for_error:{fi:"Virheilmoitus",sv:"Felanmälan",en:"Error message"},notification_aria_label_for_alert:{fi:"Varoitus",sv:"Varning",en:"Warning"},notification_aria_label_for_info:{fi:"Tiedoksi",sv:"För kännedom",en:"For information"}};var s=a;var l=r();var o=class e{constructor({name:e,translations:t}){this.name=e;this.templates=null;this.id=null;this.translations={...s,...t}}t(e,t){return this.translate(e,t)}translate(e,t){if(!this.translations){throw new Error("Translations are missing")}function i(e,t,n){if(typeof t==="string"){t=t.split(".")}if(t.length===1&&n!==void 0){e[t[0]]=n;return n}if(t.length===0){return e}return i(e[t[0]],t.slice(1),n)}n(i,"index");const r=drupalSettings.path.currentLanguage||"fi";const a=this.translations[e]?this.translations[e][r]:null;if(a){return a.replace(/\$\{.+?\}/g,e=>{const n=e.replace(/(^\$\{|\}$)/g,"");return i(t,n)})}return`Missing translation: ${e}:${r}`}parseSettings(e){let t;try{t=JSON.parse(e)}catch(t){console.error(`Problem with ${this.name} settings:`,e);throw t}return t}getElement(e){const t=document.querySelector(`#${e}_${this.id}`);if(!t){throw new Error(`Element #${e}_${this.id} missing from ${this.name} at getElement`)}return t}getPartialRender(e,t){this.preprocessData(t);return l.render(e,t,this.templates.partials)}getMinimumRange(e,t){const n=Object.keys(t).reverse();for(let i=0;i<n.length;i++){const r=n[i];if(Number(r)<=e){return t[r]}}throw new Error(`Minimum range not found for ${e} from ${t}`)}clamp(e,t,n){return Math.max(e,Math.min(t,n))}formatEuroCents(e){e=`${Math.round(e*100)/100}`;const t=e.indexOf(".");if(t===-1){e+=".00"}else if(e.length-t===2){e+="0"}return e}formatFinnishEuroCents(e){return this.formatEuroCents(e).replace(".",",")}preprocessData(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=e[t[n]];if(typeof i==="object"&&i!==null){this.preprocessData(i);if(!i.hasOwnProperty("items")){i.items=null}if(!i.hasOwnProperty("group")){i.group=null}if(!i.hasOwnProperty("dynamic_area")){i.dynamic_area=null}}else if(typeof i==="number"){e[t[n]]+=""}}}getFieldValue(e){const t=document.querySelector(`#${e}_${this.id}`);if(!t){throw new Error(`Element #${e}_${this.id} missing from ${this.name} at getFieldValue`)}if(t.dataset?.type==="radio"){const e=t.querySelector("input:checked");if(e){return e.value}return null}if(t.dataset?.type==="checkbox"){return t.checked}if(t.dataset?.type==="input_integer"||t.dataset?.type==="input_float"){if(t.value==="undefined"||t.value===""){return null}let e=t.value.replace(",",".");if(t.dataset.strip){const n=new RegExp(t.dataset.strip,"g");e=e.replaceAll(n,"")}if(t.dataset.type==="input_integer"&&Number.isNaN(Number.parseInt(e,10))){return null}if(t.dataset.type==="input_float"&&Number.isNaN(Number.parseFloat(e))){return null}return e}}getError(e,t,n){const i=document.querySelector(`#${e}_${this.id}`);if(!i){throw new Error(`Element #${e}_${this.id} missing from ${this.name} at validateBasics`)}const r=document.querySelector(`#labelText_${i.id}`)?.innerText||i.id;let a=`<a href="#${i.id}">${r}</a>`;if(i.tagName==="FIELDSET"){const e=i.querySelector('input[type="radio"]');if(e){a=`<a href="#${e.id}">${r}</a>`}}const s=this.translate(t,{labelLink:a,labelText:r,...n});const l=`<span class="hdbt-error-text">${s}.</span>`;const o=i.closest(".form-item");if(o){o.classList.add("hds-text-input--invalid");const e=o.querySelector(".helfi-calculator__error-placeholder");if(e){e.innerHTML=l}}const d=this.translate("error_with_link",{error:s,labelLink:a});return[d]}validateBasics(e){const t=document.querySelector(`#${e}_${this.id}`);if(!t){throw new Error(`Element #${e}_${this.id} missing from ${this.name} at validateBasics`)}if(t.dataset?.type==="radio"){const n=t.querySelector("input:checked");if(!n&&t.dataset.required){return this.getError(e,"select_radio")}}if(t.dataset?.type==="input_integer"||t.dataset?.type==="input_float"){if(!t.dataset.required&&(typeof t.value==="undefined"||t.value==="")){return[]}if(t.value==="undefined"||t.value===""){return this.getError(e,"enter_value")}let n=t.value.replace(",",".");if(t.dataset.strip){const e=new RegExp(t.dataset.strip,"g");n=n.replaceAll(e,"")}const i=/^-?([1-9][0-9]*|0)$/;if(t.dataset.type==="input_integer"&&!i.test(n)){return this.getError(e,"must_be_whole_number")}const r=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;if(t.dataset.type==="input_float"&&!r.test(n)){return this.getError(e,"must_be_number")}if(typeof t.dataset.min!=="undefined"&&typeof t.dataset.max!=="undefined"){if(Number.parseFloat(t.dataset.min)>Number.parseFloat(n)||n>Number.parseFloat(t.dataset.max)){return this.getError(e,"min_or_max_out_of_bounds",{min:t.dataset.min,max:t.dataset.max})}}else if(typeof t.dataset.min!=="undefined"){if(Number.parseFloat(t.dataset.min)>Number.parseFloat(n)){return this.getError(e,"min_out_of_bounds",{min:t.dataset.min})}}else if(typeof t.dataset.max!=="undefined"){if(Number.parseFloat(n)>Number.parseFloat(t.dataset.max)){return this.getError(e,"max_out_of_bounds",{max:t.dataset.max})}}}return[]}hideGroup(e){const t=document.querySelector(`#${e}_${this.id}:not([data-hide-group='true'])`);if(t&&t.dataset){t.dataset.hideGroup=true}}showGroup(e){const t=document.querySelector(`#${e}_${this.id}[data-hide-group='true']`);if(t&&t.dataset){t.dataset.hideGroup=false}}showAriaLiveText(e){const t=document.getElementById(`aria_live_${this.id}`);t.innerText=e;window.setTimeout(()=>{t.innerText=""},1e3)}static renderNotification(e,t,n,i,r){let{message:a}=i;if(Array.isArray(i.message)&&i.message.length>1){a=`<ul class="messages__list"><li class="messages__list__item">${i.message.join('</li><li class="messages__list__item">')}</li></ul>`}e.innerHTML=`\n      <section aria-label="${r}" class="hds-notification ${t}">\n        <div class="hds-notification__content">\n          <h2 class="hds-notification__label">\n            <span class="hds-icon hds-icon--${n}" aria-hidden="true"></span>\n            <span>${i.title}</span>\n          </h2>\n          <div class="hds-notification__body">${a}</div>\n        </div>\n      </section>`}static renderReceipt(e,t,n,i,r){let{message:a}=i;if(Array.isArray(i.message)&&i.message.length>1){a=`<ul class="messages__list"><li class="messages__list__item">${i.message.join('</li><li class="messages__list__item">')}</li></ul>`}const s=`\n      <section aria-label="${r}" class="hds-notification ${t}">\n        <div class="hds-notification__content">\n          <h2 class="hds-notification__label">\n            <span class="hds-icon hds-icon--${n}" aria-hidden="true"></span>\n            <span>${i.title}</span>\n          </h2>\n          <div class="hds-notification__body">${a}</div>\n        </div>\n      </section>`;e.innerHTML="";e.insertAdjacentHTML("beforeend",s);e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}focusReceiptHeading(e){const t=e.querySelector("h2");t.setAttribute("tabindex","0");t.focus();t.setAttribute("tabindex","-1")}renderResult(t){if(t.error){e.renderNotification(document.querySelector(`#${this.id} .helfi-calculator-notification--error`),"hds-notification--error","error-fill",t.error,this.translate("notification_aria_label_for_error"));const n=document.querySelector(`#${this.id} .helfi-calculator-notification--error .hds-notification__label`);n.setAttribute("tabindex","0");n.focus();n.scrollIntoViewIfNeeded();n.setAttribute("tabindex","-1")}if(t.ariaLive){this.showAriaLiveText(t.ariaLive)}if(t.receipt){const e=document.querySelector(`#${this.id} .helfi-calculator-notification--result`);e.innerHTML=t.receipt;e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});window.setTimeout(()=>{this.focusReceiptHeading(e)},this.receiptOpenMs+10)}else if(t.alert){e.renderNotification(document.querySelector(`#${this.id} .helfi-calculator-notification--result`),"hds-notification--alert","alert-circle-fill",t.alert,this.translate("notification_aria_label_for_alert"))}else if(t.info){e.renderReceipt(document.querySelector(`#${this.id} .helfi-calculator-notification--result`),"hds-notification--info","info-circle-fill",t.info,this.translate("notification_aria_label_for_info"))}}clearResult(){document.querySelector(`#${this.id} .helfi-calculator-notification--error`).innerHTML="";document.querySelector(`#${this.id} .helfi-calculator-notification--result`).innerHTML="";const e=document.querySelectorAll(`#${this.id} .hds-text-input--invalid`);Object.values(e).forEach(e=>{e.classList.remove("hds-text-input--invalid")});const t=document.querySelectorAll(`#${this.id} .helfi-calculator__error-placeholder`);Object.values(t).forEach(e=>{e.innerHTML=""})}init({id:e,formData:t,eventHandlers:n}){this.initParams={id:e,formData:t,eventHandlers:n};this.id=e;this.receiptOpenMs=300;this.templates={form:`\n        <div class="visually-hidden" aria-live="polite" aria-atomic="true" id="aria_live_{{form_id}}"></div>\n        <div class="helfi-calculator-disclaimer">\n          {{#has_required_fields}}\n            ${this.translate("has_required_fields",{required:"{{>required_explanation}} {{>required}}"})}\n          {{/has_required_fields}}\n          ${this.translate("not_saved",{calculate:this.translate("calculate")})}\n        </div>\n        <div class="helfi-calculator-notification helfi-calculator-notification--error" aria-live="polite" aria-atomic="true"></div>\n        <form class="helfi-calculator" action="" method="post">\n          {{#items}}\n            {{>form_item}}\n          {{/items}}\n          <div class="helfi-calculator__buttons">\n            <input type="submit" enterkeyhint="done" value="{{#submit}}{{submit}}{{/submit}}{{^submit}}${this.translate("calculate")}{{/submit}}" class="hds-button hds-button--primary">\n            <input type="reset" value="{{#reset}}{{reset}}{{/reset}}{{^reset}}${this.translate("reset")}{{/reset}}" class="hds-button hds-button--secondary">\n          </div>\n        </form>\n        <div class="helfi-calculator-notification helfi-calculator-notification--result"></div>\n      `,partials:{required:`\n          <span class="visually-hidden">${this.translate("required")}</span><span aria-hidden="true" class="helfi-calculator-required">*</span>`,required_explanation:`\n          <span class="visually-hidden">${this.translate("required_explanation")}</span>\n        `,form_item:`\n          <div class="helfi-calculator__item">\n            {{#group}}{{>group}}{{/group}}\n            {{#dynamic_area}}{{>dynamic_area}}{{/dynamic_area}}\n            {{#heading}}{{>heading}}{{/heading}}\n            {{#legend}}{{>legend}}{{/legend}}\n            {{#paragraph}}{{>paragraph}}{{/paragraph}}\n            {{#hr}}{{>hr}}{{/hr}}\n            {{#input}}{{>input}}{{/input}}\n            {{#input_integer}}{{>input_integer}}{{/input_integer}}\n            {{#input_float}}{{>input_float}}{{/input_float}}\n            {{#radio}}{{>radio}}{{/radio}}\n            {{#checkbox}}{{>checkbox}}{{/checkbox}}\n          </div>\n        `,group:`\n          <div id="{{id}}_{{form_id}}" class="helfi-calculator__group" {{#hide_group}}data-hide-group="true"{{/hide_group}}>\n            <div>\n              {{#items}}\n                {{>form_item}}\n              {{/items}}\n            </div>\n          </div>\n        `,dynamic_slot:`\n          <div id="{{id}}_{{form_id}}" class="helfi-calculator__dynamic-slot" {{#slotNumber}}data-slot-number="{{slotNumber}}"{{/slotNumber}}>\n            <fieldset class="helfi-calculator__dynamic_slot__fieldset">\n              {{#items}}\n                {{>form_item}}\n              {{/items}}\n              {{#remove_label}}\n                <div class="helfi-calculator__dynamic-remove-wrapper"><button class="helfi-calculator__dynamic-remove hds-button hds-button--supplementary"><span class="hds-button__label">{{remove_label}}</span><span class="hel-icon hel-icon--cross" role="img" aria-hidden="true"></button></div>\n              {{/remove_label}}\n            </fieldset>\n          </div>\n        `,dynamic_area:`\n          <div id="{{id}}_{{form_id}}" class="helfi-calculator__dynamic-area">\n            <div id="slots_{{id}}_{{form_id}}" class="helfi-calculator__dynamic-area__slots">\n              {{#dynamic_slots}}\n                {{>dynamic_slot}}\n              {{/dynamic_slots}}\n            </div>\n            {{#add_button_label}}\n              <button id="add-button_{{id}}_{{form_id}}" class="hds-button hds-button--secondary"><span class="hel-icon hel-icon--plus" role="img" aria-hidden="true"></span><span class="hds-button__label">{{add_button_label}}</span></button>\n            {{/add_button_label}}\n          </div>\n        `,heading:`\n          <h{{level}}{{^level}}2{{/level}}>{{text}}</h{{level}}{{^level}}2{{/level}}>\n        `,legend:`\n          <legend class="helfi-calculator__legend helfi-calculator__legend--level_{{level}}{{^level}}2{{/level}}">{{text}}</legend>\n        `,paragraph:`\n          <p{{#class}} class="{{class}}"{{/class}}>{{text}}</p>\n        `,hr:`\n          <hr>\n        `,label:`\n          <label\n            class="hds-text-input__label"\n            for="{{id}}_{{form_id}}"\n            id="label_{{id}}_{{form_id}}"\n            ><span\n              id="labelText_{{id}}_{{form_id}}"\n              class="label_text"\n              >{{label}}</span>{{#unit}} ({{unit}}){{/unit}}{{#required}}{{>required}}{{/required}}</label>\n        `,error_placeholder:`\n          <div class="helfi-calculator__error-placeholder" id="error_text_{{id}}_{{form_id}}"></div>\n        `,helper_text:`\n          <span class="hdbt-helper-text" id="helper_text_{{id}}_{{form_id}}">{{helper_text}}</span>\n        `,input:`\n          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">\n            {{>label}}\n            <div class="hds-text-input__input-wrapper">\n              <input\n                type="{{type}}"\n                data-type="input"\n                id="{{id}}_{{form_id}}"\n                name="{{id}}"\n                {{#inputmode}}inputmode="{{inputmode}}"{{/inputmode}}\n                {{#pattern}}pattern="{{pattern}}"{{/pattern}}\n                {{#min}}data-min="{{min}}"{{/min}}\n                {{#max}}data-max="{{max}}"{{/max}}\n                {{#size}}size="{{size}}"{{/size}}\n                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}\n                {{#required}}data-required="required"{{/required}}\n                {{#strip}}data-strip="{{strip}}"{{/strip}}\n                {{#label}}data-label="{{label}}"{{/label}}\n                {{#value}}value="{{value}}"{{/value}}\n                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"\n                class="form-text hds-text-input__input">\n            </div>\n            {{>error_placeholder}}\n            {{>helper_text}}\n          </div>\n        `,input_integer:`\n          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">\n            {{>label}}\n            <div class="hds-text-input__input-wrapper">\n              <input\n                type="text"\n                data-type="input_integer"\n                id="{{id}}_{{form_id}}"\n                name="{{id}}"\n                inputmode="numeric"\n                {{#min}}data-min="{{min}}"{{/min}}\n                {{#max}}data-max="{{max}}"{{/max}}\n                {{#size}}size="{{size}}"{{/size}}\n                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}\n                {{#required}}data-required="required"{{/required}}\n                {{#strip}}data-strip="{{strip}}"{{/strip}}\n                data-label="label_{{id}}_{{form_id}}"\n                {{#value}}value="{{value}}"{{/value}}\n                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"\n                class="form-text hds-text-input__input">\n            </div>\n            {{>error_placeholder}}\n            {{>helper_text}}\n          </div>\n        `,input_float:`\n          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">\n            {{>label}}\n            <div class="hds-text-input__input-wrapper">\n              <input\n                type="text"${""}\n                data-type="input_float"\n                id="{{id}}_{{form_id}}"\n                name="{{id}}"\n                {{#min}}data-min="{{min}}"{{/min}}\n                {{#max}}data-max="{{max}}"{{/max}}\n                {{#size}}size="{{size}}"{{/size}}\n                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}\n                {{#required}}data-required="required"{{/required}}\n                {{#strip}}data-strip="{{strip}}"{{/strip}}\n                {{#value}}value="{{value}}"{{/value}}\n                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"\n                class="form-text hds-text-input__input">\n            </div>\n            {{>error_placeholder}}\n            {{>helper_text}}\n          </div>\n        `,checkbox:`\n          <div class="hds-checkbox">\n            <input\n              type="checkbox"\n              data-type="checkbox"\n              id="{{id}}_{{form_id}}"\n              class="hds-checkbox__input"\n              aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"\n              {{#checked}}checked{{/checked}}\n              >\n            <label\n              class="hds-checkbox__label"\n              for="{{id}}_{{form_id}}"\n              id="label_{{id}}_{{form_id}}"\n              ><span\n                id="labelText_{{id}}_{{form_id}}"\n                class="label_text"\n                >{{label}}</span></label>\n            {{>error_placeholder}}\n            {{>helper_text}}\n          </div>\n        `,radio:`\n          <fieldset\n            data-type="radio"\n            id="{{id}}_{{form_id}}"\n            {{#required}}data-required="true"{{/required}}\n            class="form-item hds-selection-group {{#required}}input--required{{/required}}"\n            >\n            <legend\n              class="hds-selection-group__legend"\n              id="label_{{id}}_{{form_id}}"\n              aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"\n              ><span\n                id="labelText_{{id}}_{{form_id}}"\n                class="label_text"\n                >{{label}}</span>{{#unit}} ({{unit}}){{/unit}}{{#required}}{{>required}}{{/required}}</legend>\n            <div class="hds-selection-group__items">\n              {{#radio_items}}\n                {{>radio_item}}\n              {{/radio_items}}\n            </div>\n            {{>error_placeholder}}\n            {{>helper_text}}\n          </fieldset>\n        `,radio_item:`\n          <div class="hds-selection-group__item">\n            <div class="hds-radio-button">\n              <input\n                type="radio"\n                id="{{item_id}}_{{form_id}}"\n                name="{{name}}"\n                {{#required}}data-required="required"{{/required}}\n                data-label="label_{{id}}_{{form_id}}"\n                value="{{value}}"\n                class="hds-radio-button__input">\n              <label for="{{item_id}}_{{form_id}}" class="hds-radio-button__label">{{label}}</label>\n            </div>\n          </div>\n        `,receipt:`\n          <div class="helfi-calculator__receipt" id="receipt_{{id}}">\n            <div class="helfi-calculator__receipt__wrapper">\n              <div class="helfi-calculator__receipt__container">\n                <h2>{{title}}</h2>\n                <p class="helfi-calculator__receipt-total">\n                  <span class="helfi-calculator__receipt-total__prefix">{{total_prefix}}</span>\n                  <span class="helfi-calculator__receipt-total__value">{{total_value}}</span>\n                  <span class="helfi-calculator__receipt-total__suffix">{{total_suffix}}</span>\n                </p>\n                {{#total_explanation}}\n                  <p class="helfi-calculator__receipt-total-explanation">{{total_explanation}}</p>\n                {{/total_explanation}}\n                {{#hr}}\n                  <hr class="helfi-calculator__receipt-hr" />\n                {{/hr}}\n                {{#breakdown}}\n                  <h3>{{title}}</h3>\n                  {{#subtotals}}\n                    {{>subtotal}}\n                  {{/subtotals}}\n                  {{#additional_details}}\n                    {{#title}}<h4>{{.}}</h4>{{/title}}\n                    {{#text}}<p>{{.}}</p>{{/text}}\n                  {{/additional_details}}\n                {{/breakdown}}\n              </div>\n            </div>\n          </div>\n        `,subtotal:`\n          <div class="helfi-calculator__receipt-subtotal">\n            <h4>{{title}}</h4>\n            <span class="helfi-calculator__receipt-subtotal-sum">\n              {{#sum_screenreader}}\n                <span aria-hidden="true">{{sum}}</span>\n                <span class="visually-hidden">{{sum_screenreader}}</span>\n              {{/sum_screenreader}}\n              {{^sum_screenreader}}\n                {{sum}}\n              {{/sum_screenreader}}\n            </span>\n            {{#has_details}}\n              <ul>\n              {{#details}}\n                <li>{{.}}</li>\n              {{/details}}\n              </ul>\n            {{/has_details}}\n          </div>\n        `}};this.preprocessData(t);const i=t;const r=l.render(this.templates.form,i,this.templates.partials);document.getElementById(this.id).innerHTML=r;const a=Object.keys(n);for(let t=0;t<a.length;t++){const i=a[t];document.getElementById(e).addEventListener(i,n[i])}}};n(o,"HelfiCalculator");var d=o;window.HelfiCalculator=e=>new d(e)})();