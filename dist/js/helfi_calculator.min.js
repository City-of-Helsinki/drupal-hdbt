(()=>{var ne=Object.defineProperty;var u=(w,t)=>ne(w,"name",{value:t,configurable:!0});var se=(w,t)=>()=>(t||w((t={exports:{}}).exports,t),t.exports);var J=se((z,V)=>{(function(w,t){typeof z=="object"&&typeof V<"u"?V.exports=t():typeof define=="function"&&define.amd?define(t):(w=w||self,w.Mustache=t())})(z,function(){var w=Object.prototype.toString,t=Array.isArray||u(function(r){return w.call(r)==="[object Array]"},"isArrayPolyfill");function e(n){return typeof n=="function"}u(e,"isFunction");function l(n){return t(n)?"array":typeof n}u(l,"typeStr");function d(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}u(d,"escapeRegExp");function m(n,r){return n!=null&&typeof n=="object"&&r in n}u(m,"hasProperty");function f(n,r){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(r)}u(f,"primitiveHasOwnProperty");var _=RegExp.prototype.test;function q(n,r){return _.call(n,r)}u(q,"testRegExp");var P=/\S/;function B(n){return!q(P,n)}u(B,"isWhitespace");var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Q(n){return String(n).replace(/[&<>"'`=\/]/g,u(function(i){return R[i]},"fromEntityMap"))}u(Q,"escapeHtml");var X=/\s*/,Z=/\s+/,W=/\s*=/,D=/\s*\}/,ee=/#|\^|\/|>|\{|&|=|!/;function te(n,r){if(!n)return[];var i=!1,a=[],s=[],o=[],c=!1,h=!1,p="",v=0;function y(){if(c&&!h)for(;o.length;)delete s[o.pop()];else o=[];c=!1,h=!1}u(y,"stripSpace");var E,L,I;function K(S){if(typeof S=="string"&&(S=S.split(Z,2)),!t(S)||S.length!==2)throw new Error("Invalid tags: "+S);E=new RegExp(d(S[0])+"\\s*"),L=new RegExp("\\s*"+d(S[1])),I=new RegExp("\\s*"+d("}"+S[1]))}u(K,"compileTags"),K(r||$.tags);for(var b=new M(n),T,x,k,F,j,N;!b.eos();){if(T=b.pos,k=b.scanUntil(E),k)for(var U=0,ae=k.length;U<ae;++U)F=k.charAt(U),B(F)?(o.push(s.length),p+=F):(h=!0,i=!0,p+=" "),s.push(["text",F,T,T+1]),T+=1,F===`
`&&(y(),p="",v=0,i=!1);if(!b.scan(E))break;if(c=!0,x=b.scan(ee)||"name",b.scan(X),x==="="?(k=b.scanUntil(W),b.scan(W),b.scanUntil(L)):x==="{"?(k=b.scanUntil(I),b.scan(D),b.scanUntil(L),x="&"):k=b.scanUntil(L),!b.scan(L))throw new Error("Unclosed tag at "+b.pos);if(x==">"?j=[x,k,T,b.pos,p,v,i]:j=[x,k,T,b.pos],v++,s.push(j),x==="#"||x==="^")a.push(j);else if(x==="/"){if(N=a.pop(),!N)throw new Error('Unopened section "'+k+'" at '+T);if(N[1]!==k)throw new Error('Unclosed section "'+N[1]+'" at '+T)}else x==="name"||x==="{"||x==="&"?h=!0:x==="="&&K(k)}if(y(),N=a.pop(),N)throw new Error('Unclosed section "'+N[1]+'" at '+b.pos);return ie(re(s))}u(te,"parseTemplate");function re(n){for(var r=[],i,a,s=0,o=n.length;s<o;++s)i=n[s],i&&(i[0]==="text"&&a&&a[0]==="text"?(a[1]+=i[1],a[3]=i[3]):(r.push(i),a=i));return r}u(re,"squashTokens");function ie(n){for(var r=[],i=r,a=[],s,o,c=0,h=n.length;c<h;++c)switch(s=n[c],s[0]){case"#":case"^":i.push(s),a.push(s),i=s[4]=[];break;case"/":o=a.pop(),o[5]=s[2],i=a.length>0?a[a.length-1][4]:r;break;default:i.push(s)}return r}u(ie,"nestTokens");function M(n){this.string=n,this.tail=n,this.pos=0}u(M,"Scanner"),M.prototype.eos=u(function(){return this.tail===""},"eos"),M.prototype.scan=u(function(r){var i=this.tail.match(r);if(!i||i.index!==0)return"";var a=i[0];return this.tail=this.tail.substring(a.length),this.pos+=a.length,a},"scan"),M.prototype.scanUntil=u(function(r){var i=this.tail.search(r),a;switch(i){case-1:a=this.tail,this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=a.length,a},"scanUntil");function A(n,r){this.view=n,this.cache={".":this.view},this.parent=r}u(A,"Context"),A.prototype.push=u(function(r){return new A(r,this)},"push"),A.prototype.lookup=u(function(r){var i=this.cache,a;if(i.hasOwnProperty(r))a=i[r];else{for(var s=this,o,c,h,p=!1;s;){if(r.indexOf(".")>0)for(o=s.view,c=r.split("."),h=0;o!=null&&h<c.length;)h===c.length-1&&(p=m(o,c[h])||f(o,c[h])),o=o[c[h++]];else o=s.view[r],p=m(s.view,r);if(p){a=o;break}s=s.parent}i[r]=a}return e(a)&&(a=a.call(this.view)),a},"lookup");function g(){this.templateCache={_cache:{},set:u(function(r,i){this._cache[r]=i},"set"),get:u(function(r){return this._cache[r]},"get"),clear:u(function(){this._cache={}},"clear")}}u(g,"Writer"),g.prototype.clearCache=u(function(){typeof this.templateCache<"u"&&this.templateCache.clear()},"clearCache"),g.prototype.parse=u(function(r,i){var a=this.templateCache,s=r+":"+(i||$.tags).join(":"),o=typeof a<"u",c=o?a.get(s):void 0;return c==null&&(c=te(r,i),o&&a.set(s,c)),c},"parse"),g.prototype.render=u(function(r,i,a,s){var o=this.getConfigTags(s),c=this.parse(r,o),h=i instanceof A?i:new A(i,void 0);return this.renderTokens(c,h,a,r,s)},"render"),g.prototype.renderTokens=u(function(r,i,a,s,o){for(var c="",h,p,v,y=0,E=r.length;y<E;++y)v=void 0,h=r[y],p=h[0],p==="#"?v=this.renderSection(h,i,a,s,o):p==="^"?v=this.renderInverted(h,i,a,s,o):p===">"?v=this.renderPartial(h,i,a,o):p==="&"?v=this.unescapedValue(h,i):p==="name"?v=this.escapedValue(h,i,o):p==="text"&&(v=this.rawValue(h)),v!==void 0&&(c+=v);return c},"renderTokens"),g.prototype.renderSection=u(function(r,i,a,s,o){var c=this,h="",p=i.lookup(r[1]);function v(L){return c.render(L,i,a,o)}if(u(v,"subRender"),!!p){if(t(p))for(var y=0,E=p.length;y<E;++y)h+=this.renderTokens(r[4],i.push(p[y]),a,s,o);else if(typeof p=="object"||typeof p=="string"||typeof p=="number")h+=this.renderTokens(r[4],i.push(p),a,s,o);else if(e(p)){if(typeof s!="string")throw new Error("Cannot use higher-order sections without the original template");p=p.call(i.view,s.slice(r[3],r[5]),v),p!=null&&(h+=p)}else h+=this.renderTokens(r[4],i,a,s,o);return h}},"renderSection"),g.prototype.renderInverted=u(function(r,i,a,s,o){var c=i.lookup(r[1]);if(!c||t(c)&&c.length===0)return this.renderTokens(r[4],i,a,s,o)},"renderInverted"),g.prototype.indentPartial=u(function(r,i,a){for(var s=i.replace(/[^ \t]/g,""),o=r.split(`
`),c=0;c<o.length;c++)o[c].length&&(c>0||!a)&&(o[c]=s+o[c]);return o.join(`
`)},"indentPartial"),g.prototype.renderPartial=u(function(r,i,a,s){if(a){var o=this.getConfigTags(s),c=e(a)?a(r[1]):a[r[1]];if(c!=null){var h=r[6],p=r[5],v=r[4],y=c;p==0&&v&&(y=this.indentPartial(c,v,h));var E=this.parse(y,o);return this.renderTokens(E,i,a,y,s)}}},"renderPartial"),g.prototype.unescapedValue=u(function(r,i){var a=i.lookup(r[1]);if(a!=null)return a},"unescapedValue"),g.prototype.escapedValue=u(function(r,i,a){var s=this.getConfigEscape(a)||$.escape,o=i.lookup(r[1]);if(o!=null)return typeof o=="number"&&s===$.escape?String(o):s(o)},"escapedValue"),g.prototype.rawValue=u(function(r){return r[1]},"rawValue"),g.prototype.getConfigTags=u(function(r){return t(r)?r:r&&typeof r=="object"?r.tags:void 0},"getConfigTags"),g.prototype.getConfigEscape=u(function(r){if(r&&typeof r=="object"&&!t(r))return r.escape},"getConfigEscape");var $={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){O.templateCache=n},get templateCache(){return O.templateCache}},O=new g;return $.clearCache=u(function(){return O.clearCache()},"clearCache"),$.parse=u(function(r,i){return O.parse(r,i)},"parse"),$.render=u(function(r,i,a,s){if(typeof r!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+l(r)+'" was given as the first argument for mustache#render(template, view, partials)');return O.render(r,i,a,s)},"render"),$.escape=Q,$.Scanner=M,$.Context=A,$.Writer=g,$})});var le={has_required_fields:{fi:"Pakolliset kentät on merkitty tähdellä ${required}.",sv:"Obligatoriska fält är markerade med en asterisk ${required}.",en:"Required fields are indicated with an asterisk ${required}."},not_saved:{fi:'Huomioithan, että laskuriin antamiasi tietoja ei tallenneta eikä lähetetä eteenpäin. Jos muutat laskurin tietoja, muista painaa "${calculate}" uudelleen.',sv:'Observera att de uppgifter som du anger i räknaren inte sparas eller skickas vidare. Om du ändrar uppgifterna i räknaren ska du komma ihåg att klicka på "${calculate}" på nytt.',en:'Please note that the information you enter will not be stored or forwarded. If you change any of the calculator information, remember to click "${calculate}" again.'},unit_euro:{fi:"euroa",sv:"euro",en:"euros"},unit_person:{fi:"henkilöä",sv:"personer",en:"persons"},unit_day:{fi:"päivää",sv:"dagar",en:"days"},unit_hour:{fi:"tuntia",sv:"timmar",en:"hours"},unit_amount:{fi:"kpl",sv:"st.",en:"pcs"},required:{fi:"(Pakollinen kenttä)",sv:"(Obligatoriskt fält)",en:"(Required field)"},required_explanation:{fi:"ja saavutettavalla tekstillä ",sv:"och med tillgänglig text ",en:"and with accessible text "},calculate:{fi:"Laske arvio",sv:"Beräkna uppskattning",en:"Calculate estimate"},reset:{fi:"Tyhjennä tiedot",sv:"Radera uppgifterna",en:"Clear data"},reset_aria_live:{fi:"Lomakkeen tiedot on nyt tyhjennetty.",sv:"Uppgifterna har nu raderats från blanketten.",en:"The data on the form has now been cleared."},missing_input:{fi:"Tarkistathan vielä nämä kohdat",sv:"Kontrollera ännu dessa punkter",en:"Please check these items"},error_with_link:{fi:"${error}: ${labelLink}.",sv:"${error}: ${labelLink}.",en:"${error}: ${labelLink}."},select_radio:{fi:"Valinta on pakollinen",sv:"Valet är obligatoriskt",en:"Selection is required"},enter_value:{fi:"Kenttä on pakollinen",sv:"Fältet är obligatoriskt",en:"Field is required"},must_be_number:{fi:"Kenttään on syötettävä numero",sv:"Du måste ange en siffra i fältet",en:"You must enter a number in the field"},must_be_whole_number:{fi:"Kenttään on syötettävä kokonaisluku",sv:"Du måste ange ett heltal i fältet",en:"You must enter a whole number in the field"},min_or_max_out_of_bounds:{fi:"Arvon pitää olla väliltä ${min} ja ${max}",sv:"Siffran måste vara mellan ${min} och ${max}",en:"The value must be between ${min} and ${max}"},min_out_of_bounds:{fi:"Arvon pitää olla ${min} tai enemmän",sv:"Siffran måste vara ${min} eller mer",en:"The value must be ${min} or more"},max_out_of_bounds:{fi:"Arvon pitää olla ${max} tai vähemmän",sv:"Siffran måste vara ${max} eller mindre",en:"The value must be ${max} or less"},result:{fi:"Lopputulos",sv:"Resultat",en:"Result"},notification_aria_label_for_error:{fi:"Virheilmoitus",sv:"Felanmälan",en:"Error message"},notification_aria_label_for_alert:{fi:"Varoitus",sv:"Varning",en:"Warning"},notification_aria_label_for_info:{fi:"Tiedoksi",sv:"För kännedom",en:"For information"}},G=le;var Y=J(),C=class C{constructor({name:t,translations:e}){this.name=t,this.templates=null,this.id=null,this.translations={...G,...e}}t(t,e){return this.translate(t,e)}translate(t,e){if(!this.translations)throw new Error("Translations are missing");function l(f,_,q){return typeof _=="string"&&(_=_.split(".")),_.length===1&&q!==void 0?(f[_[0]]=q,q):_.length===0?f:l(f[_[0]],_.slice(1),q)}u(l,"index");let d=drupalSettings.path.currentLanguage||"fi",m=this.translations[t]?this.translations[t][d]:null;return m?m.replace(/\$\{.+?\}/g,f=>{let _=f.replace(/(^\$\{|\}$)/g,"");return l(e,_)}):`Missing translation: ${t}:${d}`}parseSettings(t){let e;try{e=JSON.parse(t)}catch(l){throw console.error(`Problem with ${this.name} settings:`,t),l}return e}getElement(t){let e=document.querySelector(`#${t}_${this.id}`);if(!e)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at getElement`);return e}getPartialRender(t,e){return this.preprocessData(e),Y.render(t,e,this.templates.partials)}getMinimumRange(t,e){let l=Object.keys(e).reverse();for(let d=0;d<l.length;d++){let m=l[d];if(Number(m)<=t)return e[m]}throw new Error(`Minimum range not found for ${t} from ${e}`)}clamp(t,e,l){return Math.max(t,Math.min(e,l))}formatEuroCents(t){t=`${Math.round(t*100)/100}`;let e=t.indexOf(".");return e===-1?t+=".00":t.length-e===2&&(t+="0"),t}formatFinnishEuroCents(t){return this.formatEuroCents(t).replace(".",",")}preprocessData(t){let e=Object.keys(t);for(let l=0;l<e.length;l++){let d=t[e[l]];typeof d=="object"&&d!==null?(this.preprocessData(d),d.hasOwnProperty("items")||(d.items=null),d.hasOwnProperty("group")||(d.group=null),d.hasOwnProperty("dynamic_area")||(d.dynamic_area=null)):typeof d=="number"&&(t[e[l]]+="")}}getFieldValue(t){let e=document.querySelector(`#${t}_${this.id}`);if(!e)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at getFieldValue`);if(e.dataset?.type==="radio"){let l=e.querySelector("input:checked");return l?l.value:null}if(e.dataset?.type==="checkbox")return e.checked;if(e.dataset?.type==="input_integer"||e.dataset?.type==="input_float"){if(e.value==="undefined"||e.value==="")return null;let l=e.value.replace(",",".");if(e.dataset.strip){let d=new RegExp(e.dataset.strip,"g");l=l.replaceAll(d,"")}return e.dataset.type==="input_integer"&&Number.isNaN(Number.parseInt(l,10))||e.dataset.type==="input_float"&&Number.isNaN(Number.parseFloat(l))?null:l}}getError(t,e,l){let d=document.querySelector(`#${t}_${this.id}`);if(!d)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at validateBasics`);let m=document.querySelector(`#labelText_${d.id}`)?.innerText||d.id,f=`<a href="#${d.id}">${m}</a>`;if(d.tagName==="FIELDSET"){let R=d.querySelector('input[type="radio"]');R&&(f=`<a href="#${R.id}">${m}</a>`)}let _=this.translate(e,{labelLink:f,labelText:m,...l}),q=`<span class="hdbt-error-text">${_}.</span>`,P=d.closest(".form-item");if(P){P.classList.add("hds-text-input--invalid");let R=P.querySelector(".helfi-calculator__error-placeholder");R&&(R.innerHTML=q)}return[this.translate("error_with_link",{error:_,labelLink:f})]}validateBasics(t){let e=document.querySelector(`#${t}_${this.id}`);if(!e)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at validateBasics`);if(e.dataset?.type==="radio"&&!e.querySelector("input:checked")&&e.dataset.required)return this.getError(t,"select_radio");if(e.dataset?.type==="input_integer"||e.dataset?.type==="input_float"){if(!e.dataset.required&&(typeof e.value>"u"||e.value===""))return[];if(e.value==="undefined"||e.value==="")return this.getError(t,"enter_value");let l=e.value.replace(",",".");if(e.dataset.strip){let f=new RegExp(e.dataset.strip,"g");l=l.replaceAll(f,"")}let d=/^-?([1-9][0-9]*|0)$/;if(e.dataset.type==="input_integer"&&!d.test(l))return this.getError(t,"must_be_whole_number");let m=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;if(e.dataset.type==="input_float"&&!m.test(l))return this.getError(t,"must_be_number");if(typeof e.dataset.min<"u"&&typeof e.dataset.max<"u"){if(Number.parseFloat(e.dataset.min)>Number.parseFloat(l)||l>Number.parseFloat(e.dataset.max))return this.getError(t,"min_or_max_out_of_bounds",{min:e.dataset.min,max:e.dataset.max})}else if(typeof e.dataset.min<"u"){if(Number.parseFloat(e.dataset.min)>Number.parseFloat(l))return this.getError(t,"min_out_of_bounds",{min:e.dataset.min})}else if(typeof e.dataset.max<"u"&&Number.parseFloat(l)>Number.parseFloat(e.dataset.max))return this.getError(t,"max_out_of_bounds",{max:e.dataset.max})}return[]}hideGroup(t){let e=document.querySelector(`#${t}_${this.id}:not([data-hide-group='true'])`);e&&e.dataset&&(e.dataset.hideGroup=!0)}showGroup(t){let e=document.querySelector(`#${t}_${this.id}[data-hide-group='true']`);e&&e.dataset&&(e.dataset.hideGroup=!1)}showAriaLiveText(t){let e=document.getElementById(`aria_live_${this.id}`);e.innerText=t,window.setTimeout(()=>{e.innerText=""},1e3)}static renderNotification(t,e,l,d,m){let{message:f}=d;Array.isArray(d.message)&&d.message.length>1&&(f=`<ul class="messages__list"><li class="messages__list__item">${d.message.join('</li><li class="messages__list__item">')}</li></ul>`),t.innerHTML=`
      <section aria-label="${m}" class="hds-notification ${e}">
        <div class="hds-notification__content">
          <h2 class="hds-notification__label">
            <span class="hds-icon hds-icon--${l}" aria-hidden="true"></span>
            <span>${d.title}</span>
          </h2>
          <div class="hds-notification__body">${f}</div>
        </div>
      </section>`}static renderReceipt(t,e,l,d,m){let{message:f}=d;Array.isArray(d.message)&&d.message.length>1&&(f=`<ul class="messages__list"><li class="messages__list__item">${d.message.join('</li><li class="messages__list__item">')}</li></ul>`);let _=`
      <section aria-label="${m}" class="hds-notification ${e}">
        <div class="hds-notification__content">
          <h2 class="hds-notification__label">
            <span class="hds-icon hds-icon--${l}" aria-hidden="true"></span>
            <span>${d.title}</span>
          </h2>
          <div class="hds-notification__body">${f}</div>
        </div>
      </section>`;t.innerHTML="",t.insertAdjacentHTML("beforeend",_),t.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}focusReceiptHeading(t){let e=t.querySelector("h2");e.setAttribute("tabindex","0"),e.focus(),e.setAttribute("tabindex","-1")}renderResult(t){if(t.error){C.renderNotification(document.querySelector(`#${this.id} .helfi-calculator-notification--error`),"hds-notification--error","error-fill",t.error,this.translate("notification_aria_label_for_error"));let e=document.querySelector(`#${this.id} .helfi-calculator-notification--error .hds-notification__label`);e.setAttribute("tabindex","0"),e.focus(),e.scrollIntoViewIfNeeded(),e.setAttribute("tabindex","-1")}if(t.ariaLive&&this.showAriaLiveText(t.ariaLive),t.receipt){let e=document.querySelector(`#${this.id} .helfi-calculator-notification--result`);e.innerHTML=t.receipt,e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),window.setTimeout(()=>{this.focusReceiptHeading(e)},this.receiptOpenMs+10)}else t.alert?C.renderNotification(document.querySelector(`#${this.id} .helfi-calculator-notification--result`),"hds-notification--alert","alert-circle-fill",t.alert,this.translate("notification_aria_label_for_alert")):t.info&&C.renderReceipt(document.querySelector(`#${this.id} .helfi-calculator-notification--result`),"hds-notification--info","info-circle-fill",t.info,this.translate("notification_aria_label_for_info"))}clearResult(){document.querySelector(`#${this.id} .helfi-calculator-notification--error`).innerHTML="",document.querySelector(`#${this.id} .helfi-calculator-notification--result`).innerHTML="";let t=document.querySelectorAll(`#${this.id} .hds-text-input--invalid`);Object.values(t).forEach(l=>{l.classList.remove("hds-text-input--invalid")});let e=document.querySelectorAll(`#${this.id} .helfi-calculator__error-placeholder`);Object.values(e).forEach(l=>{l.innerHTML=""})}init({id:t,formData:e,eventHandlers:l}){this.initParams={id:t,formData:e,eventHandlers:l},this.id=t,this.receiptOpenMs=300,this.templates={form:`
        <div class="visually-hidden" aria-live="polite" aria-atomic="true" id="aria_live_{{form_id}}"></div>
        <div class="helfi-calculator-disclaimer">
          {{#has_required_fields}}
            ${this.translate("has_required_fields",{required:"{{>required_explanation}} {{>required}}"})}
          {{/has_required_fields}}
          ${this.translate("not_saved",{calculate:this.translate("calculate")})}
        </div>
        <div class="helfi-calculator-notification helfi-calculator-notification--error" aria-live="polite" aria-atomic="true"></div>
        <form class="helfi-calculator" action="" method="post">
          {{#items}}
            {{>form_item}}
          {{/items}}
          <div class="helfi-calculator__buttons">
            <input type="submit" enterkeyhint="done" value="{{#submit}}{{submit}}{{/submit}}{{^submit}}${this.translate("calculate")}{{/submit}}" class="hds-button hds-button--primary">
            <input type="reset" value="{{#reset}}{{reset}}{{/reset}}{{^reset}}${this.translate("reset")}{{/reset}}" class="hds-button hds-button--secondary">
          </div>
        </form>
        <div class="helfi-calculator-notification helfi-calculator-notification--result"></div>
      `,partials:{required:`
          <span class="visually-hidden">${this.translate("required")}</span><span aria-hidden="true" class="helfi-calculator-required">*</span>`,required_explanation:`
          <span class="visually-hidden">${this.translate("required_explanation")}</span>
        `,form_item:`
          <div class="helfi-calculator__item">
            {{#group}}{{>group}}{{/group}}
            {{#dynamic_area}}{{>dynamic_area}}{{/dynamic_area}}
            {{#heading}}{{>heading}}{{/heading}}
            {{#legend}}{{>legend}}{{/legend}}
            {{#paragraph}}{{>paragraph}}{{/paragraph}}
            {{#hr}}{{>hr}}{{/hr}}
            {{#input}}{{>input}}{{/input}}
            {{#input_integer}}{{>input_integer}}{{/input_integer}}
            {{#input_float}}{{>input_float}}{{/input_float}}
            {{#radio}}{{>radio}}{{/radio}}
            {{#checkbox}}{{>checkbox}}{{/checkbox}}
          </div>
        `,group:`
          <div id="{{id}}_{{form_id}}" class="helfi-calculator__group" {{#hide_group}}data-hide-group="true"{{/hide_group}}>
            <div>
              {{#items}}
                {{>form_item}}
              {{/items}}
            </div>
          </div>
        `,dynamic_slot:`
          <div id="{{id}}_{{form_id}}" class="helfi-calculator__dynamic-slot" {{#slotNumber}}data-slot-number="{{slotNumber}}"{{/slotNumber}}>
            <fieldset class="helfi-calculator__dynamic_slot__fieldset">
              {{#items}}
                {{>form_item}}
              {{/items}}
              {{#remove_label}}
                <div class="helfi-calculator__dynamic-remove-wrapper"><button class="helfi-calculator__dynamic-remove hds-button hds-button--supplementary"><span class="hds-button__label">{{remove_label}}</span><span class="hel-icon hel-icon--cross" role="img" aria-hidden="true"></button></div>
              {{/remove_label}}
            </fieldset>
          </div>
        `,dynamic_area:`
          <div id="{{id}}_{{form_id}}" class="helfi-calculator__dynamic-area">
            <div id="slots_{{id}}_{{form_id}}" class="helfi-calculator__dynamic-area__slots">
              {{#dynamic_slots}}
                {{>dynamic_slot}}
              {{/dynamic_slots}}
            </div>
            {{#add_button_label}}
              <button id="add-button_{{id}}_{{form_id}}" class="hds-button hds-button--secondary"><span class="hel-icon hel-icon--plus" role="img" aria-hidden="true"></span><span class="hds-button__label">{{add_button_label}}</span></button>
            {{/add_button_label}}
          </div>
        `,heading:`
          <h{{level}}{{^level}}2{{/level}}>{{text}}</h{{level}}{{^level}}2{{/level}}>
        `,legend:`
          <legend class="helfi-calculator__legend helfi-calculator__legend--level_{{level}}{{^level}}2{{/level}}">{{text}}</legend>
        `,paragraph:`
          <p{{#class}} class="{{class}}"{{/class}}>{{text}}</p>
        `,hr:`
          <hr>
        `,label:`
          <label
            class="hds-text-input__label"
            for="{{id}}_{{form_id}}"
            id="label_{{id}}_{{form_id}}"
            ><span
              id="labelText_{{id}}_{{form_id}}"
              class="label_text"
              >{{label}}</span>{{#unit}} ({{unit}}){{/unit}}{{#required}}{{>required}}{{/required}}</label>
        `,error_placeholder:`
          <div class="helfi-calculator__error-placeholder" id="error_text_{{id}}_{{form_id}}"></div>
        `,helper_text:`
          <span class="hdbt-helper-text" id="helper_text_{{id}}_{{form_id}}">{{helper_text}}</span>
        `,input:`
          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">
            {{>label}}
            <div class="hds-text-input__input-wrapper">
              <input
                type="{{type}}"
                data-type="input"
                id="{{id}}_{{form_id}}"
                name="{{id}}"
                {{#inputmode}}inputmode="{{inputmode}}"{{/inputmode}}
                {{#pattern}}pattern="{{pattern}}"{{/pattern}}
                {{#min}}data-min="{{min}}"{{/min}}
                {{#max}}data-max="{{max}}"{{/max}}
                {{#size}}size="{{size}}"{{/size}}
                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}
                {{#required}}data-required="required"{{/required}}
                {{#strip}}data-strip="{{strip}}"{{/strip}}
                {{#label}}data-label="{{label}}"{{/label}}
                {{#value}}value="{{value}}"{{/value}}
                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
                class="form-text hds-text-input__input">
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,input_integer:`
          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">
            {{>label}}
            <div class="hds-text-input__input-wrapper">
              <input
                type="text"
                data-type="input_integer"
                id="{{id}}_{{form_id}}"
                name="{{id}}"
                inputmode="numeric"
                {{#min}}data-min="{{min}}"{{/min}}
                {{#max}}data-max="{{max}}"{{/max}}
                {{#size}}size="{{size}}"{{/size}}
                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}
                {{#required}}data-required="required"{{/required}}
                {{#strip}}data-strip="{{strip}}"{{/strip}}
                data-label="label_{{id}}_{{form_id}}"
                {{#value}}value="{{value}}"{{/value}}
                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
                class="form-text hds-text-input__input">
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,input_float:`
          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">
            {{>label}}
            <div class="hds-text-input__input-wrapper">
              <input
                type="text"
                data-type="input_float"
                id="{{id}}_{{form_id}}"
                name="{{id}}"
                {{#min}}data-min="{{min}}"{{/min}}
                {{#max}}data-max="{{max}}"{{/max}}
                {{#size}}size="{{size}}"{{/size}}
                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}
                {{#required}}data-required="required"{{/required}}
                {{#strip}}data-strip="{{strip}}"{{/strip}}
                {{#value}}value="{{value}}"{{/value}}
                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
                class="form-text hds-text-input__input">
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,checkbox:`
          <div class="hds-checkbox">
            <input
              type="checkbox"
              data-type="checkbox"
              id="{{id}}_{{form_id}}"
              class="hds-checkbox__input"
              aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
              {{#checked}}checked{{/checked}}
              >
            <label
              class="hds-checkbox__label"
              for="{{id}}_{{form_id}}"
              id="label_{{id}}_{{form_id}}"
              ><span
                id="labelText_{{id}}_{{form_id}}"
                class="label_text"
                >{{label}}</span></label>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,radio:`
          <fieldset
            data-type="radio"
            id="{{id}}_{{form_id}}"
            {{#required}}data-required="true"{{/required}}
            class="form-item hds-selection-group {{#required}}input--required{{/required}}"
            >
            <legend
              class="hds-selection-group__legend"
              id="label_{{id}}_{{form_id}}"
              aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
              ><span
                id="labelText_{{id}}_{{form_id}}"
                class="label_text"
                >{{label}}</span>{{#unit}} ({{unit}}){{/unit}}{{#required}}{{>required}}{{/required}}</legend>
            <div class="hds-selection-group__items">
              {{#radio_items}}
                {{>radio_item}}
              {{/radio_items}}
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </fieldset>
        `,radio_item:`
          <div class="hds-selection-group__item">
            <div class="hds-radio-button">
              <input
                type="radio"
                id="{{item_id}}_{{form_id}}"
                name="{{name}}"
                {{#required}}data-required="required"{{/required}}
                data-label="label_{{id}}_{{form_id}}"
                value="{{value}}"
                class="hds-radio-button__input">
              <label for="{{item_id}}_{{form_id}}" class="hds-radio-button__label">{{label}}</label>
            </div>
          </div>
        `,receipt:`
          <div class="helfi-calculator__receipt" id="receipt_{{id}}">
            <div class="helfi-calculator__receipt__wrapper">
              <div class="helfi-calculator__receipt__container">
                <h2>{{title}}</h2>
                <p class="helfi-calculator__receipt-total">
                  <span class="helfi-calculator__receipt-total__prefix">{{total_prefix}}</span>
                  <span class="helfi-calculator__receipt-total__value">{{total_value}}</span>
                  <span class="helfi-calculator__receipt-total__suffix">{{total_suffix}}</span>
                </p>
                {{#total_explanation}}
                  <p class="helfi-calculator__receipt-total-explanation">{{total_explanation}}</p>
                {{/total_explanation}}
                {{#hr}}
                  <hr class="helfi-calculator__receipt-hr" />
                {{/hr}}
                {{#breakdown}}
                  <h3>{{title}}</h3>
                  {{#subtotals}}
                    {{>subtotal}}
                  {{/subtotals}}
                  {{#additional_details}}
                    {{#title}}<h4>{{.}}</h4>{{/title}}
                    {{#text}}<p>{{.}}</p>{{/text}}
                  {{/additional_details}}
                {{/breakdown}}
              </div>
            </div>
          </div>
        `,subtotal:`
          <div class="helfi-calculator__receipt-subtotal">
            <h4>{{title}}</h4>
            <span class="helfi-calculator__receipt-subtotal-sum">
              {{#sum_screenreader}}
                <span aria-hidden="true">{{sum}}</span>
                <span class="visually-hidden">{{sum_screenreader}}</span>
              {{/sum_screenreader}}
              {{^sum_screenreader}}
                {{sum}}
              {{/sum_screenreader}}
            </span>
            {{#has_details}}
              <ul>
              {{#details}}
                <li>{{.}}</li>
              {{/details}}
              </ul>
            {{/has_details}}
          </div>
        `}},this.preprocessData(e);let d=e,m=Y.render(this.templates.form,d,this.templates.partials);document.getElementById(this.id).innerHTML=m;let f=Object.keys(l);for(let _=0;_<f.length;_++){let q=f[_];document.getElementById(t).addEventListener(q,l[q])}}};u(C,"HelfiCalculator");var H=C;window.HelfiCalculator=w=>new H(w);})();
