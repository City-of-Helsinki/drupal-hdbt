(()=>{var ie=(x,t)=>()=>(t||x((t={exports:{}}).exports,t),t.exports);var K=ie((j,U)=>{(function(x,t){typeof j=="object"&&typeof U<"u"?U.exports=t():typeof define=="function"&&define.amd?define(t):(x=x||self,x.Mustache=t())})(j,function(){var x=Object.prototype.toString,t=Array.isArray||function(r){return x.call(r)==="[object Array]"};function e(n){return typeof n=="function"}function l(n){return t(n)?"array":typeof n}function d(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function _(n,r){return n!=null&&typeof n=="object"&&r in n}function p(n,r){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(r)}var f=RegExp.prototype.test;function w(n,r){return f.call(n,r)}var A=/\S/;function H(n){return!w(A,n)}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function J(n){return String(n).replace(/[&<>"'`=\/]/g,function(i){return T[i]})}var Y=/\s*/,Q=/\s+/,V=/\s*=/,X=/\s*\}/,Z=/#|\^|\/|>|\{|&|=|!/;function D(n,r){if(!n)return[];var i=!1,a=[],s=[],o=[],u=!1,c=!1,h="",m=0;function g(){if(u&&!c)for(;o.length;)delete s[o.pop()];else o=[];u=!1,c=!1}var q,R,B;function W(E){if(typeof E=="string"&&(E=E.split(Q,2)),!t(E)||E.length!==2)throw new Error("Invalid tags: "+E);q=new RegExp(d(E[0])+"\\s*"),R=new RegExp("\\s*"+d(E[1])),B=new RegExp("\\s*"+d("}"+E[1]))}W(r||$.tags);for(var v=new C(n),S,y,k,M,O,L;!v.eos();){if(S=v.pos,k=v.scanUntil(q),k)for(var F=0,re=k.length;F<re;++F)M=k.charAt(F),H(M)?(o.push(s.length),h+=M):(c=!0,i=!0,h+=" "),s.push(["text",M,S,S+1]),S+=1,M===`
`&&(g(),h="",m=0,i=!1);if(!v.scan(q))break;if(u=!0,y=v.scan(Z)||"name",v.scan(Y),y==="="?(k=v.scanUntil(V),v.scan(V),v.scanUntil(R)):y==="{"?(k=v.scanUntil(B),v.scan(X),v.scanUntil(R),y="&"):k=v.scanUntil(R),!v.scan(R))throw new Error("Unclosed tag at "+v.pos);if(y==">"?O=[y,k,S,v.pos,h,m,i]:O=[y,k,S,v.pos],m++,s.push(O),y==="#"||y==="^")a.push(O);else if(y==="/"){if(L=a.pop(),!L)throw new Error('Unopened section "'+k+'" at '+S);if(L[1]!==k)throw new Error('Unclosed section "'+L[1]+'" at '+S)}else y==="name"||y==="{"||y==="&"?c=!0:y==="="&&W(k)}if(g(),L=a.pop(),L)throw new Error('Unclosed section "'+L[1]+'" at '+v.pos);return te(ee(s))}function ee(n){for(var r=[],i,a,s=0,o=n.length;s<o;++s)i=n[s],i&&(i[0]==="text"&&a&&a[0]==="text"?(a[1]+=i[1],a[3]=i[3]):(r.push(i),a=i));return r}function te(n){for(var r=[],i=r,a=[],s,o,u=0,c=n.length;u<c;++u)switch(s=n[u],s[0]){case"#":case"^":i.push(s),a.push(s),i=s[4]=[];break;case"/":o=a.pop(),o[5]=s[2],i=a.length>0?a[a.length-1][4]:r;break;default:i.push(s)}return r}function C(n){this.string=n,this.tail=n,this.pos=0}C.prototype.eos=function(){return this.tail===""},C.prototype.scan=function(r){var i=this.tail.match(r);if(!i||i.index!==0)return"";var a=i[0];return this.tail=this.tail.substring(a.length),this.pos+=a.length,a},C.prototype.scanUntil=function(r){var i=this.tail.search(r),a;switch(i){case-1:a=this.tail,this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=a.length,a};function N(n,r){this.view=n,this.cache={".":this.view},this.parent=r}N.prototype.push=function(r){return new N(r,this)},N.prototype.lookup=function(r){var i=this.cache,a;if(i.hasOwnProperty(r))a=i[r];else{for(var s=this,o,u,c,h=!1;s;){if(r.indexOf(".")>0)for(o=s.view,u=r.split("."),c=0;o!=null&&c<u.length;)c===u.length-1&&(h=_(o,u[c])||p(o,u[c])),o=o[u[c++]];else o=s.view[r],h=_(s.view,r);if(h){a=o;break}s=s.parent}i[r]=a}return e(a)&&(a=a.call(this.view)),a};function b(){this.templateCache={_cache:{},set:function(r,i){this._cache[r]=i},get:function(r){return this._cache[r]},clear:function(){this._cache={}}}}b.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},b.prototype.parse=function(r,i){var a=this.templateCache,s=r+":"+(i||$.tags).join(":"),o=typeof a<"u",u=o?a.get(s):void 0;return u==null&&(u=D(r,i),o&&a.set(s,u)),u},b.prototype.render=function(r,i,a,s){var o=this.getConfigTags(s),u=this.parse(r,o),c=i instanceof N?i:new N(i,void 0);return this.renderTokens(u,c,a,r,s)},b.prototype.renderTokens=function(r,i,a,s,o){for(var u="",c,h,m,g=0,q=r.length;g<q;++g)m=void 0,c=r[g],h=c[0],h==="#"?m=this.renderSection(c,i,a,s,o):h==="^"?m=this.renderInverted(c,i,a,s,o):h===">"?m=this.renderPartial(c,i,a,o):h==="&"?m=this.unescapedValue(c,i):h==="name"?m=this.escapedValue(c,i,o):h==="text"&&(m=this.rawValue(c)),m!==void 0&&(u+=m);return u},b.prototype.renderSection=function(r,i,a,s,o){var u=this,c="",h=i.lookup(r[1]);function m(R){return u.render(R,i,a,o)}if(h){if(t(h))for(var g=0,q=h.length;g<q;++g)c+=this.renderTokens(r[4],i.push(h[g]),a,s,o);else if(typeof h=="object"||typeof h=="string"||typeof h=="number")c+=this.renderTokens(r[4],i.push(h),a,s,o);else if(e(h)){if(typeof s!="string")throw new Error("Cannot use higher-order sections without the original template");h=h.call(i.view,s.slice(r[3],r[5]),m),h!=null&&(c+=h)}else c+=this.renderTokens(r[4],i,a,s,o);return c}},b.prototype.renderInverted=function(r,i,a,s,o){var u=i.lookup(r[1]);if(!u||t(u)&&u.length===0)return this.renderTokens(r[4],i,a,s,o)},b.prototype.indentPartial=function(r,i,a){for(var s=i.replace(/[^ \t]/g,""),o=r.split(`
`),u=0;u<o.length;u++)o[u].length&&(u>0||!a)&&(o[u]=s+o[u]);return o.join(`
`)},b.prototype.renderPartial=function(r,i,a,s){if(a){var o=this.getConfigTags(s),u=e(a)?a(r[1]):a[r[1]];if(u!=null){var c=r[6],h=r[5],m=r[4],g=u;h==0&&m&&(g=this.indentPartial(u,m,c));var q=this.parse(g,o);return this.renderTokens(q,i,a,g,s)}}},b.prototype.unescapedValue=function(r,i){var a=i.lookup(r[1]);if(a!=null)return a},b.prototype.escapedValue=function(r,i,a){var s=this.getConfigEscape(a)||$.escape,o=i.lookup(r[1]);if(o!=null)return typeof o=="number"&&s===$.escape?String(o):s(o)},b.prototype.rawValue=function(r){return r[1]},b.prototype.getConfigTags=function(r){return t(r)?r:r&&typeof r=="object"?r.tags:void 0},b.prototype.getConfigEscape=function(r){if(r&&typeof r=="object"&&!t(r))return r.escape};var $={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){P.templateCache=n},get templateCache(){return P.templateCache}},P=new b;return $.clearCache=function(){return P.clearCache()},$.parse=function(r,i){return P.parse(r,i)},$.render=function(r,i,a,s){if(typeof r!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+l(r)+'" was given as the first argument for mustache#render(template, view, partials)');return P.render(r,i,a,s)},$.escape=J,$.Scanner=C,$.Context=N,$.Writer=b,$})});var ae={has_required_fields:{fi:"Pakolliset kentät on merkitty tähdellä ${required}.",sv:"Obligatoriska fält är markerade med en asterisk ${required}.",en:"Required fields are indicated with an asterisk ${required}."},not_saved:{fi:'Huomioithan, että laskuriin antamiasi tietoja ei tallenneta eikä lähetetä eteenpäin. Jos muutat laskurin tietoja, muista painaa "${calculate}" uudelleen.',sv:'Observera att de uppgifter som du anger i räknaren inte sparas eller skickas vidare. Om du ändrar uppgifterna i räknaren ska du komma ihåg att klicka på "${calculate}" på nytt.',en:'Please note that the information you enter will not be stored or forwarded. If you change any of the calculator information, remember to click "${calculate}" again.'},unit_euro:{fi:"euroa",sv:"euro",en:"euros"},unit_person:{fi:"henkilöä",sv:"personer",en:"persons"},unit_day:{fi:"päivää",sv:"dagar",en:"days"},unit_hour:{fi:"tuntia",sv:"timmar",en:"hours"},unit_amount:{fi:"kpl",sv:"st.",en:"pcs"},required:{fi:"(Pakollinen kenttä)",sv:"(Obligatoriskt fält)",en:"(Required field)"},required_explanation:{fi:"ja saavutettavalla tekstillä ",sv:"och med tillgänglig text ",en:"and with accessible text "},calculate:{fi:"Laske arvio",sv:"Beräkna uppskattning",en:"Calculate estimate"},reset:{fi:"Tyhjennä tiedot",sv:"Radera uppgifterna",en:"Clear data"},reset_aria_live:{fi:"Lomakkeen tiedot on nyt tyhjennetty.",sv:"Uppgifterna har nu raderats från blanketten.",en:"The data on the form has now been cleared."},missing_input:{fi:"Tarkistathan vielä nämä kohdat",sv:"Kontrollera ännu dessa punkter",en:"Please check these items"},error_with_link:{fi:"${error}: ${labelLink}.",sv:"${error}: ${labelLink}.",en:"${error}: ${labelLink}."},select_radio:{fi:"Valinta on pakollinen",sv:"Valet är obligatoriskt",en:"Selection is required"},enter_value:{fi:"Kenttä on pakollinen",sv:"Fältet är obligatoriskt",en:"Field is required"},must_be_number:{fi:"Kenttään on syötettävä numero",sv:"Du måste ange en siffra i fältet",en:"You must enter a number in the field"},must_be_whole_number:{fi:"Kenttään on syötettävä kokonaisluku",sv:"Du måste ange ett heltal i fältet",en:"You must enter a whole number in the field"},min_or_max_out_of_bounds:{fi:"Arvon pitää olla väliltä ${min} ja ${max}",sv:"Siffran måste vara mellan ${min} och ${max}",en:"The value must be between ${min} and ${max}"},min_out_of_bounds:{fi:"Arvon pitää olla ${min} tai enemmän",sv:"Siffran måste vara ${min} eller mer",en:"The value must be ${min} or more"},max_out_of_bounds:{fi:"Arvon pitää olla ${max} tai vähemmän",sv:"Siffran måste vara ${max} eller mindre",en:"The value must be ${max} or less"},result:{fi:"Lopputulos",sv:"Resultat",en:"Result"},notification_aria_label_for_error:{fi:"Virheilmoitus",sv:"Felanmälan",en:"Error message"},notification_aria_label_for_alert:{fi:"Varoitus",sv:"Varning",en:"Warning"},notification_aria_label_for_info:{fi:"Tiedoksi",sv:"För kännedom",en:"For information"}},I=ae;var G=K(),z=class x{constructor({name:t,translations:e}){this.name=t,this.templates=null,this.id=null,this.translations={...I,...e}}t(t,e){return this.translate(t,e)}translate(t,e){if(!this.translations)throw new Error("Translations are missing");function l(p,f,w){return typeof f=="string"&&(f=f.split(".")),f.length===1&&w!==void 0?(p[f[0]]=w,w):f.length===0?p:l(p[f[0]],f.slice(1),w)}let d=drupalSettings.path.currentLanguage||"fi",_=this.translations[t]?this.translations[t][d]:null;return _?_.replace(/\$\{.+?\}/g,p=>{let f=p.replace(/(^\$\{|\}$)/g,"");return l(e,f)}):`Missing translation: ${t}:${d}`}parseSettings(t){let e;try{e=JSON.parse(t)}catch(l){throw console.error(`Problem with ${this.name} settings:`,t),l}return e}getElement(t){let e=document.querySelector(`#${t}_${this.id}`);if(!e)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at getElement`);return e}getPartialRender(t,e){return this.preprocessData(e),G.render(t,e,this.templates.partials)}getMinimumRange(t,e){let l=Object.keys(e).reverse();for(let d=0;d<l.length;d++){let _=l[d];if(Number(_)<=t)return e[_]}throw new Error(`Minimum range not found for ${t} from ${e}`)}clamp(t,e,l){return Math.max(t,Math.min(e,l))}formatEuroCents(t){t=`${Math.round(t*100)/100}`;let e=t.indexOf(".");return e===-1?t+=".00":t.length-e===2&&(t+="0"),t}formatFinnishEuroCents(t){return this.formatEuroCents(t).replace(".",",")}preprocessData(t){let e=Object.keys(t);for(let l=0;l<e.length;l++){let d=t[e[l]];typeof d=="object"&&d!==null?(this.preprocessData(d),d.hasOwnProperty("items")||(d.items=null),d.hasOwnProperty("group")||(d.group=null),d.hasOwnProperty("dynamic_area")||(d.dynamic_area=null)):typeof d=="number"&&(t[e[l]]+="")}}getFieldValue(t){let e=document.querySelector(`#${t}_${this.id}`);if(!e)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at getFieldValue`);if(e.dataset?.type==="radio"){let l=e.querySelector("input:checked");return l?l.value:null}if(e.dataset?.type==="checkbox")return e.checked;if(e.dataset?.type==="input_integer"||e.dataset?.type==="input_float"){if(e.value==="undefined"||e.value==="")return null;let l=e.value.replace(",",".");if(e.dataset.strip){let d=new RegExp(e.dataset.strip,"g");l=l.replaceAll(d,"")}return e.dataset.type==="input_integer"&&Number.isNaN(Number.parseInt(l,10))||e.dataset.type==="input_float"&&Number.isNaN(Number.parseFloat(l))?null:l}}getError(t,e,l){let d=document.querySelector(`#${t}_${this.id}`);if(!d)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at validateBasics`);let _=document.querySelector(`#labelText_${d.id}`)?.innerText||d.id,p=`<a href="#${d.id}">${_}</a>`;if(d.tagName==="FIELDSET"){let T=d.querySelector('input[type="radio"]');T&&(p=`<a href="#${T.id}">${_}</a>`)}let f=this.translate(e,{labelLink:p,labelText:_,...l}),w=`<span class="hdbt-error-text">${f}.</span>`,A=d.closest(".form-item");if(A){A.classList.add("hds-text-input--invalid");let T=A.querySelector(".helfi-calculator__error-placeholder");T&&(T.innerHTML=w)}return[this.translate("error_with_link",{error:f,labelLink:p})]}validateBasics(t){let e=document.querySelector(`#${t}_${this.id}`);if(!e)throw new Error(`Element #${t}_${this.id} missing from ${this.name} at validateBasics`);if(e.dataset?.type==="radio"&&!e.querySelector("input:checked")&&e.dataset.required)return this.getError(t,"select_radio");if(e.dataset?.type==="input_integer"||e.dataset?.type==="input_float"){if(!e.dataset.required&&(typeof e.value>"u"||e.value===""))return[];if(e.value==="undefined"||e.value==="")return this.getError(t,"enter_value");let l=e.value.replace(",",".");if(e.dataset.strip){let p=new RegExp(e.dataset.strip,"g");l=l.replaceAll(p,"")}let d=/^-?([1-9][0-9]*|0)$/;if(e.dataset.type==="input_integer"&&!d.test(l))return this.getError(t,"must_be_whole_number");let _=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;if(e.dataset.type==="input_float"&&!_.test(l))return this.getError(t,"must_be_number");if(typeof e.dataset.min<"u"&&typeof e.dataset.max<"u"){if(Number.parseFloat(e.dataset.min)>Number.parseFloat(l)||l>Number.parseFloat(e.dataset.max))return this.getError(t,"min_or_max_out_of_bounds",{min:e.dataset.min,max:e.dataset.max})}else if(typeof e.dataset.min<"u"){if(Number.parseFloat(e.dataset.min)>Number.parseFloat(l))return this.getError(t,"min_out_of_bounds",{min:e.dataset.min})}else if(typeof e.dataset.max<"u"&&Number.parseFloat(l)>Number.parseFloat(e.dataset.max))return this.getError(t,"max_out_of_bounds",{max:e.dataset.max})}return[]}hideGroup(t){let e=document.querySelector(`#${t}_${this.id}:not([data-hide-group='true'])`);e&&e.dataset&&(e.dataset.hideGroup=!0)}showGroup(t){let e=document.querySelector(`#${t}_${this.id}[data-hide-group='true']`);e&&e.dataset&&(e.dataset.hideGroup=!1)}showAriaLiveText(t){let e=document.getElementById(`aria_live_${this.id}`);e.innerText=t,window.setTimeout(()=>{e.innerText=""},1e3)}static renderNotification(t,e,l,d,_){let{message:p}=d;Array.isArray(d.message)&&d.message.length>1&&(p=`<ul class="messages__list"><li class="messages__list__item">${d.message.join('</li><li class="messages__list__item">')}</li></ul>`),t.innerHTML=`
      <section aria-label="${_}" class="hds-notification ${e}">
        <div class="hds-notification__content">
          <h2 class="hds-notification__label">
            <span class="hds-icon hds-icon--${l}" aria-hidden="true"></span>
            <span>${d.title}</span>
          </h2>
          <div class="hds-notification__body">${p}</div>
        </div>
      </section>`}static renderReceipt(t,e,l,d,_){let{message:p}=d;Array.isArray(d.message)&&d.message.length>1&&(p=`<ul class="messages__list"><li class="messages__list__item">${d.message.join('</li><li class="messages__list__item">')}</li></ul>`);let f=`
      <section aria-label="${_}" class="hds-notification ${e}">
        <div class="hds-notification__content">
          <h2 class="hds-notification__label">
            <span class="hds-icon hds-icon--${l}" aria-hidden="true"></span>
            <span>${d.title}</span>
          </h2>
          <div class="hds-notification__body">${p}</div>
        </div>
      </section>`;t.innerHTML="",t.insertAdjacentHTML("beforeend",f),t.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}focusReceiptHeading(t){let e=t.querySelector("h2");e.setAttribute("tabindex","0"),e.focus(),e.setAttribute("tabindex","-1")}renderResult(t){if(t.error){x.renderNotification(document.querySelector(`#${this.id} .helfi-calculator-notification--error`),"hds-notification--error","error-fill",t.error,this.translate("notification_aria_label_for_error"));let e=document.querySelector(`#${this.id} .helfi-calculator-notification--error .hds-notification__label`);e.setAttribute("tabindex","0"),e.focus(),e.scrollIntoViewIfNeeded(),e.setAttribute("tabindex","-1")}if(t.ariaLive&&this.showAriaLiveText(t.ariaLive),t.receipt){let e=document.querySelector(`#${this.id} .helfi-calculator-notification--result`);e.innerHTML=t.receipt,e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),window.setTimeout(()=>{this.focusReceiptHeading(e)},this.receiptOpenMs+10)}else t.alert?x.renderNotification(document.querySelector(`#${this.id} .helfi-calculator-notification--result`),"hds-notification--alert","alert-circle-fill",t.alert,this.translate("notification_aria_label_for_alert")):t.info&&x.renderReceipt(document.querySelector(`#${this.id} .helfi-calculator-notification--result`),"hds-notification--info","info-circle-fill",t.info,this.translate("notification_aria_label_for_info"))}clearResult(){document.querySelector(`#${this.id} .helfi-calculator-notification--error`).innerHTML="",document.querySelector(`#${this.id} .helfi-calculator-notification--result`).innerHTML="";let t=document.querySelectorAll(`#${this.id} .hds-text-input--invalid`);Object.values(t).forEach(l=>{l.classList.remove("hds-text-input--invalid")});let e=document.querySelectorAll(`#${this.id} .helfi-calculator__error-placeholder`);Object.values(e).forEach(l=>{l.innerHTML=""})}init({id:t,formData:e,eventHandlers:l}){this.initParams={id:t,formData:e,eventHandlers:l},this.id=t,this.receiptOpenMs=300,this.templates={form:`
        <div class="visually-hidden" aria-live="polite" aria-atomic="true" id="aria_live_{{form_id}}"></div>
        <div class="helfi-calculator-disclaimer">
          {{#has_required_fields}}
            ${this.translate("has_required_fields",{required:"{{>required_explanation}} {{>required}}"})}
          {{/has_required_fields}}
          ${this.translate("not_saved",{calculate:this.translate("calculate")})}
        </div>
        <div class="helfi-calculator-notification helfi-calculator-notification--error" aria-live="polite" aria-atomic="true"></div>
        <form class="helfi-calculator" action="" method="post">
          {{#items}}
            {{>form_item}}
          {{/items}}
          <div class="helfi-calculator__buttons">
            <input type="submit" enterkeyhint="done" value="{{#submit}}{{submit}}{{/submit}}{{^submit}}${this.translate("calculate")}{{/submit}}" class="hds-button hds-button--primary">
            <input type="reset" value="{{#reset}}{{reset}}{{/reset}}{{^reset}}${this.translate("reset")}{{/reset}}" class="hds-button hds-button--secondary">
          </div>
        </form>
        <div class="helfi-calculator-notification helfi-calculator-notification--result"></div>
      `,partials:{required:`
          <span class="visually-hidden">${this.translate("required")}</span><span aria-hidden="true" class="helfi-calculator-required">*</span>`,required_explanation:`
          <span class="visually-hidden">${this.translate("required_explanation")}</span>
        `,form_item:`
          <div class="helfi-calculator__item">
            {{#group}}{{>group}}{{/group}}
            {{#dynamic_area}}{{>dynamic_area}}{{/dynamic_area}}
            {{#heading}}{{>heading}}{{/heading}}
            {{#legend}}{{>legend}}{{/legend}}
            {{#paragraph}}{{>paragraph}}{{/paragraph}}
            {{#hr}}{{>hr}}{{/hr}}
            {{#input}}{{>input}}{{/input}}
            {{#input_integer}}{{>input_integer}}{{/input_integer}}
            {{#input_float}}{{>input_float}}{{/input_float}}
            {{#radio}}{{>radio}}{{/radio}}
            {{#checkbox}}{{>checkbox}}{{/checkbox}}
          </div>
        `,group:`
          <div id="{{id}}_{{form_id}}" class="helfi-calculator__group" {{#hide_group}}data-hide-group="true"{{/hide_group}}>
            <div>
              {{#items}}
                {{>form_item}}
              {{/items}}
            </div>
          </div>
        `,dynamic_slot:`
          <div id="{{id}}_{{form_id}}" class="helfi-calculator__dynamic-slot" {{#slotNumber}}data-slot-number="{{slotNumber}}"{{/slotNumber}}>
            <fieldset class="helfi-calculator__dynamic_slot__fieldset">
              {{#items}}
                {{>form_item}}
              {{/items}}
              {{#remove_label}}
                <div class="helfi-calculator__dynamic-remove-wrapper"><button class="helfi-calculator__dynamic-remove hds-button hds-button--supplementary"><span class="hds-button__label">{{remove_label}}</span><span class="hel-icon hel-icon--cross" role="img" aria-hidden="true"></button></div>
              {{/remove_label}}
            </fieldset>
          </div>
        `,dynamic_area:`
          <div id="{{id}}_{{form_id}}" class="helfi-calculator__dynamic-area">
            <div id="slots_{{id}}_{{form_id}}" class="helfi-calculator__dynamic-area__slots">
              {{#dynamic_slots}}
                {{>dynamic_slot}}
              {{/dynamic_slots}}
            </div>
            {{#add_button_label}}
              <button id="add-button_{{id}}_{{form_id}}" class="hds-button hds-button--secondary"><span class="hel-icon hel-icon--plus" role="img" aria-hidden="true"></span><span class="hds-button__label">{{add_button_label}}</span></button>
            {{/add_button_label}}
          </div>
        `,heading:`
          <h{{level}}{{^level}}2{{/level}}>{{text}}</h{{level}}{{^level}}2{{/level}}>
        `,legend:`
          <legend class="helfi-calculator__legend helfi-calculator__legend--level_{{level}}{{^level}}2{{/level}}">{{text}}</legend>
        `,paragraph:`
          <p{{#class}} class="{{class}}"{{/class}}>{{text}}</p>
        `,hr:`
          <hr>
        `,label:`
          <label
            class="hds-text-input__label"
            for="{{id}}_{{form_id}}"
            id="label_{{id}}_{{form_id}}"
            ><span
              id="labelText_{{id}}_{{form_id}}"
              class="label_text"
              >{{label}}</span>{{#unit}} ({{unit}}){{/unit}}{{#required}}{{>required}}{{/required}}</label>
        `,error_placeholder:`
          <div class="helfi-calculator__error-placeholder" id="error_text_{{id}}_{{form_id}}"></div>
        `,helper_text:`
          <span class="hdbt-helper-text" id="helper_text_{{id}}_{{form_id}}">{{helper_text}}</span>
        `,input:`
          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">
            {{>label}}
            <div class="hds-text-input__input-wrapper">
              <input
                type="{{type}}"
                data-type="input"
                id="{{id}}_{{form_id}}"
                name="{{id}}"
                {{#inputmode}}inputmode="{{inputmode}}"{{/inputmode}}
                {{#pattern}}pattern="{{pattern}}"{{/pattern}}
                {{#min}}data-min="{{min}}"{{/min}}
                {{#max}}data-max="{{max}}"{{/max}}
                {{#size}}size="{{size}}"{{/size}}
                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}
                {{#required}}data-required="required"{{/required}}
                {{#strip}}data-strip="{{strip}}"{{/strip}}
                {{#label}}data-label="{{label}}"{{/label}}
                {{#value}}value="{{value}}"{{/value}}
                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
                class="form-text hds-text-input__input">
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,input_integer:`
          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">
            {{>label}}
            <div class="hds-text-input__input-wrapper">
              <input
                type="text"
                data-type="input_integer"
                id="{{id}}_{{form_id}}"
                name="{{id}}"
                inputmode="numeric"
                {{#min}}data-min="{{min}}"{{/min}}
                {{#max}}data-max="{{max}}"{{/max}}
                {{#size}}size="{{size}}"{{/size}}
                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}
                {{#required}}data-required="required"{{/required}}
                {{#strip}}data-strip="{{strip}}"{{/strip}}
                data-label="label_{{id}}_{{form_id}}"
                {{#value}}value="{{value}}"{{/value}}
                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
                class="form-text hds-text-input__input">
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,input_float:`
          <div class="form-item hds-text-input {{#required}}input--required{{/required}}">
            {{>label}}
            <div class="hds-text-input__input-wrapper">
              <input
                type="text"
                data-type="input_float"
                id="{{id}}_{{form_id}}"
                name="{{id}}"
                {{#min}}data-min="{{min}}"{{/min}}
                {{#max}}data-max="{{max}}"{{/max}}
                {{#size}}size="{{size}}"{{/size}}
                {{#maxlength}}maxlength="{{maxlength}}"{{/maxlength}}
                {{#required}}data-required="required"{{/required}}
                {{#strip}}data-strip="{{strip}}"{{/strip}}
                {{#value}}value="{{value}}"{{/value}}
                aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
                class="form-text hds-text-input__input">
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,checkbox:`
          <div class="hds-checkbox">
            <input
              type="checkbox"
              data-type="checkbox"
              id="{{id}}_{{form_id}}"
              class="hds-checkbox__input"
              aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
              {{#checked}}checked{{/checked}}
              >
            <label
              class="hds-checkbox__label"
              for="{{id}}_{{form_id}}"
              id="label_{{id}}_{{form_id}}"
              ><span
                id="labelText_{{id}}_{{form_id}}"
                class="label_text"
                >{{label}}</span></label>
            {{>error_placeholder}}
            {{>helper_text}}
          </div>
        `,radio:`
          <fieldset
            data-type="radio"
            id="{{id}}_{{form_id}}"
            {{#required}}data-required="true"{{/required}}
            class="form-item hds-selection-group {{#required}}input--required{{/required}}"
            >
            <legend
              class="hds-selection-group__legend"
              id="label_{{id}}_{{form_id}}"
              aria-describedby="error_text_{{id}}_{{form_id}}{{#helper_text}} helper_text_{{id}}_{{form_id}}{{/helper_text}}"
              ><span
                id="labelText_{{id}}_{{form_id}}"
                class="label_text"
                >{{label}}</span>{{#unit}} ({{unit}}){{/unit}}{{#required}}{{>required}}{{/required}}</legend>
            <div class="hds-selection-group__items">
              {{#radio_items}}
                {{>radio_item}}
              {{/radio_items}}
            </div>
            {{>error_placeholder}}
            {{>helper_text}}
          </fieldset>
        `,radio_item:`
          <div class="hds-selection-group__item">
            <div class="hds-radio-button">
              <input
                type="radio"
                id="{{item_id}}_{{form_id}}"
                name="{{name}}"
                {{#required}}data-required="required"{{/required}}
                data-label="label_{{id}}_{{form_id}}"
                value="{{value}}"
                class="hds-radio-button__input">
              <label for="{{item_id}}_{{form_id}}" class="hds-radio-button__label">{{label}}</label>
            </div>
          </div>
        `,receipt:`
          <div class="helfi-calculator__receipt" id="receipt_{{id}}">
            <div class="helfi-calculator__receipt__wrapper">
              <div class="helfi-calculator__receipt__container">
                <h2>{{title}}</h2>
                <p class="helfi-calculator__receipt-total">
                  <span class="helfi-calculator__receipt-total__prefix">{{total_prefix}}</span>
                  <span class="helfi-calculator__receipt-total__value">{{total_value}}</span>
                  <span class="helfi-calculator__receipt-total__suffix">{{total_suffix}}</span>
                </p>
                {{#total_explanation}}
                  <p class="helfi-calculator__receipt-total-explanation">{{total_explanation}}</p>
                {{/total_explanation}}
                {{#hr}}
                  <hr class="helfi-calculator__receipt-hr" />
                {{/hr}}
                {{#breakdown}}
                  <h3>{{title}}</h3>
                  {{#subtotals}}
                    {{>subtotal}}
                  {{/subtotals}}
                  {{#additional_details}}
                    {{#title}}<h4>{{.}}</h4>{{/title}}
                    {{#text}}<p>{{.}}</p>{{/text}}
                  {{/additional_details}}
                {{/breakdown}}
              </div>
            </div>
          </div>
        `,subtotal:`
          <div class="helfi-calculator__receipt-subtotal">
            <h4>{{title}}</h4>
            <span class="helfi-calculator__receipt-subtotal-sum">
              {{#sum_screenreader}}
                <span aria-hidden="true">{{sum}}</span>
                <span class="visually-hidden">{{sum_screenreader}}</span>
              {{/sum_screenreader}}
              {{^sum_screenreader}}
                {{sum}}
              {{/sum_screenreader}}
            </span>
            {{#has_details}}
              <ul>
              {{#details}}
                <li>{{.}}</li>
              {{/details}}
              </ul>
            {{/has_details}}
          </div>
        `}},this.preprocessData(e);let d=e,_=G.render(this.templates.form,d,this.templates.partials);document.getElementById(this.id).innerHTML=_;let p=Object.keys(l);for(let f=0;f<p.length;f++){let w=p[f];document.getElementById(t).addEventListener(w,l[w])}}};window.HelfiCalculator=x=>new z(x);})();
