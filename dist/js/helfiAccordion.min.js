(()=>{var e=Object.defineProperty;var t=(t,s,i)=>s in t?e(t,s,{enumerable:true,configurable:true,writable:true,value:i}):t[s]=i;var s=(t,s)=>e(t,"name",{value:s,configurable:true});var i=(e,s,i)=>t(e,typeof s!=="symbol"?s+"":s,i);var n=class e{constructor(t,n,o,l){i(this,"open",s(()=>{this._isOpen=true;this.setAriaOpen();this.setHidden();this.parentCallback();this.localState.saveAccordionItemState(this.id,this.isOpen)},"open"));i(this,"close",s(()=>{this._isOpen=false;this.setAriaOpen();this.changeFocus();this.setHidden();this.parentCallback();this.localState.saveAccordionItemState(this.id,this.isOpen)},"close"));i(this,"closeWithoutFocus",s(()=>{this._isOpen=false;this.setAriaOpen();this.setHidden();this.parentCallback();this.localState.saveAccordionItemState(this.id,this.isOpen)},"closeWithoutFocus"));i(this,"toggle",s(t=>{if(!e.isClick(t.which)){return}this.isOpen?this.close():this.open()},"toggle"));i(this,"handleLinkAnchor",s(e=>{if(!e||e.length===0)return;const t=this.element.querySelector(e);if(t){this.open();t.scrollIntoView()}},"handleLinkAnchor"));i(this,"setAriaOpen",s(()=>{e.ariaExpandedElements.forEach(e=>{this.element.getElementsByClassName(e)[0].setAttribute("aria-expanded",this.isOpen)})},"setAriaOpen"));i(this,"setHidden",s(t=>{const s=this.element.closest(".accordion");const i=this.element.getElementsByClassName(e.contentElement)[0];if(t){s.style.setProperty("--js-accordion-open-time","0s");void document.body.offsetHeight;this.isOpen?i.removeAttribute("hidden"):i.hidden="until-found";setTimeout(()=>{s.style.removeProperty("--js-accordion-open-time")},10);return}if(!this.isOpen){const e=parseInt(getComputedStyle(s).getPropertyValue("--js-accordion-open-time"),10)||200;setTimeout(()=>{i.hidden="until-found"},e)}else{i.removeAttribute("hidden")}},"setHidden"));i(this,"changeFocus",s(()=>this.element.querySelector(`.${e.toggleElement}`).focus(),"changeFocus"));i(this,"addEventListeners",s(()=>{const t=this.element.getElementsByClassName(e.toggleElement)[0];t.addEventListener("mouseup",this.toggle);t.addEventListener("keypress",this.toggle);const s=this.element.getElementsByClassName(e.closeElement);const i=s[s.length-1];i.addEventListener("mouseup",this.close);i.addEventListener("keypress",this.close)},"addEventListeners"));this.element=t;this.localState=n;this.parentCallback=l;this._id=t.dataset.accordionId;this._isOpen=this.localState.loadAccordionItemState(this._id);this.setHidden(true);this.addEventListeners();this.handleLinkAnchor(o);this.setAriaOpen()}static isClick(e){return e===1||e===13||e===32}get id(){return this._id}get isOpen(){return this._isOpen}};s(n,"AccordionItem");i(n,"accordionItemElement","helfi-accordion-item");i(n,"toggleElement","accordion-item__button--toggle");i(n,"closeElement","accordion-item__button--close");i(n,"ariaExpandedElements",["accordion-item__button--toggle"]);i(n,"contentElement","accordion-item__content");var o=n;var l={open_all:{fi:"Avaa kaikki",en:"Open all",sv:"Öppna alla"},close_all:{fi:"Sulje kaikki",en:"Close all",sv:"Stäng alla"}};var a=l;var c=class e{};s(c,"ClientHelpers");i(c,"isCookieSet",s(e=>{const t=document.cookie;const s=t.split("; ");for(let t=0;t<s.length;t++){const i=s[t].split("=");if(i[0]===e){return true}}return false},"isCookieSet"));i(c,"getCurrentLanguage",s(()=>window.drupalSettings.path.currentLanguage,"getCurrentLanguage"));var r=c;var d=class e{constructor(t,n,l,c="default"){i(this,"initializeAccordion",s(()=>{const e=this.accordion.getElementsByClassName(o.accordionItemElement);this.isSingleItemAccordion=e.length===1;Array.from(e).forEach(e=>{this.accordionItems.push(new o(e,this.localState,this.urlHash,this.updateToggleButtonLabel))});if("onbeforematch"in document.body){this.enableHiddenUntilFound()}},"initializeAccordion"));i(this,"enableHiddenUntilFound",s(()=>{this.accordionItems.forEach(e=>{e.element.classList.add("accordion-item--hidden-until-found");const t=e.element.querySelector(".accordion-item__content");if(!e.isOpen){t.hidden="until-found"}e.element.addEventListener("beforematch",()=>{e.element.style.setProperty("--js-accordion-open-time","0s");void e.element.offsetHeight;e.open();setTimeout(()=>{e.element.style.removeProperty("--js-accordion-open-time")},10)})})},"enableHiddenUntilFound"));i(this,"addEventListeners",s(()=>{if(e.isHeaderless(this.type)||this.isSingleItemAccordion){return}const t=this.accordion.getElementsByClassName(e.toggleAllElement)[0];t.addEventListener("mouseup",this.toggleItems);t.addEventListener("keypress",this.toggleItems)},"addEventListeners"));i(this,"addChildAccordion",s(e=>{this.childAccordion=e},"addChildAccordion"));i(this,"showToggleButton",s(()=>{if(e.isHeaderless(this.type)||this.isSingleItemAccordion){this.accordion.getElementsByClassName(e.toggleAllElement)[0]?.classList.add("is-hidden")}else{this.accordion.getElementsByClassName(e.toggleAllElement)[0]?.classList.remove("is-hidden")}},"showToggleButton"));i(this,"updateToggleButtonLabel",s(()=>{const t=this.accordion.getElementsByClassName(e.toggleAllElement)[0];if(!t){return}this.areAllItemsOpen()?t.querySelector("span").textContent=a.close_all?.[this.currentLanguage]??a.close_all.en:t.querySelector("span").textContent=a.open_all?.[this.currentLanguage]??a.open_all.en;this.toggleAllLabelUpdate()},"updateToggleButtonLabel"));i(this,"getAccordionItemById",s(e=>this.accordionItems.find(t=>t.id===e),"getAccordionItemById"));i(this,"toggleItems",s(()=>this.areAllItemsOpen()?this.closeAll():this.openAll(),"toggleItems"));i(this,"openAll",s(()=>{this.accordionItems.forEach(e=>e.open());this.childAccordion?.openAll();this.updateToggleButtonLabel();this.toggleAllLabelUpdate()},"openAll"));i(this,"closeAll",s(()=>{this.accordionItems.forEach(e=>e.closeWithoutFocus());this.childAccordion?.closeAll();this.updateToggleButtonLabel();this.toggleAllLabelUpdate();const t=this.accordion.getElementsByClassName(e.toggleAllElement)[0];t.focus()},"closeAll"));i(this,"toggleAllLabelUpdate",s(()=>{const t=this.accordion.getElementsByClassName(e.toggleAllElement)[0];if(t&&this.areAllItemsOpen()){t.classList.remove(e.toggleAllClosed);t.classList.add(e.toggleAllOpen)}else{t.classList.remove(e.toggleAllOpen);t.classList.add(e.toggleAllClosed)}},"toggleAllLabelUpdate"));i(this,"areAllItemsOpen",s(()=>this.accordionItems?.every(e=>e.isOpen)&&this.areChildItemsOpen(),"areAllItemsOpen"));i(this,"areChildItemsOpen",s(()=>this.childAccordion?.areAllItemsOpen()??this.accordionItems?.every(e=>e.isOpen),"areChildItemsOpen"));i(this,"isHardcoded",s(()=>this.type==="hardcoded","isHardcoded"));this.type=c;this.isSingleItemAccordion=false;this.currentLanguage=r.getCurrentLanguage();this.accordion=t;this.localState=n;this.accordionItems=[];this.childAccordion=null;this.urlHash=l;this.initializeAccordion(l);this.addEventListeners();this.showToggleButton();this.updateToggleButtonLabel()}};s(d,"HelfiAccordion");i(d,"accordionWrapper","component--accordion");i(d,"toggleAllElement","js-accordion__button--toggle-all");i(d,"toggleAllOpen","accordion__button--is-open");i(d,"toggleAllClosed","accordion__button--is-closed");i(d,"headerlessTypes",["headerless","hardcoded"]);i(d,"isHeaderless",s(e=>d.headerlessTypes.includes(e),"isHeaderless"));var h=d})();