(()=>{(function(l,n,r){let m=a=>(a||(a=["preferences","statistics"]),a.includes("bypass")?!0:n.cookieConsent.getConsentStatus(a)),p=()=>{Object.entries(r?.embedded_media_attributes||{}).forEach(([a,e])=>{if(!m(e?.cookieConsentGroups))return;l(`.embedded-content-cookie-compliance.media-${a}`).each(function(k){let d=l(this),c=document.createElement("iframe");c.classList.add("media-oembed-content"),c.src=e.src,c.title=e.title,e.allow&&(c.allow=e.allow),e.height&&(c.height=e.height),e.width&&(c.width=e.width);let s=document.createElement("div");s.appendChild(c);let o="";switch(e.type){case"video":o=d.parent().siblings(".remote-video__video-title").text().trim()||"";break;default:o=d.closest(`.component__content.${e.type}`).siblings(".component__title").text().trim()||"";break}let t=document.createElement("a"),i=document.createElement("a");switch(e.skipLinkBeforeId&&e.skipLinkAfterId&&(t.classList.add("focusable","skip-link"),t.href=`#${e.skipLinkAfterId}-${k}`,t.id=`${e.skipLinkBeforeId}-${k}`,i.classList.add("focusable","skip-link"),i.href=`#${e.skipLinkBeforeId}-${k}`,i.id=`${e.skipLinkAfterId}-${k}`),e.type){case"video":s.classList.add(`responsive-${e.type}-container`),i.classList.add("skip-link--video--after"),t.classList.add("skip-link--video--before"),i.text=n.t("Continue above the @video video",{"@video":o},{context:"Skip links"}),t.text=n.t("Continue below the @video video",{"@video":o},{context:"Skip links"}),d.replaceWith(t,s,i);break;case"chart":s.classList.add(`responsive-${e.type}-container`),i.classList.add("skip-link--chart--after"),t.classList.add("skip-link--chart--before"),i.text=o?n.t("Continue above the @chart chart",{"@chart":o},{context:"Skip links"}):n.t("Continue above the chart",{},{context:"Skip links"}),t.text=o?n.t("Continue below the @chart chart",{"@chart":o},{context:"Skip links"}):n.t("Continue below the chart",{},{context:"Skip links"}),d.replaceWith(t,s,i);break;case"journey_planner":s.classList.add("journey-planner-container"),i.classList.add("skip-link--planner--after"),t.classList.add("skip-link--planner--before"),i.text=n.t("Continue above the journey planner",{},{context:"Skip links"}),t.text=n.t("Continue below the journey planner",{},{context:"Skip links"}),d.replaceWith(t,s,i);break;case"map":s.classList.add("responsive-map-container"),i.classList.add("skip-link--map--after"),t.classList.add("skip-link--map--before"),i.text=o?n.t("Continue above the @map map",{"@map":o},{context:"Skip links"}):n.t("Continue above the map",{},{context:"Skip links"}),t.text=o?n.t("Continue below the @map map",{"@map":o},{context:"Skip links"}):n.t("Continue below the map",{},{context:"Skip links"}),d.replaceWith(t,s,i);break;default:break}})})};l(".embedded-content-cookie-compliance .js-remove").remove(),n.cookieConsent.initialized()?p():n.cookieConsent.loadFunction(p)})(jQuery,Drupal,drupalSettings);})();
