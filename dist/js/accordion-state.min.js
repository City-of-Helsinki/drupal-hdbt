(()=>{var t=Object.defineProperty;var e=(e,a,s)=>a in e?t(e,a,{enumerable:true,configurable:true,writable:true,value:s}):e[a]=s;var a=(e,a)=>t(e,"name",{value:a,configurable:true});var s=(t,a,s)=>e(t,typeof a!=="symbol"?a+"":a,s);var i=class t{};a(i,"ClientHelpers");s(i,"isCookieSet",a(t=>{const e=document.cookie;const a=e.split("; ");for(let e=0;e<a.length;e++){const s=a[e].split("=");if(s[0]===t){return true}}return false},"isCookieSet"));s(i,"getCurrentLanguage",a(()=>window.drupalSettings.path.currentLanguage,"getCurrentLanguage"));var r=i;var o=class t{constructor(e){s(this,"saveEventKey","localstorage-save-event");s(this,"loadOnChange",a(()=>{this.loadData()},"loadOnChange"));s(this,"triggerSaveEvent",a(()=>{dispatchEvent(new CustomEvent(this.saveEventKey))},"triggerSaveEvent"));s(this,"loadData",a(()=>{let e=null;try{e=localStorage.getItem(this.storageKey)}catch(e){t.handleError(e)}this.data=e?JSON.parse(e):{}},"loadData"));s(this,"saveData",a(()=>{try{localStorage.setItem(this.storageKey,JSON.stringify(this.data));this.triggerSaveEvent()}catch(e){t.handleError(e)}},"saveData"));s(this,"setValue",a((t,e)=>{this.data[t]=e;this.saveData()},"setValue"));s(this,"addValue",a((t,e)=>{if(!this.data[t]){this.data[t]=[]}if(typeof e==="string"&&!this.data[t].includes(e)){this.data[t].push(e);this.saveData()}},"addValue"));s(this,"getValue",a(t=>this.data[t]||null,"getValue"));s(this,"getValues",a(t=>this.data[t]||null,"getValues"));s(this,"removeValue",a((t,e)=>{if(this.data[t]){const a=this.data[t].indexOf(e);if(a>-1){this.data[t].splice(a,1);this.saveData()}}},"removeValue"));this.data={};this.storageKey=e;this.loadData();addEventListener(this.saveEventKey,this.loadOnChange)}static handleError(t){if(t instanceof ReferenceError){}else{throw t}}};a(o,"LocalStorageManager");var n=o;var h=class t{constructor(){s(this,"getAccordionStorageKey",a(()=>`${this.site}-accordion`,"getAccordionStorageKey"));s(this,"saveAccordionItemState",a((t,e)=>{if(!this.site)return false;if(!this.siteAccordionStates[this.page])this.siteAccordionStates[this.page]={};if(e===false){delete this.siteAccordionStates[this.page][t]}else{this.siteAccordionStates[this.page][t]=e}this.storageManager.setValue(this.getAccordionStorageKey(),JSON.stringify(this.siteAccordionStates))},"saveAccordionItemState"));s(this,"loadAccordionItemState",a(t=>{if(this.AccordionsOpen)return true;if(!this.site)return false;return!!this.pageAccordionStates[t]},"loadAccordionItemState"));this.storageManager=new n("helfi-settings");this.site=window.drupalSettings.helfi_instance_name||"";this.page=window.drupalSettings.path.currentPath;this.siteAccordionStates=JSON.parse(this.storageManager.getValue(this.getAccordionStorageKey()))||{};this.pageAccordionStates=this.siteAccordionStates[this.page]||{};this.AccordionsOpen=r.isCookieSet("helfi_accordions_open")}};a(h,"AccordionState");var c=h})();